{"version":3,"sources":["serviceWorker.js","GameAPI.js","store/modules/games.js","store/modules/auth.js","gameDetail/Overall.js","gameDetail/TopInfo.js","gameDetail/Share.js","gameDetail/Price.js","common/PhotoGallery.js","gameDetail/media/MediaImageCell.js","gameDetail/media/MediaVideoCell.js","gameDetail/media/Media.js","gameDetail/liveStream/LiveStreamCell.js","gameDetail/liveStream/LiveStream.js","gameDetail/pulse/PulseCell.js","gameDetail/pulse/Pulse.js","gameDetail/review/ReviewCell.js","gameDetail/review/Review.js","gameDetail/dlc/DLCCell.js","gameDetail/dlc/DLC.js","gameDetail/similar/SimilarCell.js","gameDetail/similar/Similar.js","common/Truncate.js","common/ExpandableLabel.js","gameDetail/GameDetail.js","common/TextMenu.js","TopMenu.js","Footer.js","rating/RatingCategory.js","Description.js","common/Overlay.js","common/ReviewEditor.js","GameReview.js","rating/RatingCard.js","rating/RatingList.js","rating/Rating.js","recommendation/RecommendationFilter.js","recommendation/RecommendationCard.js","recommendation/RecommendationList.js","store/modules/recommendation.js","recommendation/Recommendation.js","collection/CollectionFilter.js","collection/CollectionList.js","collection/CollectionCard.js","store/modules/collection.js","collection/Collection.js","keyword/KeywordCategory.js","keyword/KeywordCard.js","keyword/KeywordList.js","keyword/Keyword.js","company/CompanyCategory.js","company/CompanyCard.js","company/CompanyList.js","company/Company.js","category/CategoryCategory.js","category/CategoryCard.js","category/CategoryList.js","category/Category.js","search/SearchCategory.js","search/SearchCard.js","search/SearchList.js","search/Search.js","Main.js","serviceMenu/ServiceMenu.js","signup/Signup.js","signup/Signin.js","Header.js","App.js","store/modules/index.js","store/configure.js","index.js"],"names":["Boolean","window","location","hostname","match","API_HOST","GameCoverImg","_ref","gameData","cover","img_cover","react_default","a","createElement","src","alt","title","GameBannerImg","_ref2","banner","img_screenshots","split","categories","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","renderWebsite","websites","kind","webElement","webArray","String","forEach","website","length","push","id","parseInt","value","retWeb","find","x","getAuthUserInfo","JSON","parse","localStorage","getItem","Cookies","get","setAuthUserInfo","userInfo","objUserInfo","username","first_name","avatar","token","set","path","domain","setItem","stringify","removeAuthUserInfo","remove","removeItem","SI_SYMBOL","GameAPI","games","slug","releaseDate","developer","platforms","tags","youtube","released_at","summary","similar_games","dlc_games","all","this","p","getQueryGames","query","type","payload","createRating","_ref3","updateRating","_ref5","changeSortGames","sort","initialState","game","error","triggered","status","message","isLast","isLoading","isUpdate","gamesEpics","action$","state$","pipe","ofType","withLatestFrom","mergeMap","_ref11","_ref12","Object","slicedToArray","action","header","Content-Type","assign","Authorization","concat","ajax","map","response","catchError","of","_ref13","_ref14","queryString","_ref15","_ref16","post","_ref4","_response$response","_ref17","_ref18","put","_ref6","_response$response2","_ref19","_ref20","content","_ref8","_response$response3","_ref21","_ref22","_ref10","_response$response4","changeInput","name","needLogin","needed","form","password","code","logged","authEpics","_state$auth$form","auth","user","_ref7","_state$auth$form2","_ref9","Overall","_Component","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","randomPredict","Math","random","toFixed","reviewCount","inherits","createClass","key","className","style","backgroundImage","Component","TopInfo","handleRated","rate","_this$props","my_rating","wantCount","react_rating_default","emptySymbol","fullSymbol","fractions","initialRating","parseFloat","objectSpread","Rating","marginLeft","onChange","src_gameDetail_Overall","connect","state","dispatch","authActions","gamesActions","Share","Price","visiblePurchasePopup","handleClosePurchase","setState","handleOpenPurchase","href","target","PhotoGallery","lightboxIsOpen","currentImage","closeLightbox","bind","assertThisInitialized","gotoNext","gotoPrevious","gotoImage","handleClickImage","openLightbox","index","event","preventDefault","images","Lightbox_default","isOpen","onClickImage","onClickNext","onClickPrev","onClickThumbnail","onClose","preventScroll","showThumbnails","spinner","spinnerColor","spinnerSize","theme","MediaImageCell","data","onClick","e","onItemClick","MediaVideoCell","channel","publishedAt","viewCount","getYoutubeDetail","_this2","axios","YOUTUBE_API","then","items","snippet","statistics","channelTitle","catch","console","_this3","lib_default","text","maxLine","ellipsis","trimRight","basedOn","number","tier","log10","suffix","pow","abbreviateNumber","dist_default","fromNow","ago","Media","onItemImageClick","pg","onItemVideoClick","videoUrl","rp","player","videoAutoplay","onLoadmore","showChildCount","createChild","child","i","videos","gameDetail_media_MediaVideoCell","gameDetail_media_MediaImageCell","log","ReactPlayer_default","ref","url","width","height","playing","controls","renderChild","renderLoadMore","src_common_PhotoGallery","img","LiveStreamCell","handleClick","thumbnail_url","replace","renderTwitchThumbnail","viewer_count","user_name","LiveStream","onChangeTwitch","userId","getUserIdFromThumbnailUrl","twitchUrl","twitchChannels","gameDetail_liveStream_LiveStreamCell","failed","getTwitchGameId","TWITCH_API","headers","Client-ID","timeout","twitchGameId","getGameChannelList","responseError","thumbnailUrl","start","indexOf","end","substr","_this4","iframe","display","position","frameBorder","react_spinkit_dist_default","color","renderLoading","renderFailed","renderTwitch","IGDB_API","PulseCell","getPulseSource","source","user-key","getPulseUrl","undefined","pulseData","image","getImageFromMetadata","options","ogs","results","success","hasOwnProperty","ogImage","twitterImage","pulse_source","Date","published_at","toLocaleDateString","onError","onImageLoadFailed","renderPublishedDate","Pulse","pulseDataList","gameDetail_pulse_PulseCell","getPulseList","gameId","asyncToGenerator","regenerator_default","mark","_callee2","list","processedList","deletedPulse","wrap","_context2","prev","next","abrupt","b","pulses","pulseId","Promise","_callee","result","_context","sent","stop","_x2","apply","arguments","_x","ReviewCell","renderEditControl","mine","Review","gameDetail_review_ReviewCell","DLCCell","thumb","DLC","gameDetail_dlc_DLCCell","SimilarCell","genres","Similar","gameDetail_similar_SimilarCell","Truncate","_getPrototypeOf2","_len","args","Array","_key","spliteText","pureText","textList","link","urlPath","encodeURIComponent","trim","styles","visibility","top","left","elements","onResize","onTruncate","calcTargetWidth","measureWidth","getLines","renderLine","canvas","document","canvasContext","getContext","parentNode","removeChild","addEventListener","prevProps","children","forceUpdate","removeEventListener","cancelAnimationFrame","node","div","contentKey","HTMLElement","prototype","innerHTML","test","didTruncate","requestAnimationFrame","callback","targetWidth","floor","getBoundingClientRect","getComputedStyle","font","join","measureText","offsetWidth","numLines","lines","trimWhitespace","innerText","textLines","line","ellipsisWidth","textWords","resultLine","isHtmlMode","textRest","lower","upper","middle","slice","lastLineText","pop","splice","shift","arr","br","_this$props2","spanProps","objectWithoutProperties","targetEl","textEl","ellipsisEl","defaultProps","ExpandableLabel","expanded","truncated","handleTruncate","toggleLines","_this$state","Truncate_Truncate","GameDetail","getDetailGame","slug_","getThumbnailContent","thumbnail","renderTime2Beat","sMode","mode","seconds","round","renderTime2Beats","texts","renderRatingImage","rating_ref","level","sImagePath","renderRatingImages","rating_refs","renderDLCs","dlcs","gameDetail_dlc_DLC","params","scrollTo","src_gameDetail_TopInfo","common_ExpandableLabel","format","developers","publishers","time_to_beat","src_gameDetail_Price","src_gameDetail_Share","gameDetail_review_Review","gameDetail_liveStream_LiveStream","gameDetail_media_Media","gameDetail_similar_Similar","gameDetail_pulse_Pulse","igdb_id","recommends","recommendation","collects","collection","ratings","TextMenu","menus","item","TextMenu_TextMenuItem","active","activeItemId","TextMenuItem","Menu","handleMenuChanged","menuId","activeMenuId","redirect","Redirect","to","TextMenu_TextMenu","Footer","RatingCategory","itemId","changeSort","activeSortId","Description","modalRoot","getElementById","Overlay","el","appendChild","ReactDOM","createPortal","PureComponent","ReviewEditor","editorState","EditorState","createWithContent","convertFromRaw","createEmpty","focus","refs","editor","contentState","getCurrentContent","onContentChange","convertToRaw","handleKeyCommand","command","newState","RichUtils","onTab","toggleBlockType","toggleInlineStyle","hasText","getBlockMap","first","getType","ReviewEditor_StyleControls","onToggleBlock","onToggleStyle","Draft","blockStyleFn","getBlockStyle","placeholder","spellCheck","block","StyleButton","onToggle","imgPath","label","onMouseDown","React","STYLE_TYPES","isBlock","StyleControls","selection","getSelection","blockType","getBlockForKey","getStartKey","currentStyle","getCurrentInlineStyle","ReviewEditor_StyleButton","has","GameReview","handleContentChange","handlePost","createReview","updateReview","onChangeReview","my_review","blocks","_this$props3","Overlay_Overlay","ReviewEditor_ReviewEditor","RatingCard","handleChangeReview","review","handleOpenComment","visibleReviewWindow","handleCloseComment","renderReviewWindow","src_GameReview_0","handleClickCard","prevState","paddingTop","RatingList","src_rating_RatingCard","page","ordering","refreshPage","getQuery","sortId","retState","handleScroll","innerHeight","documentHeight","max","body","scrollHeight","documentElement","offsetHeight","clientHeight","scrollTop","ceil","TopMenu_Menu","RatingCategory_RatingCategory","Footer_Footer","src_rating_RatingList","gameActions","RecommendationFilter","RecommendationCard","RecommendationList","gameList","RecommendationCard_RecommendationCard","recommendationEpics","Recommendation","getQueryRecommendation","RecommendationFilter_RecommendationFilter","src_recommendation_RecommendationList","recommendationActions","filters","CollectionFilter","CollectionList","collectionEpics","Collection","getQueryCollection","changeSortCollection","CollectionFilter_CollectionFilter","src_collection_CollectionList","collectionActions","KeywordCategory","KeywordCard","KeywordList","src_keyword_KeywordCard","Keyword","tag","KeywordCategory_KeywordCategory","src_keyword_KeywordList","CompanyCategory","CompanyCard","CompanyList","src_company_CompanyCard","Company","company","CompanyCategory_CompanyCategory","src_company_CompanyList","CategoryCategory","CategoryCard","CategoryList","src_category_CategoryCard","Category","categoryId","categoryList","categoryName","CategoryCategory_CategoryCategory","src_category_CategoryList","SearchCategory","SearchCard","SearchList","src_search_SearchCard","Search","search","SearchCategory_SearchCategory","src_search_SearchList","Main","Switch","Route","exact","component","ServiceMenu","handleChangedMenu","ServiceMenu_ServiceMenuItem","desc","ServiceMenuItem","styleName","Signup","re_password","initialize","initializeInput","initializeError","handleSignup","register","handleSignin","onSignin","_e$target","handleChange","onKeyPress","handleKeyPress","maxLength","required","min","Signin","onSignup","login","Header","visibleSignupPopup","visibleSigninPopup","visibleServiceMenu","visibleWarningPopup","handleSignout","logout","handleOpenSignup","redirectLandingMap","handleCloseSignup","handleOpenSignin","handleCloseSignin","handleOpenServiceMenu","handleCloseServiceMenu","handleClosWarningPopup","renderSignupPopup","src_signup_Signup","renderSigninPopup","src_signup_Signin","renderServiceMenu","src_serviceMenu_ServiceMenu","checkUser","setUserTemp","context","router","history","Link","contextTypes","PropTypes","object","App","src_Header_0","src_Main","rootReducers","combineReducers","findIndex","newForm","fieldName","rootEpics","combineEpics","composeEnhancers","compose","epicMiddleware","createEpicMiddleware","createStore","applyMiddleware","run","render","es","store","BrowserRouter","basename","process","src_App_0","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.4e081dd6.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport Cookies from 'universal-cookie';\r\n\r\nconst GameAPI = {\r\n  games: [\r\n    {\r\n      id: 1,\r\n      slug: \"phantom-doctrine--1\",\r\n      title: \"Phantom Doctrine\",\r\n      img_cover: \"oaov1veblnyapulbcfdb\",\r\n      releaseDate: \"14th Aug, 2018\",\r\n      developer: \"CreativeForge Games\",\r\n      platforms: \"PlayStation 4,Xbox One,Steam\",\r\n      categories: \"RPG,Strategy,Tactical,Action,Fantasy,Thriller\",\r\n      tags: \"alternate,historical,coldwar,paxwest2017,turn-based\",\r\n      youtube: \"1W6vC3Z6DfI\",\r\n      img_screenshots: \"a5orrdieqhwtijmvztyx,gx6pjkgyfeyunqryyhon,lrydepllxfvjwfnmcspw\",\r\n      released_at: \"1976-04-19T12:59-0500\",\r\n      summary: \"Starring one of the world’s most iconic Super Heroes, Marvel’s Spider-Man features the acrobatic abilities, improvisation and web-slinging that the wall-crawler is famous for, while also introducing elements never-before-seen in a Spider-Man game. Mix and match a varied set of evolved combat mechanics, including melee, aerial combat, webs, stealth, and unique high-tech gadgets that highlight Spider-Man’s boundless acrobatic agility and active combat style. Sony Interactive Entertainment, Insomniac Games, and Marvel have teamed up to create a brand-new and authentic Spider-Man adventure.\",\r\n      similar_games: [],\r\n      dlc_games: []\r\n    },\r\n    {\r\n      id: 2,\r\n      slug: \"adventure-time-pirates-of-the-enchiridion\",\r\n      title: \"Adventure Time: Pirates Of The Enchiridion\",\r\n      img_cover: \"obqa2nxm0gocmm0qwec5\",\r\n      releaseDate: \"17th Jul, 2018\",\r\n      developer: \"Climax Studios\",\r\n      platforms: \"Nintendo Switch,Xbox One,Steam,PlayStation 4\",\r\n      categories: \"Adventure,RPG,Action,Open World\",\r\n      tags: \"fantasy\",\r\n      youtube: \"GtUAC37OdSo\",\r\n      img_screenshots: \"x9sspbdmp8tuiwtsgeou,ljz3hwmj8vcxsaa2hekj,bdzom7ytf1ssjj9hj1ne\",\r\n      released_at: \"1976-04-19T12:59-0500\",\r\n      summary: \"Starring one of the world’s most iconic Super Heroes, Marvel’s Spider-Man features the acrobatic abilities, improvisation and web-slinging that the wall-crawler is famous for, while also introducing elements never-before-seen in a Spider-Man game. Mix and match a varied set of evolved combat mechanics, including melee, aerial combat, webs, stealth, and unique high-tech gadgets that highlight Spider-Man’s boundless acrobatic agility and active combat style. Sony Interactive Entertainment, Insomniac Games, and Marvel have teamed up to create a brand-new and authentic Spider-Man adventure.\",\r\n      similar_games: [],\r\n      dlc_games: []\r\n    },\r\n    {\r\n      id: 3,\r\n      slug: \"football-manager-2019\",\r\n      title: \"Football Manager 2019\",\r\n      img_cover: \"co1h6j\",\r\n      releaseDate: \"2nd Nov, 2018\",\r\n      developer: \"Sports Interactive\",\r\n      platforms: \"Steam\",\r\n      categories: \"Simulator,Sport\",\r\n      tags: \"football,management,simulator\",\r\n      youtube: \"66-BT930evI\",\r\n      img_screenshots: \"sc5j13,sc5j12,sc5j11\",\r\n      released_at: \"1976-04-19T12:59-0500\",\r\n      summary: \"Starring one of the world’s most iconic Super Heroes, Marvel’s Spider-Man features the acrobatic abilities, improvisation and web-slinging that the wall-crawler is famous for, while also introducing elements never-before-seen in a Spider-Man game. Mix and match a varied set of evolved combat mechanics, including melee, aerial combat, webs, stealth, and unique high-tech gadgets that highlight Spider-Man’s boundless acrobatic agility and active combat style. Sony Interactive Entertainment, Insomniac Games, and Marvel have teamed up to create a brand-new and authentic Spider-Man adventure.\",\r\n      similar_games: [],\r\n      dlc_games: []\r\n    },\r\n    {\r\n      id: 4,\r\n      slug: \"red-dead-redemption-2\",\r\n      title: \"Red Dead Redemption 2\",\r\n      img_cover: \"yfk9f2lbo0r7slytuhra\",\r\n      releaseDate: \"26th Oct, 2018\",\r\n      developer: \"Rockstar Studios\",\r\n      platforms: \"PlayStation 4,Xbox One\",\r\n      categories: \"RPG,Adventure,Shooter,Action,Open world\",\r\n      tags: \"action-adventure,cowboy,horse,western\",\r\n      youtube: \"94B-38sX5fs\",\r\n      img_screenshots: \"mptosgjarjlyqxy7lqsm,dorsz0jbcecmkxvzi3t8,banftd8fgfytbsfx6mjz\",\r\n      released_at: \"1976-04-19T12:59-0500\",\r\n      summary: \"Starring one of the world’s most iconic Super Heroes, Marvel’s Spider-Man features the acrobatic abilities, improvisation and web-slinging that the wall-crawler is famous for, while also introducing elements never-before-seen in a Spider-Man game. Mix and match a varied set of evolved combat mechanics, including melee, aerial combat, webs, stealth, and unique high-tech gadgets that highlight Spider-Man’s boundless acrobatic agility and active combat style. Sony Interactive Entertainment, Insomniac Games, and Marvel have teamed up to create a brand-new and authentic Spider-Man adventure.\",\r\n      similar_games: [],\r\n      dlc_games: []\r\n    },\r\n    {\r\n      id: 5,\r\n      slug: \"phantom-doctrine--1\",\r\n      title: \"Phantom Doctrine\",\r\n      img_cover: \"oaov1veblnyapulbcfdb\",\r\n      releaseDate: \"14th Aug, 2018\",\r\n      developer: \"CreativeForge Games\",\r\n      platforms: \"PlayStation 4,Xbox One,Steam\",\r\n      categories: \"RPG,Strategy,Tactical,Action,Fantasy,Thriller\",\r\n      tags: \"alternate,historical,coldwar,paxwest2017,turn-based\",\r\n      youtube: \"1W6vC3Z6DfI\",\r\n      img_screenshots: \"a5orrdieqhwtijmvztyx,gx6pjkgyfeyunqryyhon,lrydepllxfvjwfnmcspw\",\r\n      released_at: \"1976-04-19T12:59-0500\",\r\n      summary: \"Starring one of the world’s most iconic Super Heroes, Marvel’s Spider-Man features the acrobatic abilities, improvisation and web-slinging that the wall-crawler is famous for, while also introducing elements never-before-seen in a Spider-Man game. Mix and match a varied set of evolved combat mechanics, including melee, aerial combat, webs, stealth, and unique high-tech gadgets that highlight Spider-Man’s boundless acrobatic agility and active combat style. Sony Interactive Entertainment, Insomniac Games, and Marvel have teamed up to create a brand-new and authentic Spider-Man adventure.\",\r\n      similar_games: [],\r\n      dlc_games: []\r\n    },\r\n    {\r\n      id: 6,\r\n      slug: \"adventure-time-pirates-of-the-enchiridion\",\r\n      title: \"Adventure Time: Pirates Of The Enchiridion\",\r\n      img_cover: \"obqa2nxm0gocmm0qwec5\",\r\n      releaseDate: \"17th Jul, 2018\",\r\n      developer: \"Climax Studios\",\r\n      platforms: \"Nintendo Switch,Xbox One,Steam,PlayStation 4\",\r\n      categories: \"Adventure,RPG,Action,Open World\",\r\n      tags: \"fantasy\",\r\n      youtube: \"GtUAC37OdSo\",\r\n      img_screenshots: \"x9sspbdmp8tuiwtsgeou,ljz3hwmj8vcxsaa2hekj,bdzom7ytf1ssjj9hj1ne\",\r\n      released_at: \"1976-04-19T12:59-0500\",\r\n      summary: \"Starring one of the world’s most iconic Super Heroes, Marvel’s Spider-Man features the acrobatic abilities, improvisation and web-slinging that the wall-crawler is famous for, while also introducing elements never-before-seen in a Spider-Man game. Mix and match a varied set of evolved combat mechanics, including melee, aerial combat, webs, stealth, and unique high-tech gadgets that highlight Spider-Man’s boundless acrobatic agility and active combat style. Sony Interactive Entertainment, Insomniac Games, and Marvel have teamed up to create a brand-new and authentic Spider-Man adventure.\",\r\n      similar_games: [],\r\n      dlc_games: []\r\n    },\r\n    {\r\n      id: 7,\r\n      slug: \"football-manager-2019\",\r\n      title: \"Football Manager 2019\",\r\n      img_cover: \"co1h6j\",\r\n      releaseDate: \"2nd Nov, 2018\",\r\n      developer: \"Sports Interactive\",\r\n      platforms: \"Steam\",\r\n      categories: \"Simulator,Sport\",\r\n      tags: \"football,management,simulator\",\r\n      youtube: \"66-BT930evI\",\r\n      img_screenshots: \"sc5j13,sc5j12,sc5j11\",\r\n      released_at: \"1976-04-19T12:59-0500\",\r\n      summary: \"Starring one of the world’s most iconic Super Heroes, Marvel’s Spider-Man features the acrobatic abilities, improvisation and web-slinging that the wall-crawler is famous for, while also introducing elements never-before-seen in a Spider-Man game. Mix and match a varied set of evolved combat mechanics, including melee, aerial combat, webs, stealth, and unique high-tech gadgets that highlight Spider-Man’s boundless acrobatic agility and active combat style. Sony Interactive Entertainment, Insomniac Games, and Marvel have teamed up to create a brand-new and authentic Spider-Man adventure.\",\r\n      similar_games: [],\r\n      dlc_games: []\r\n    },\r\n    {\r\n      id: 8,\r\n      slug: \"red-dead-redemption-2\",\r\n      title: \"Red Dead Redemption 2\",\r\n      img_cover: \"yfk9f2lbo0r7slytuhra\",\r\n      releaseDate: \"26th Oct, 2018\",\r\n      developer: \"Rockstar Studios\",\r\n      platforms: \"PlayStation 4,Xbox One\",\r\n      categories: \"RPG,Adventure,Shooter,Action,Open world\",\r\n      tags: \"action-adventure,cowboy,horse,western\",\r\n      youtube: \"94B-38sX5fs\",\r\n      img_screenshots: \"mptosgjarjlyqxy7lqsm,dorsz0jbcecmkxvzi3t8,banftd8fgfytbsfx6mjz\",\r\n      released_at: \"1976-04-19T12:59-0500\",\r\n      summary: \"Starring one of the world’s most iconic Super Heroes, Marvel’s Spider-Man features the acrobatic abilities, improvisation and web-slinging that the wall-crawler is famous for, while also introducing elements never-before-seen in a Spider-Man game. Mix and match a varied set of evolved combat mechanics, including melee, aerial combat, webs, stealth, and unique high-tech gadgets that highlight Spider-Man’s boundless acrobatic agility and active combat style. Sony Interactive Entertainment, Insomniac Games, and Marvel have teamed up to create a brand-new and authentic Spider-Man adventure.\",\r\n      similar_games: [],\r\n      dlc_games: []\r\n    },\r\n    {\r\n      id: 9,\r\n      slug: \"phantom-doctrine--1\",\r\n      title: \"Phantom Doctrine\",\r\n      img_cover: \"oaov1veblnyapulbcfdb\",\r\n      releaseDate: \"14th Aug, 2018\",\r\n      developer: \"CreativeForge Games\",\r\n      platforms: \"PlayStation 4,Xbox One,Steam\",\r\n      categories: \"RPG,Strategy,Tactical,Action,Fantasy,Thriller\",\r\n      tags: \"alternate,historical,coldwar,paxwest2017,turn-based\",\r\n      youtube: \"1W6vC3Z6DfI\",\r\n      img_screenshots: \"a5orrdieqhwtijmvztyx,gx6pjkgyfeyunqryyhon,lrydepllxfvjwfnmcspw\",\r\n      released_at: \"1976-04-19T12:59-0500\",\r\n      summary: \"Starring one of the world’s most iconic Super Heroes, Marvel’s Spider-Man features the acrobatic abilities, improvisation and web-slinging that the wall-crawler is famous for, while also introducing elements never-before-seen in a Spider-Man game. Mix and match a varied set of evolved combat mechanics, including melee, aerial combat, webs, stealth, and unique high-tech gadgets that highlight Spider-Man’s boundless acrobatic agility and active combat style. Sony Interactive Entertainment, Insomniac Games, and Marvel have teamed up to create a brand-new and authentic Spider-Man adventure.\",\r\n      similar_games: [],\r\n      dlc_games: []\r\n    },\r\n    {\r\n      id: 10,\r\n      slug: \"adventure-time-pirates-of-the-enchiridion\",\r\n      title: \"Adventure Time: Pirates Of The Enchiridion\",\r\n      img_cover: \"obqa2nxm0gocmm0qwec5\",\r\n      releaseDate: \"17th Jul, 2018\",\r\n      developer: \"Climax Studios\",\r\n      platforms: \"Nintendo Switch,Xbox One,Steam,PlayStation 4\",\r\n      categories: \"Adventure,RPG,Action,Open World\",\r\n      tags: \"fantasy\",\r\n      youtube: \"GtUAC37OdSo\",\r\n      img_screenshots: \"x9sspbdmp8tuiwtsgeou,ljz3hwmj8vcxsaa2hekj,bdzom7ytf1ssjj9hj1ne\",\r\n      released_at: \"1976-04-19T12:59-0500\",\r\n      summary: \"Starring one of the world’s most iconic Super Heroes, Marvel’s Spider-Man features the acrobatic abilities, improvisation and web-slinging that the wall-crawler is famous for, while also introducing elements never-before-seen in a Spider-Man game. Mix and match a varied set of evolved combat mechanics, including melee, aerial combat, webs, stealth, and unique high-tech gadgets that highlight Spider-Man’s boundless acrobatic agility and active combat style. Sony Interactive Entertainment, Insomniac Games, and Marvel have teamed up to create a brand-new and authentic Spider-Man adventure.\",\r\n      similar_games: [],\r\n      dlc_games: []\r\n    },\r\n    {\r\n      id: 11,\r\n      slug: \"football-manager-2019\",\r\n      title: \"Football Manager 2019\",\r\n      img_cover: \"co1h6j\",\r\n      releaseDate: \"2nd Nov, 2018\",\r\n      developer: \"Sports Interactive\",\r\n      platforms: \"Steam\",\r\n      categories: \"Simulator,Sport\",\r\n      tags: \"football,management,simulator\",\r\n      youtube: \"66-BT930evI\",\r\n      img_screenshots: \"sc5j13,sc5j12,sc5j11\",\r\n      released_at: \"1976-04-19T12:59-0500\",\r\n      summary: \"Starring one of the world’s most iconic Super Heroes, Marvel’s Spider-Man features the acrobatic abilities, improvisation and web-slinging that the wall-crawler is famous for, while also introducing elements never-before-seen in a Spider-Man game. Mix and match a varied set of evolved combat mechanics, including melee, aerial combat, webs, stealth, and unique high-tech gadgets that highlight Spider-Man’s boundless acrobatic agility and active combat style. Sony Interactive Entertainment, Insomniac Games, and Marvel have teamed up to create a brand-new and authentic Spider-Man adventure.\",\r\n      similar_games: [],\r\n      dlc_games: []\r\n    },\r\n    {\r\n      id: 12,\r\n      slug: \"red-dead-redemption-2\",\r\n      title: \"Red Dead Redemption 2\",\r\n      img_cover: \"yfk9f2lbo0r7slytuhra\",\r\n      releaseDate: \"26th Oct, 2018\",\r\n      developer: \"Rockstar Studios\",\r\n      platforms: \"PlayStation 4,Xbox One\",\r\n      categories: \"RPG,Adventure,Shooter,Action,Open world\",\r\n      tags: \"action-adventure,cowboy,horse,western\",\r\n      youtube: \"94B-38sX5fs\",\r\n      img_screenshots: \"mptosgjarjlyqxy7lqsm,dorsz0jbcecmkxvzi3t8,banftd8fgfytbsfx6mjz\",\r\n      released_at: \"1976-04-19T12:59-0500\",\r\n      summary: \"Starring one of the world’s most iconic Super Heroes, Marvel’s Spider-Man features the acrobatic abilities, improvisation and web-slinging that the wall-crawler is famous for, while also introducing elements never-before-seen in a Spider-Man game. Mix and match a varied set of evolved combat mechanics, including melee, aerial combat, webs, stealth, and unique high-tech gadgets that highlight Spider-Man’s boundless acrobatic agility and active combat style. Sony Interactive Entertainment, Insomniac Games, and Marvel have teamed up to create a brand-new and authentic Spider-Man adventure.\",\r\n      similar_games: [],\r\n      dlc_games: []\r\n    },\r\n  ],\r\n\r\n  all: function() { \r\n    return this.games \r\n  },\r\n\r\n  get: function(id) {\r\n    const isGame = p => p.id === id\r\n    return this.games.find(isGame)\r\n  }\r\n}\r\n\r\n//export const API_HOST = \"https://api.playgroundz.net/api\"; // real\r\nexport const API_HOST = \"\"; // test\r\n\r\nexport function GameCoverImg({ gameData }) {\r\n  var cover = 'https://images.igdb.com/igdb/image/upload/t_cover_big/';\r\n  if(gameData.img_cover === '')\r\n    cover = 'https://upload.wikimedia.org/wikipedia/commons/5/59/Empty.png';\r\n  else\r\n    cover = cover + gameData.img_cover + '.jpg';\r\n\r\n  return (\r\n    <img src={cover} alt={gameData.title} />\r\n  )\r\n}\r\n\r\nexport function GameBannerImg({ gameData }) {\r\n  var banner = 'https://images.igdb.com/igdb/image/upload/t_screenshot_big/';\r\n  if(!gameData.img_cover || gameData.img_cover === '')\r\n    banner = 'https://upload.wikimedia.org/wikipedia/commons/5/59/Empty.png';\r\n  else\r\n    banner = banner + gameData.img_screenshots.split(\",\")[0] + '.jpg';\r\n\r\n  return (\r\n    <img src={banner} alt={gameData.title} />\r\n  )\r\n}\r\n\r\nexport const categories = {\r\n  1: 'Action',\r\n  2: 'Adventure',\r\n  3: 'Sports',\r\n  4: 'Racing',\r\n  5: 'RPG',\r\n  6: 'Strategy',\r\n  7: 'Platform',\r\n  8: 'Music',\r\n  9: 'Puzzle',\r\n  10: 'Collectible Card Game',\r\n  11: 'Arcade',\r\n  12: 'Survival',\r\n  13: 'Horror',\r\n  14: 'Shooter',\r\n  15: 'Party',\r\n  16: 'Casual',\r\n  17: 'Fighting',\r\n  18: 'Simulation',\r\n  19: 'Casino',\r\n  20: 'Interactive Stories',\r\n  21: 'Stealth',\r\n  22: 'Family',\r\n  23: 'Creative',\r\n  24: 'Table/Board',\r\n  25: 'Free to Play',\r\n  26: 'Mature',\r\n  27: 'Educational',\r\n  28: 'SciFi',\r\n  29: 'Fantasy',\r\n  30: 'Thriller',\r\n  31: 'Comedy',\r\n  32: 'Drama',\r\n  33: 'Romance',\r\n  34: 'Relaxing',\r\n  35: 'Gore',\r\n  36: 'Crime',\r\n  37: 'Open World',\r\n  38: 'Indie',\r\n  39: 'Online',\r\n  40: 'Psychological',\r\n  41: 'Mystery',\r\n  42: 'Bundles',\r\n  43: 'Non-fiction',\r\n  44: 'Kids',\r\n  45: 'Point-and-click',\r\n  46: 'Hack and slash/Beat \\'em up',\r\n  47: 'Historical',\r\n  48: 'Sandbox',\r\n  49: 'Warfare',\r\n  50: 'Erotic',\r\n  51: 'Pinball',\r\n  52: 'Tactical',\r\n  53: 'Real Time',\r\n  54: 'Business',\r\n}\r\n\r\nexport const getCategoryName = (category) => {\r\n  return categories[category];\r\n}\r\n\r\nexport const platforms = {\r\n  1: 'PC',\r\n  2: 'PlayStation 2',\r\n  3: 'PlayStation 3',\r\n  4: 'PlayStation 4',\r\n  5: 'PlayStation Vita',\r\n  6: 'PlayStation Portable',\r\n  7: 'PlayStation Network',\r\n  8: 'Xbox 360',\r\n  9: 'Xbox One',\r\n  10: 'Xbox Live Arcade',\r\n  11: 'Nintendo 3DS',\r\n  12: 'Nintendo Switch',\r\n  13: 'Nintendo GameCube',\r\n  14: 'Wii',\r\n  15: 'Wii U',\r\n  16: 'Android',\r\n  17: 'iOS',\r\n  18: 'Windows Phone',\r\n  19: 'BlackBerry OS',\r\n  20: 'SteamOS',\r\n  21: 'Linux',\r\n  22: 'Mac',\r\n  23: 'Ouya',\r\n  24: 'Game Boy Advance',\r\n  25: 'Xbox',\r\n  26: 'Nintendo DS',\r\n  27: 'Arcade',\r\n  28: 'Web browser',\r\n  29: 'Neo Geo AES',\r\n  30: 'Neo Geo MVS',\r\n  31: 'Playstation',\r\n  32: 'Super Nintendo Entertainment System (SNES)',\r\n  33: 'Atari ST/STE',\r\n  34: 'PC DOS',\r\n  35: 'Amiga',\r\n  36: 'Apple II',\r\n  37: 'Commodore C64/128',\r\n  38: 'ZX Spectrum',\r\n  39: 'Amstrad CPC',\r\n  40: 'Virtual Console Nintendo)',\r\n  41: 'Nintendo Entertainment System NES)',\r\n  42: 'Sega Master System',\r\n  43: 'Neo Geo CD',\r\n  44: 'Oculus VR',\r\n  45: 'SteamVR',\r\n  46: 'PlayStation VR',\r\n  47: 'Sega Mega Drive/Genesis',\r\n  48: 'Dreamcast',\r\n  49: 'Windows Mixed Reality',\r\n  50: 'Sega Game Gear',\r\n  51: 'SG-1000',\r\n  52: 'Sega Saturn',\r\n  53: '3DO Interactive Multiplayer',\r\n  54: 'Mobile',\r\n  55: 'Amazon Fire TV',\r\n  56: 'MSX',\r\n  57: 'Atari Lynx',\r\n  58: 'Game Boy Color',\r\n  59: 'Super Famicom',\r\n  60: 'WiiWare',\r\n  61: 'Apple IIGS',\r\n  62: 'Mobile',\r\n  63: 'PlayStation',\r\n  64: 'Sega CD',\r\n  65: 'Sharp X1',\r\n  66: 'WiiWare',\r\n  67: 'New Nintendo 3DS',\r\n  68: 'Neo Geo Pocket Color',\r\n  69: 'Nintendo 64',\r\n}\r\n\r\nexport const getPlatformName = (platform) => {\r\n  return platforms[platform];\r\n}\r\n\r\nexport const getCategoriesName = (categories) => {\r\n  var categoriesName = '';\r\n  categories.map((category, i) => {\r\n    if (categories.length-1 === i)\r\n      categoriesName = categoriesName + getCategoryName(category);\r\n    else\r\n      categoriesName = categoriesName + `${getCategoryName(category)}, `;\r\n  })\r\n  return categoriesName;\r\n}\r\n\r\nexport const getPlatformsName = (platforms) => {\r\n  var platformsName = '';\r\n  platforms.map((platform, i) => {\r\n    if (platforms.length-1 === i)\r\n      platformsName = platformsName + getPlatformName(platform);\r\n    else\r\n      platformsName = platformsName + `${getPlatformName(platform)}, `;\r\n  })\r\n  return platformsName;\r\n}\r\n\r\nexport const renderWebsite = (websites, kind) => {\r\n  let webArray = [];\r\n  let webElement;\r\n  String(websites).split(',').forEach(function(website) {\r\n    webElement = website.split('|');\r\n    if(webElement.length === 2) {\r\n      webArray.push({\r\n        id: parseInt(webElement[0]), value: webElement[1]\r\n      });\r\n    }\r\n  });\r\n\r\n  let retWeb = webArray.find(x => x.id === kind);\r\n  return (retWeb? retWeb.value: null);\r\n}\r\n\r\nexport const getAuthUserInfo = () => {\r\n    if(API_HOST === '') return JSON.parse(localStorage.getItem(\"userInfo\"));\r\n\r\n    var cookies = new Cookies();\r\n    return cookies.get(\"userInfo\");\r\n}\r\n\r\nexport const setAuthUserInfo = (userInfo) => {\r\n    if(getAuthUserInfo()) return;\r\n\r\n    var objUserInfo = {\r\n      id: userInfo.id,\r\n      username: userInfo.username,\r\n      first_name: userInfo.first_name,\r\n      avatar: userInfo.avatar,\r\n      token: userInfo.token\r\n    };\r\n\r\n    if(API_HOST === '') {\r\n        localStorage.setItem(\r\n            \"userInfo\", JSON.stringify(objUserInfo)\r\n        );\r\n        return;\r\n    }\r\n\r\n    var cookies = new Cookies();\r\n    cookies.set(\r\n        \"userInfo\", objUserInfo,\r\n        { path: '/', domain: '.playgroundz.net' }\r\n    );\r\n}\r\n\r\nexport const removeAuthUserInfo = () => {\r\n    if(!getAuthUserInfo()) return;\r\n\r\n    if(API_HOST === '') {\r\n        localStorage.removeItem(\"userInfo\");\r\n        return;\r\n    }\r\n\r\n    var cookies = new Cookies();\r\n    cookies.remove(\"userInfo\", { path: '/', domain: '.playgroundz.net' });\r\n}\r\n\r\n\r\nvar SI_SYMBOL = [\"\", \"k\", \"M\", \"G\", \"T\", \"P\", \"E\"];\r\n\r\nexport const abbreviateNumber = (number) => {\r\n    var tier = Math.log10(number) / 3 | 0;\r\n\r\n    if(tier == 0) \r\n    return number;\r\n\r\n    var suffix = SI_SYMBOL[tier];\r\n    var scale = Math.pow(10, tier * 3);\r\n    var scaled = number / scale;\r\n    \r\n    return scaled.toFixed(1) + suffix;\r\n}\r\n\r\nexport default GameAPI;\r\n","import { ajax } from \"rxjs/observable/dom/ajax\";\r\nimport { of } from \"rxjs\";\r\nimport { map, mergeMap, catchError, withLatestFrom, delay } from \"rxjs/operators\";\r\nimport { ofType } from \"redux-observable\";\r\nimport queryString from 'query-string';\r\n\r\nimport { API_HOST, getAuthUserInfo, removeAuthUserInfo } from '../../GameAPI';\r\n\r\nconst INITIALIZE_UPDATE = \"games/INITIALIZE_UPDATE\";\r\n\r\nconst GET_DETAIL_GAME = \"games/GET_DETAIL_GAME\";\r\nconst GET_DETAIL_GAME_SUCCESS = \"games/GET_DETAIL_GAME_SUCCESS\";\r\nconst GET_DETAIL_GAME_FAILURE = \"games/GET_DETAIL_GAME_FAILURE\";\r\n\r\nconst GET_QUERY_GAMES = \"games/GET_QUERY_GAMES\";\r\nconst GET_QUERY_GAMES_SUCCESS = \"games/GET_QUERY_GAMES_SUCCESS\";\r\nconst GET_QUERY_GAMES_FAILURE = \"games/GET_QUERY_GAMES_FAILURE\";\r\n\r\nconst CREATE_RATING = \"games/CREATE_RATING\";\r\nconst CREATE_RATING_SUCCESS = \"games/CREATE_RATING_SUCCESS\";\r\nconst CREATE_RATING_FAILURE = \"games/CREATE_RATING_FAILURE\";\r\n\r\nconst UPDATE_RATING = \"games/UPDATE_RATING\";\r\nconst UPDATE_RATING_SUCCESS = \"games/UPDATE_RATING_SUCCESS\";\r\nconst UPDATE_RATING_FAILURE = \"games/UPDATE_RATING_FAILURE\";\r\n\r\nconst CREATE_REVIEW = \"games/CREATE_REVIEW\";\r\nconst CREATE_REVIEW_SUCCESS = \"games/CREATE_REVIEW_SUCCESS\";\r\nconst CREATE_REVIEW_FAILURE = \"games/CREATE_REVIEW_FAILURE\";\r\n\r\nconst UPDATE_REVIEW = \"games/UPDATE_REVIEW\";\r\nconst UPDATE_REVIEW_SUCCESS = \"games/UPDATE_REVIEW_SUCCESS\";\r\nconst UPDATE_REVIEW_FAILURE = \"games/UPDATE_REVIEW_FAILURE\";\r\n\r\nconst CHANGE_SORT_GAMES = \"games/CHANGE_SORT_GAMES\";\r\n\r\nexport const initializeUpdate = () => ({\r\n    type: INITIALIZE_UPDATE\r\n  });\r\n  \r\nexport const getDetailGame = slug => ({\r\n    type: GET_DETAIL_GAME,\r\n    payload: {\r\n        slug\r\n    }\r\n});\r\n\r\nexport const getDetailGameSuccess = ({game}) => ({\r\n    type: GET_DETAIL_GAME_SUCCESS,\r\n    payload: {\r\n        game\r\n    }\r\n});\r\n\r\nexport const getDetailGameFailure = error => ({\r\n    type: GET_DETAIL_GAME_FAILURE,\r\n    payload: {\r\n        error\r\n    }\r\n});\r\n\r\nexport const getQueryGames = (query) => ({\r\n    type: GET_QUERY_GAMES,\r\n    payload: {\r\n        query\r\n    }\r\n});\r\n  \r\nexport const getQueryGamesSuccess = ({ games, query }) => ({\r\n    type: GET_QUERY_GAMES_SUCCESS,\r\n    payload: {\r\n        games,\r\n        query\r\n    }\r\n});\r\n  \r\nexport const getQueryGamesFailure = error => ({\r\n    type: GET_QUERY_GAMES_FAILURE,\r\n    payload: {\r\n        error\r\n    }\r\n});\r\n\r\nexport const createRating = ({slug, value}) => ({\r\n    type: CREATE_RATING,\r\n    payload: {\r\n        slug,\r\n        value\r\n    }\r\n});\r\n\r\nexport const createRatingSuccess = ({slug, id, value}) => ({\r\n    type: CREATE_RATING_SUCCESS,\r\n    payload: {\r\n        slug,\r\n        id,\r\n        value\r\n    }\r\n});\r\n\r\nexport const createRatingFailure = error => ({\r\n    type: CREATE_RATING_FAILURE,\r\n    payload: {\r\n        error\r\n    }\r\n});\r\n\r\nexport const updateRating = ({slug, id, value}) => ({\r\n    type: UPDATE_RATING,\r\n    payload: {\r\n        slug,\r\n        id,\r\n        value\r\n    }\r\n});\r\n\r\nexport const updateRatingSuccess = ({slug, id, value}) => ({\r\n    type: UPDATE_RATING_SUCCESS,\r\n    payload: {\r\n        slug,\r\n        id,\r\n        value\r\n    }\r\n});\r\n\r\nexport const updateRatingFailure = error => ({\r\n    type: UPDATE_RATING_FAILURE,\r\n    payload: {\r\n        error\r\n    }\r\n});\r\n\r\nexport const createReview = ({slug, content}) => ({\r\n    type: CREATE_REVIEW,\r\n    payload: {\r\n        slug,\r\n        content\r\n    }\r\n});\r\n\r\nexport const createReviewSuccess = ({slug, id, content}) => ({\r\n    type: CREATE_REVIEW_SUCCESS,\r\n    payload: {\r\n        slug,\r\n        id,\r\n        content\r\n    }\r\n});\r\n\r\nexport const createReviewFailure = error => ({\r\n    type: CREATE_REVIEW_FAILURE,\r\n    payload: {\r\n        error\r\n    }\r\n});\r\n\r\nexport const updateReview = ({slug, id, content}) => ({\r\n    type: UPDATE_REVIEW,\r\n    payload: {\r\n        slug,\r\n        id,\r\n        content\r\n    }\r\n});\r\n\r\nexport const updateReviewSuccess = ({slug, id, content}) => ({\r\n    type: UPDATE_REVIEW_SUCCESS,\r\n    payload: {\r\n        slug,\r\n        id,\r\n        content\r\n    }\r\n});\r\n\r\nexport const updateReviewFailure = error => ({\r\n    type: UPDATE_REVIEW_FAILURE,\r\n    payload: {\r\n        error\r\n    }\r\n});\r\n\r\nexport const changeSortGames = sort => ({\r\n    type: CHANGE_SORT_GAMES,\r\n    payload: {\r\n        sort\r\n    }\r\n});\r\n\r\nconst getDetailGameEpic = (action$, state$) => {\r\n    return action$.pipe(\r\n        ofType(GET_DETAIL_GAME),\r\n        withLatestFrom(state$),\r\n        mergeMap(([action, state]) => {\r\n            const slug = action.payload.slug;\r\n            let userInfo = getAuthUserInfo();\r\n            let header = { \"Content-Type\": \"application/json\" }\r\n            if(userInfo) header = Object.assign(header, { Authorization: `token ${userInfo.token}` })\r\n            return ajax\r\n            .get(`${API_HOST}/games/${slug}/`, header)\r\n            .pipe(\r\n                map(response => {\r\n                    const game = response.response;\r\n                    return getDetailGameSuccess({ game });\r\n                }),\r\n                catchError(error =>\r\n                    of({\r\n                        type: GET_DETAIL_GAME_FAILURE,\r\n                        payload: error,\r\n                        error: true\r\n                    })\r\n                )\r\n            );\r\n        })\r\n    );\r\n};\r\n\r\nconst getQueryGamesEpic = (action$, state$) => {\r\n    return action$.pipe(\r\n        ofType(GET_QUERY_GAMES),\r\n        withLatestFrom(state$),\r\n        mergeMap(([action, state]) => {\r\n            const { query } = action.payload.query;\r\n            let userInfo = getAuthUserInfo();\r\n            let header = { \"Content-Type\": \"application/json\" }\r\n            if(userInfo) header = Object.assign(header, { Authorization: `token ${userInfo.token}` })\r\n            return ajax\r\n            .get(`${API_HOST}/games/?${queryString.stringify(query)}`, header)\r\n            .pipe(\r\n                map(response => {\r\n                    const games = response.response;\r\n                    return getQueryGamesSuccess({ games, query });\r\n                }),\r\n                catchError(error =>\r\n                    of({\r\n                        type: GET_QUERY_GAMES_FAILURE,\r\n                        payload: error,\r\n                        error: true\r\n                    })\r\n                )\r\n            );\r\n        })\r\n    );\r\n};\r\n\r\nconst createRatingEpic = (action$, state$) => {\r\n    return action$.pipe(\r\n        ofType(CREATE_RATING),\r\n        withLatestFrom(state$),\r\n        mergeMap(([action, state]) => {\r\n            const slug = action.payload.slug\r\n            let userInfo = getAuthUserInfo();\r\n            let token = userInfo ? userInfo.token : null;\r\n            return ajax\r\n            .post(\r\n            `${API_HOST}/ratings/create/?type=game&slug=${slug}`,\r\n              { value: action.payload.value },\r\n              {\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: `token ${token}`\r\n              }\r\n            )\r\n            .pipe(\r\n                map(response => {\r\n                    const { id, value } = response.response;\r\n                    return createRatingSuccess({ slug, id, value });\r\n                }),\r\n                catchError(error =>\r\n                    of({\r\n                        type: CREATE_RATING_FAILURE,\r\n                        payload: error,\r\n                        error: true\r\n                    })\r\n                )\r\n            );\r\n        })\r\n    );\r\n};\r\n\r\nconst updateRatingEpic = (action$, state$) => {\r\n    return action$.pipe(\r\n        ofType(UPDATE_RATING),\r\n        withLatestFrom(state$),\r\n        mergeMap(([action, state]) => {\r\n            let slug = action.payload.slug\r\n            let userInfo = getAuthUserInfo();\r\n            let token = userInfo ? userInfo.token : null;\r\n            return ajax\r\n            .put(\r\n            `${API_HOST}/ratings/${action.payload.id}/`,\r\n              { value: action.payload.value },\r\n              {\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: `token ${token}`\r\n              }\r\n            )\r\n            .pipe(\r\n                map(response => {\r\n                    const { id, value } = response.response;\r\n                    return updateRatingSuccess({ slug, id, value });\r\n                }),\r\n                catchError(error =>\r\n                    of({\r\n                        type: UPDATE_RATING_FAILURE,\r\n                        payload: error,\r\n                        error: true\r\n                    })\r\n                )\r\n            );\r\n        })\r\n    );\r\n};\r\n\r\nconst createReviewEpic = (action$, state$) => {\r\n    return action$.pipe(\r\n        ofType(CREATE_REVIEW),\r\n        withLatestFrom(state$),\r\n        mergeMap(([action, state]) => {\r\n            let slug = action.payload.slug\r\n            let userInfo = getAuthUserInfo();\r\n            let token = userInfo ? userInfo.token : null;\r\n            return ajax\r\n            .post(\r\n            `${API_HOST}/reviews/create/?type=game&slug=${slug}`,\r\n              { content: action.payload.content },\r\n              {\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: `token ${token}`\r\n              }\r\n            )\r\n            .pipe(\r\n                map(response => {\r\n                    const { id, content } = response.response;\r\n                    return createReviewSuccess({ slug, id, content });\r\n                }),\r\n                catchError(error =>\r\n                    of({\r\n                        type: CREATE_REVIEW_FAILURE,\r\n                        payload: error,\r\n                        error: true\r\n                    })\r\n                )\r\n            );\r\n        })\r\n    );\r\n};\r\n\r\nconst updateReviewEpic = (action$, state$) => {\r\n    return action$.pipe(\r\n        ofType(UPDATE_REVIEW),\r\n        withLatestFrom(state$),\r\n        mergeMap(([action, state]) => {\r\n            let slug = action.payload.slug\r\n            let userInfo = getAuthUserInfo();\r\n            let token = userInfo ? userInfo.token : null;\r\n            return ajax\r\n            .put(\r\n            `${API_HOST}/reviews/${action.payload.id}/`,\r\n              { content: action.payload.content },\r\n              {\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: `token ${token}`\r\n              }\r\n            )\r\n            .pipe(\r\n                map(response => {\r\n                    const { id, content } = response.response;\r\n                    return updateReviewSuccess({ slug, id, content });\r\n                }),\r\n                catchError(error =>\r\n                    of({\r\n                        type: UPDATE_REVIEW_FAILURE,\r\n                        payload: error,\r\n                        error: true\r\n                    })\r\n                )\r\n            );\r\n        })\r\n    );\r\n};\r\n\r\nconst initialState = {\r\n    sort: 0,\r\n    games: [],\r\n    game: {},\r\n    error: {\r\n        triggered: false,\r\n        status: 200,\r\n        message: \"\"\r\n    },\r\n    isLast: false,\r\n    isLoading: false,\r\n    isUpdate: false\r\n};\r\n\r\nexport const games = (state = initialState, action) => {\r\n    let games = state.games;\r\n    let game = state.game;\r\n    let index = 0;\r\n\r\n    if(action.payload) {\r\n        if(action.payload.status === 401 && getAuthUserInfo())\r\n            removeAuthUserInfo(); // 장시간 지난 상태로 경과되어 인증에러가 난 경우\r\n    }\r\n\r\n    switch (action.type) {\r\n        case INITIALIZE_UPDATE:\r\n            return {\r\n                ...state,\r\n                isUpdate: false\r\n            };\r\n        case GET_DETAIL_GAME_SUCCESS:\r\n            return {\r\n                ...state,\r\n                game: action.payload.game\r\n            };\r\n        case GET_DETAIL_GAME_FAILURE:\r\n            return {\r\n                ...state,\r\n                error: {\r\n                    triggered: true,\r\n                    status: action.payload.status,\r\n                    message: \"Error! Please Try Again!\"\r\n                }\r\n            };\r\n        case GET_QUERY_GAMES:\r\n            return {\r\n                ...state,\r\n                isLoading: true\r\n            };\r\n        case GET_QUERY_GAMES_SUCCESS:\r\n            return {\r\n                ...state,\r\n                games: action.payload.query.page > 1 ? state.games.concat(action.payload.games.results) : action.payload.games.results,\r\n                isLoading: false\r\n            };\r\n        case GET_QUERY_GAMES_FAILURE:\r\n            return {\r\n                ...state,\r\n                error: {\r\n                    triggered: true,\r\n                    status: action.payload.status,\r\n                    message: \"Error while loading! Please Try Again!\"\r\n                }\r\n            };\r\n        case CREATE_RATING_SUCCESS:\r\n            index = games.findIndex((game, i) => {\r\n                return game.slug === action.payload.slug;\r\n            });\r\n            games[parseInt(index, 10)].my_rating = {\r\n                \"id\": action.payload.id, \"value\": action.payload.value\r\n            };\r\n            return {\r\n                ...state,\r\n                games\r\n            }\r\n        case CREATE_RATING_FAILURE:\r\n            return {\r\n                ...state,\r\n                error: {\r\n                    triggered: true,\r\n                    status: action.payload.status,\r\n                    message: \"Error! Please Try Rate!\"\r\n                }\r\n            }\r\n        case UPDATE_RATING_SUCCESS:\r\n            index = games.findIndex((game, i) => {\r\n                return game.slug === action.payload.slug;\r\n            });\r\n            games[parseInt(index, 10)].my_rating = {\r\n                \"id\": action.payload.id, \"value\": action.payload.value\r\n            };\r\n            return {\r\n                ...state,\r\n                games\r\n            }\r\n        case UPDATE_RATING_FAILURE:\r\n            return {\r\n                ...state,\r\n                error: {\r\n                    triggered: true,\r\n                    status: action.payload.status,\r\n                    message: \"Error! Please Try Rate!\"\r\n                }\r\n            }\r\n        case CREATE_REVIEW_SUCCESS:\r\n            index = games.findIndex((game, i) => {\r\n                return game.slug === action.payload.slug;\r\n            });\r\n            if(games[parseInt(index, 10)]) {\r\n                games[parseInt(index, 10)].my_review = {\r\n                    \"id\": action.payload.id, \"content\": action.payload.content\r\n                }\r\n            }\r\n            if(game) {\r\n                game.my_review = {\r\n                    \"id\": action.payload.id, \"content\": action.payload.content\r\n                }\r\n            }\r\n            return {\r\n                ...state,\r\n                games,\r\n                game,\r\n                isUpdate: true\r\n            }\r\n        case CREATE_REVIEW_FAILURE:\r\n            return {\r\n                ...state,\r\n                error: {\r\n                    triggered: true,\r\n                    status: action.payload.status,\r\n                    message: \"Error! Please Try Review!\"\r\n                }\r\n            }\r\n        case UPDATE_REVIEW_SUCCESS:\r\n            index = games.findIndex((game, i) => {\r\n                return game.slug === action.payload.slug;\r\n            });\r\n            if(games[parseInt(index, 10)]) {\r\n                games[parseInt(index, 10)].my_review = {\r\n                    \"id\": action.payload.id, \"content\": action.payload.content\r\n                }\r\n            }\r\n            if(game) {\r\n                game.my_review = {\r\n                    \"id\": action.payload.id, \"content\": action.payload.content\r\n                }\r\n            }\r\n            return {\r\n                ...state,\r\n                games,\r\n                game,\r\n                isUpdate: true\r\n            }\r\n        case UPDATE_REVIEW_FAILURE:\r\n            return {\r\n                ...state,\r\n                error: {\r\n                    triggered: true,\r\n                    status: action.payload.status,\r\n                    message: \"Error! Please Try Review!\"\r\n                }\r\n            }\r\n        case CHANGE_SORT_GAMES:\r\n            return {\r\n                ...state,\r\n                sort: action.payload.sort\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const gamesEpics = {\r\n    getDetailGameEpic,\r\n    getQueryGamesEpic,\r\n    createRatingEpic,\r\n    updateRatingEpic,\r\n    createReviewEpic,\r\n    updateReviewEpic,\r\n};","import { ajax } from \"rxjs/observable/dom/ajax\";\r\nimport { of } from \"rxjs\";\r\nimport { map, mergeMap, catchError, withLatestFrom } from \"rxjs/operators\";\r\nimport { ofType } from \"redux-observable\";\r\n\r\nimport { API_HOST, getAuthUserInfo, removeAuthUserInfo } from '../../GameAPI';\r\n\r\nconst INITIALIZE_INPUT = \"auth/INITIALIZE_INPUT\";\r\n\r\nconst CHANGE_INPUT = \"auth/CHANGE_INPUT\";\r\n\r\nconst REGISTER = \"auth/REGISTER\";\r\nconst REGISTER_SUCCESS = \"auth/REGISTER_SUCCESS\";\r\nconst REGISTER_FAILURE = \"auth/REGISTER_FAILURE\";\r\n\r\nconst LOGIN = \"auth/LOGIN\";\r\nconst LOGIN_SUCCESS = \"auth/LOGIN_SUCCESS\";\r\nconst LOGIN_FAILURE = \"auth/LOGIN_FAILURE\";\r\n\r\nconst INITIALIZE_ERROR = \"auth/INITIALIZE_ERROR\";\r\n\r\nconst CHECK_USER = \"auth/CHECK_USER\";\r\nconst CHECK_USER_SUCCESS = \"auth/CHECK_USER_SUCCESS\";\r\nconst CHECK_USER_FAILURE = \"auth/CHECK_USER_FAILURE\";\r\n\r\nconst SET_USER_TEMP = \"auth/SET_USER_TEMP\";\r\n\r\nconst LOGOUT = \"auth/LOGOUT\";\r\nconst LOGOUT_SUCCESS = \"auth/LOGOUT_SUCCESS\";\r\nconst LOGOUT_FAILURE = \"auth/LOGOUT_FAILURE\";\r\n\r\nconst NEED_LOGIN = \"auth/NEED_LOGIN\";\r\n\r\nexport const initializeInput = () => ({\r\n  type: INITIALIZE_INPUT\r\n});\r\n\r\nexport const changeInput = ({ name, value }) => ({\r\n  type: CHANGE_INPUT,\r\n  payload: {\r\n    name,\r\n    value\r\n  }\r\n});\r\n\r\nexport const register = () => ({\r\n  type: REGISTER\r\n});\r\n  \r\nexport const registerSuccess = ({ user, token }) => ({\r\n  type: REGISTER_SUCCESS,\r\n  payload: {\r\n    user,\r\n    token\r\n  }\r\n});\r\n\r\nexport const registerFailure = error => ({\r\n  type: REGISTER_FAILURE,\r\n  payload: {\r\n    error\r\n  }\r\n});\r\n\r\nexport const login = () => ({\r\n  type: LOGIN\r\n});\r\n\r\nexport const loginSuccess = ({ user, token }) => ({\r\n  type: LOGIN_SUCCESS,\r\n  payload: {\r\n    user,\r\n    token\r\n  }\r\n});\r\n  \r\nexport const loginFailure = error => ({\r\n  type: LOGIN_FAILURE,\r\n  payload: {\r\n    error\r\n  }\r\n});\r\n\r\nexport const initializeError = () => ({\r\n  type: INITIALIZE_ERROR\r\n});\r\n\r\nexport const checkUser = () => ({\r\n  type: CHECK_USER\r\n});\r\n\r\nexport const checkUserSuccess = () => ({\r\n  type: CHECK_USER_SUCCESS\r\n});\r\n\r\nexport const checkUserFailure = error => ({\r\n  type: CHECK_USER_FAILURE,\r\n  payload: {\r\n    error\r\n  }\r\n});\r\n\r\nexport const setUserTemp = (userInfo) => ({\r\n  type: SET_USER_TEMP,\r\n  payload: {\r\n    userInfo\r\n  }\r\n});\r\n\r\nexport const logout = () => ({\r\n  type: LOGOUT\r\n});\r\n\r\nexport const logoutSuccess = () => ({\r\n  type: LOGOUT_SUCCESS\r\n});\r\n\r\nexport const logoutFailure = error => ({\r\n  type: LOGOUT_FAILURE,\r\n  payload: {\r\n    error\r\n  }\r\n});\r\n\r\nexport const needLogin = (needed) => ({\r\n  type: NEED_LOGIN,\r\n  payload: {\r\n    needed\r\n  }\r\n});\r\n\r\n\r\nconst registerEpic = (action$, state$) => {\r\n  return action$.pipe(\r\n    ofType(REGISTER),\r\n    withLatestFrom(state$),\r\n    mergeMap(([action, state]) => {\r\n      const { username, first_name, password, code } = state.auth.form;\r\n      return ajax.post(`${API_HOST}/users/register/`, { username, first_name, password, code }).pipe(\r\n        map(response => {\r\n          const { user, token } = response.response;\r\n          return registerSuccess({ user, token });\r\n        }),\r\n        catchError(error =>\r\n          of({\r\n            type: REGISTER_FAILURE,\r\n            payload: error,\r\n            error: true\r\n          })\r\n        )\r\n      );\r\n    })\r\n  );\r\n};\r\n\r\nconst loginEpic = (action$, state$) => {\r\n  return action$.pipe(\r\n    ofType(LOGIN),\r\n    withLatestFrom(state$),\r\n    mergeMap(([action, state]) => {\r\n      const { username, password } = state.auth.form;\r\n      return ajax.post(`${API_HOST}/users/login/`, { username, password }).pipe(\r\n        map(response => {\r\n          const { user, token } = response.response;\r\n          return loginSuccess({ user, token });\r\n        }),\r\n        catchError(error =>\r\n          of({\r\n            type: LOGIN_FAILURE,\r\n            payload: error,\r\n            error: true\r\n          })\r\n        )\r\n      );\r\n    })\r\n  );\r\n};\r\n\r\nconst checkUserEpic = (action$, state$) => {\r\n  return action$.pipe(\r\n    ofType(CHECK_USER),\r\n    withLatestFrom(state$),\r\n    mergeMap(([action, state]) => {\r\n      const userInfo = getAuthUserInfo();\r\n      const token = userInfo ? userInfo.token : null;\r\n      return ajax\r\n        .get(`${API_HOST}/users/users/`, {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `token ${token}`\r\n        })\r\n        .pipe(\r\n          map(response => {\r\n            return checkUserSuccess();\r\n          }),\r\n          catchError(error =>\r\n            of({\r\n              type: CHECK_USER_FAILURE,\r\n              payload: error,\r\n              error: true\r\n            })\r\n          )\r\n        );\r\n    })\r\n  );\r\n};\r\n\r\nconst logoutEpic = (action$, state$) => {\r\n  return action$.pipe(\r\n    ofType(LOGOUT),\r\n    withLatestFrom(state$),\r\n    mergeMap(([action, state]) => {\r\n      const userInfo = getAuthUserInfo();\r\n      const token = userInfo ? userInfo.token : null;\r\n      return ajax\r\n        .post(\r\n          `${API_HOST}/auth/logout/`,\r\n          {},\r\n          {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `token ${token}`\r\n          }\r\n        )\r\n        .pipe(\r\n          map(response => {\r\n            removeAuthUserInfo();\r\n            return logoutSuccess();\r\n          }),\r\n          catchError(error => {\r\n            of({\r\n              type: LOGOUT_FAILURE,\r\n              payload: error,\r\n              error: true\r\n            });\r\n          })\r\n        );\r\n    })\r\n  );\r\n};\r\n\r\nconst initialState = {\r\n  form: {\r\n    username: \"\",\r\n    first_name: \"\",\r\n    password: \"\",\r\n    code: \"\"\r\n  },\r\n  error: {\r\n    triggered: false,\r\n    status: 200,\r\n    message: \"\"\r\n  },\r\n  logged: false,\r\n  needed: false,\r\n  userInfo: {\r\n    id: null,\r\n    username: \"\",\r\n    first_name: \"\",\r\n    avatar: \"\",\r\n    token: null\r\n  }\r\n};\r\n\r\nexport const auth = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case INITIALIZE_INPUT:\r\n      return {\r\n        ...state,\r\n        form: {\r\n          username: \"\",\r\n          password: \"\",\r\n          first_name: \"\",\r\n          code: \"\"\r\n        }\r\n      };\r\n    case CHANGE_INPUT:\r\n      let newForm = state.form;\r\n      newForm[action.payload.name] = action.payload.value;\r\n      return {\r\n        ...state,\r\n        form: newForm\r\n      };\r\n    case INITIALIZE_ERROR:\r\n      return {\r\n        ...state,\r\n        error: {\r\n          triggered: false,\r\n          message: \"\"\r\n        }\r\n      };\r\n    case REGISTER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        logged: true,\r\n        userInfo: {\r\n          id: action.payload.user.id,\r\n          username: action.payload.user.username,\r\n          first_name: action.payload.user.first_name,\r\n          avatar: action.payload.user.avatar,\r\n          token: action.payload.token\r\n        }\r\n      };\r\n    case REGISTER_FAILURE:\r\n      switch (action.payload.status) {\r\n        case 400:\r\n          return {\r\n            ...state,\r\n            error: {\r\n              triggered: true,\r\n              status: action.payload.status,\r\n              message: \"Wrong Email or Password\"\r\n            }\r\n          };\r\n        case 406:\r\n          let fieldName = '';\r\n          if(action.payload.response.hasOwnProperty('username')) fieldName = \"Email\";\r\n          else if(action.payload.response.hasOwnProperty('first_name')) fieldName = \"Nickname\";\r\n          else if(action.payload.response.hasOwnProperty('password')) fieldName = \"Password\";\r\n          else if(action.payload.response.hasOwnProperty('code')) fieldName = \"Code\";\r\n\r\n          return {\r\n            ...state,\r\n            error: {\r\n              triggered: true,\r\n              status: action.payload.status,\r\n              message: `Invalid ${fieldName}`\r\n            }\r\n          };\r\n        case 409:\r\n          return {\r\n            ...state,\r\n            error: {\r\n              triggered: true,\r\n              status: action.payload.status,\r\n              message: \"This Email has already registered\"\r\n            }\r\n          };\r\n        case 412:\r\n          return {\r\n            ...state,\r\n            error: {\r\n              triggered: true,\r\n              status: action.payload.status,\r\n              message: \"Wrong Code\"\r\n            }\r\n          };\r\n        case 500:\r\n          return {\r\n            ...state,\r\n            error: {\r\n              triggered: true,\r\n              status: action.payload.status,\r\n              message: \"Please Try Again\"\r\n            }\r\n          };\r\n        default:\r\n          return {\r\n            ...state\r\n          };\r\n      }\r\n    case LOGIN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        logged: true,\r\n        userInfo: {\r\n          id: action.payload.user.id,\r\n          username: action.payload.user.username,\r\n          first_name: action.payload.user.first_name,\r\n          avatar: action.payload.user.avatar,\r\n          token: action.payload.token\r\n        }\r\n      };\r\n    case LOGIN_FAILURE:\r\n      console.log(action.payload)\r\n      switch (action.payload.status) {\r\n        case 400:\r\n          let fieldName = '';\r\n          if(action.payload.response.hasOwnProperty('username')) fieldName = fieldName + \"Email \";\r\n          if(action.payload.response.hasOwnProperty('password')) fieldName = fieldName + \"Password \";\r\n\r\n          return {\r\n            ...state,\r\n            error: {\r\n              triggered: true,\r\n              status: action.payload.status,\r\n              message: `Invalid ${fieldName}`\r\n            }\r\n          };\r\n        case 409:\r\n          return {\r\n            ...state,\r\n            error: {\r\n              triggered: true,\r\n              status: action.payload.status,\r\n              message: \"Here is no Email\"\r\n            }\r\n          };\r\n        case 412:\r\n          return {\r\n            ...state,\r\n            error: {\r\n              triggered: true,\r\n              status: action.payload.status,\r\n              message: \"Wrong Password\"\r\n            }\r\n          };\r\n        case 500:\r\n          return {\r\n            ...state,\r\n            error: {\r\n              triggered: true,\r\n              status: action.payload.status,\r\n              message: \"Please Try Again\"\r\n            }\r\n          };\r\n        default:\r\n          return {\r\n            ...state\r\n          };\r\n      }\r\n      case CHECK_USER_SUCCESS:\r\n      return {\r\n        ...state\r\n      };\r\n    case CHECK_USER_FAILURE:\r\n      removeAuthUserInfo();\r\n      return {\r\n        ...state,\r\n        logged: false,\r\n        userInfo: {\r\n          id: null,\r\n          username: \"\",\r\n          first_name: \"\",\r\n          avatar: \"\",\r\n          token: null\r\n        }\r\n      };\r\n    case SET_USER_TEMP:\r\n      return {\r\n        ...state,\r\n        logged: true,\r\n        userInfo: {\r\n          id: action.payload.userInfo.id,\r\n          username: action.payload.userInfo.username,\r\n          first_name: action.payload.userInfo.first_name,\r\n          avatar: action.payload.userInfo.avatar,\r\n          token: action.payload.userInfo.token\r\n        }\r\n      };\r\n    case LOGOUT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        logged: false,\r\n        userInfo: {\r\n          id: null,\r\n          message: \"\",\r\n          token: null\r\n        }\r\n      };\r\n    case LOGOUT_FAILURE:\r\n      return {\r\n        ...state,\r\n        error: {\r\n          triggered: true,\r\n          status: action.payload.status,\r\n          message: \"LOGOUT ERROR, PLEASE TRY AGAIN\"\r\n        }\r\n      };\r\n    case NEED_LOGIN:\r\n      return {\r\n        ...state,\r\n        needed: action.payload.needed\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const authEpics = {\r\n  registerEpic,\r\n  loginEpic,\r\n  checkUserEpic,\r\n  logoutEpic\r\n};","import React, { Component } from 'react';\r\n\r\nimport '../App.css';\r\nimport './Overall.css'\r\n\r\n\r\nexport class Overall extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.randomPredict = (2.0 + Math.random() * (5.0 - 2.0)).toFixed(1);\r\n    this.reviewCount = (50 + Math.random() * (3000 - 50)).toFixed(0);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"overall4\" style={{backgroundImage: 'url(/eyeq-pages/images/overall_rating.svg)'}}>\r\n        <div className=\"overall4-container vertical-center\">\r\n          <h2>{this.randomPredict}</h2>\r\n          <h3>{this.reviewCount}</h3>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Overall;\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport Rating from 'react-rating';\r\nimport Moment from 'react-moment';\r\n\r\nimport * as authActions from \"../store/modules/auth\";\r\nimport * as gamesActions from \"../store/modules/games\";\r\nimport { GameBannerImg, GameCoverImg } from '../GameAPI';\r\nimport Overall from './Overall';\r\n\r\nimport './TopInfo.css'\r\nimport '../App.css'\r\n\r\nexport class TopInfo extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.randomPredict = (2.0 + Math.random() * (5.0 - 2.0)).toFixed(1);\r\n    this.wantCount = (99 + Math.random() * (3000 - 99)).toFixed(0);\r\n  }\r\n\t\r\n  handleRated = (rate) => {\r\n\t\tconst { logged, needLogin, game, createRating, updateRating } = this.props;\r\n\t\tif(!logged) {\r\n\t\t\tneedLogin(true);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst value = rate\r\n\t\tconst slug = game.slug;\r\n\t\tif(game.my_rating) {\r\n\t\t\tconst id = game.my_rating.id;\r\n\t\t\tupdateRating({slug, id, value});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tcreateRating({slug, value});\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"topInfo\">\r\n        <div className=\"ti-cover\" >\r\n          <GameCoverImg gameData={this.props.gameData} />\r\n        </div>\r\n        <div className=\"ti-info horizontal-direction\" >\r\n          <div>\r\n            <div className=\"predict horizontal-direction\" >\r\n              <div className=\"label vertical-center\">Predicted</div>\r\n              <div className=\"score vertical-center\">{this.randomPredict}</div>\r\n            </div>\r\n            <Rating\r\n              emptySymbol={<img src=\"/eyeq-pages/images/rate_star_empty.svg\" className=\"icon\" />}\r\n              fullSymbol={<img src=\"/eyeq-pages/images/rate_star_full.svg\" className=\"icon\" />}\r\n              fractions={2}\r\n              initialRating={this.props.gameData.my_rating? parseFloat(this.props.gameData.my_rating.value) : 0}\r\n              style={{...Rating.style, 'marginLeft': '-3px'}}\r\n              onChange={this.handleRated} />\r\n            <h1>{this.props.gameData.title}</h1>\r\n            <p>{this.props.gameData.platforms}</p>\r\n          </div>\r\n          <div>\r\n            <Overall />\r\n          </div>\r\n        </div>\r\n        <div className=\"margin-t-16\">\r\n          <div className=\"ti-want horizontal-center\">\r\n            <img src=\"/eyeq-pages/images/icon_want.svg\" />\r\n            <p className=\"vertical-center\">{this.wantCount} wants</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  logged: state.auth.logged,\r\n  needed: state.auth.needed,\r\n  error: state.auth.error\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    needLogin: (needed) => {\r\n      dispatch(authActions.needLogin(needed));\r\n    },\r\n    createRating: ({slug, value}) => {\r\n      dispatch(gamesActions.createRating({slug, value}));\r\n    },\r\n    updateRating: ({slug, id, value}) => {\r\n      dispatch(gamesActions.updateRating({slug, id, value}));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(TopInfo);\r\n","import React, { Component } from 'react';\r\n\r\nimport '../App.css';\r\nimport './Share.css'\r\n\r\n\r\nexport class Share extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"share2\">\r\n        <h2>Share</h2>\r\n        <div className=\"share-container\">\r\n          <img src=\"/eyeq-pages/images/icon_share_facebook.svg\" />\r\n          <img src=\"/eyeq-pages/images/icon_share_twitter.svg\" />\r\n          <img src=\"/eyeq-pages/images/icon_share_url.svg\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Share;\r\n","import React, { Component } from 'react';\r\n\r\nimport { renderWebsite } from '../GameAPI';\r\n\r\nimport '../App.css';\r\nimport './Price.css'\r\n\r\n\r\nexport class Price extends Component {\r\n  state = {\r\n\t\tvisiblePurchasePopup: false,\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props)\r\n  }\r\n\r\n\thandleClosePurchase = () => {\r\n\t\tthis.setState({ visiblePurchasePopup: false });\r\n  }\r\n  \r\n  handleOpenPurchase = () => {\r\n    this.setState({ visiblePurchasePopup: true });\r\n  }\r\n\r\n  render() {\r\n    const { game } = this.props;\r\n    return (\r\n      <div className=\"buy\">\r\n        <div className=\"padding-l-16\">\r\n          <h2 className=\"padding-t-16\">Buy Now</h2>\r\n          <div className=\"buyGroup1\">\r\n            <a href={renderWebsite(game.websites, 13)} target=\"_blank\"><img src={'/eyeq-pages/images/button_store_steam@3x.png'} /></a>\r\n            <img src={'/eyeq-pages/images/button_store_ubi@3x.png'} />\r\n          </div>\r\n          <div className=\"buyGroup2\">\r\n            <img src={'/eyeq-pages/images/button_store_aki@3x.png'} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Price;\r\n","import PropTypes from 'prop-types';\r\nimport React, { Component } from 'react';\r\nimport Lightbox from 'react-images';\r\n\r\nimport './PhotoGallery.css';\r\n\r\nclass PhotoGallery extends Component {\r\n\tconstructor () {\r\n\t\tsuper();\r\n\r\n\t\tthis.state = {\r\n\t\t\tlightboxIsOpen: false,\r\n\t\t\tcurrentImage: 0,\r\n\t\t};\r\n\r\n\t\tthis.closeLightbox = this.closeLightbox.bind(this);\r\n\t\tthis.gotoNext = this.gotoNext.bind(this);\r\n\t\tthis.gotoPrevious = this.gotoPrevious.bind(this);\r\n\t\tthis.gotoImage = this.gotoImage.bind(this);\r\n\t\tthis.handleClickImage = this.handleClickImage.bind(this);\r\n\t\tthis.openLightbox = this.openLightbox.bind(this);\r\n\t}\r\n\r\n\topenLightbox (index, event) {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tthis.setState({\r\n\t\t\tcurrentImage: index,\r\n\t\t\tlightboxIsOpen: true,\r\n\t\t});\r\n\t}\r\n\r\n\tcloseLightbox () {\r\n\t\tthis.setState({\r\n\t\t\tcurrentImage: 0,\r\n\t\t\tlightboxIsOpen: false,\r\n\t\t});\r\n\t}\r\n\r\n\tgotoPrevious () {\r\n\t\tthis.setState({\r\n\t\t\tcurrentImage: this.state.currentImage - 1,\r\n\t\t});\r\n\t}\t\r\n\r\n\tgotoNext () {\r\n\t\tthis.setState({\r\n\t\t\tcurrentImage: this.state.currentImage + 1,\r\n\t\t});\r\n\t}\r\n\r\n\tgotoImage (index) {\r\n\t\tthis.setState({\r\n\t\t\tcurrentImage: index,\r\n\t\t});\r\n\t}\r\n\r\n\thandleClickImage () {\r\n\t\tif (this.state.currentImage === this.props.images.length - 1) \r\n\t\t\treturn;\r\n\r\n\t\tthis.gotoNext();\r\n\t}\r\n\r\n\trender () {\r\n\t\treturn (\r\n\t\t\t<div className=\"section\">\r\n\t\t\t\t<Lightbox\r\n\t\t\t\t\tcurrentImage={this.state.currentImage}\r\n\t\t\t\t\timages={this.props.images}\r\n\t\t\t\t\tisOpen={this.state.lightboxIsOpen}\r\n\t\t\t\t\tonClickImage={this.handleClickImage}\r\n\t\t\t\t\tonClickNext={this.gotoNext}\r\n\t\t\t\t\tonClickPrev={this.gotoPrevious}\r\n\t\t\t\t\tonClickThumbnail={this.gotoImage}\r\n\t\t\t\t\tonClose={this.closeLightbox}\r\n\t\t\t\t\tpreventScroll={this.props.preventScroll}\r\n\t\t\t\t\tshowThumbnails={this.props.showThumbnails}\r\n\t\t\t\t\tspinner={this.props.spinner}\r\n\t\t\t\t\tspinnerColor={this.props.spinnerColor}\r\n\t\t\t\t\tspinnerSize={this.props.spinnerSize}\r\n\t\t\t\t\ttheme={this.props.theme}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\nPhotoGallery.propTypes = {\r\n\theading: PropTypes.string,\r\n\timages: PropTypes.array,\r\n\tshowThumbnails: PropTypes.bool,\r\n\tsubheading: PropTypes.string,\r\n};\r\n\r\n\r\nexport default PhotoGallery;","import React, { Component } from 'react';\r\nimport LinesEllipsis from 'react-lines-ellipsis'\r\n\r\nimport '../../App.css';\r\nimport './MediaImageCell.css'\r\n\r\nexport class MediaImageCell extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <div className=\"mediaImageCell\">\r\n        <a href={this.props.data.src}\r\n\t\t\t\t\tclassName=\"thumbnail\"\r\n\t\t\t\t\tonClick={(e) => this.props.onItemClick(this.props.data, e)}>\r\n\t\t\t\t\t<img src={this.props.data.src} />\r\n\t\t\t\t</a>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MediaImageCell;\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport LinesEllipsis from 'react-lines-ellipsis'\r\nimport Moment from 'react-moment';\r\n\r\nimport { abbreviateNumber } from '../../GameAPI';\r\n\r\nimport '../../App.css';\r\nimport './MediaVideoCell.css'\r\n\r\nconst YOUTUBE_API = 'https://www.googleapis.com/youtube/v3/videos'\r\n\r\nexport class MediaVideoCell extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      title: '',      \r\n      channel: '',\r\n      publishedAt: '',\r\n      viewCount: 0,\r\n      isLoading: true,\r\n    };\r\n\r\n    this.getYoutubeDetail();\r\n  }\r\n\r\n  getYoutubeDetail() {\r\n    // get game id\r\n    axios.get(YOUTUBE_API + '?id=' + this.props.data.src + '&key=AIzaSyC9_LeWuJ_g87OQjRUFg8jN36HsHZ_Dg8s&part=snippet,statistics')\r\n    .then(response => {\r\n      if (200 != response.status) {\r\n        return;\r\n      }\r\n\r\n      if (0 == response.data.items) {\r\n        return;\r\n      }\r\n\r\n      var snippet = response.data.items[0].snippet;\r\n      var statistics = response.data.items[0].statistics;\r\n\r\n      this.setState({\r\n        title: snippet.title,\r\n        channel: snippet.channelTitle,\r\n        publishedAt: snippet.publishedAt,\r\n        viewCount: statistics.viewCount,\r\n        isLoading: false\r\n      });\r\n    })\r\n    .catch(error => console.error('Error:', error));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"mediaVideoCell\">\r\n        <a href={this.props.data.src} onClick={(e) => this.props.onItemClick(this.props.data, e)}>\r\n          <img src={'https://img.youtube.com/vi/' + this.props.data.src + '/sddefault.jpg'} />\r\n          <div className=\"mvc-overlay\">\r\n            <img src={'/eyeq-pages/images/youtube.png'} />\r\n          </div>\r\n          <div className=\"mvc-title\">\r\n            <LinesEllipsis\r\n              text={this.state.title}\r\n              maxLine='2'\r\n              ellipsis='...'\r\n              trimRight\r\n              basedOn='letters'/>\r\n          </div>\r\n          <div>\r\n            {this.state.channel}\r\n          </div>\r\n          <div>\r\n            {abbreviateNumber(this.state.viewCount)} views • <Moment fromNow ago>{this.state.publishedAt}</Moment> ago\r\n          </div>\r\n        </a>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MediaVideoCell;\r\n","import React, { Component } from 'react';\r\nimport ReactPlayer from 'react-player'\r\n\r\nimport PhotoGallery from '../../common/PhotoGallery'\r\nimport MediaImageCell from './MediaImageCell';\r\nimport MediaVideoCell from './MediaVideoCell';\r\n\r\nimport '../../App.css';\r\nimport './Media.css'\r\n\r\nexport class Media extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    console.log(props);\r\n\r\n    this.state = {\r\n      videoUrl: '',\r\n      videoAutoplay: false,\r\n      showChildCount: 4,\r\n    };\r\n\r\n    this.videos = this.props.game.youtube.split(',').map((id, i) => ({ \r\n      index: i,\r\n      src: id \r\n    }));\r\n\r\n    this.images = this.props.game.img_screenshots.split(',').map((id, i) => (id !== '' ? {\r\n        index: i,\r\n        src: 'https://images.igdb.com/igdb/image/upload/t_screenshot_big/' + id + '.jpg'\r\n      } : {\r\n        index: i,\r\n        src: 'https://upload.wikimedia.org/wikipedia/commons/5/59/Empty.png'\r\n      }));\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (0 < this.videos.length)\r\n      this.setState({ videoUrl: this.videos[0].src });\r\n  }\r\n\r\n  onItemImageClick = (data, e) => {\r\n    this.pg.openLightbox(data.index, e)\r\n  }\r\n\r\n  onItemVideoClick = (data, e) => {\r\n    e.preventDefault();\r\n    \r\n    if (this.state.videoUrl !== data.src) {\r\n      if (this.rp.player) {\r\n        this.rp.player.isLoading = false\r\n      }\r\n  \r\n      this.setState({ \r\n        videoUrl: data.src,\r\n        videoAutoplay: true \r\n      });\r\n    }\r\n  }\r\n\r\n  onLoadmore = () => {\r\n    this.setState({\r\n      showChildCount: this.state.showChildCount + 4\r\n    })\r\n  }\r\n\r\n  createChild = () => {\r\n    let child = []\r\n    let index = 0;\r\n    for (let i = 0; i < this.videos.length; ++i) {\r\n      if (index >= this.state.showChildCount)\r\n        break;\r\n\r\n      child.push(<MediaVideoCell key={index++} data={this.videos[i]} onItemClick={this.onItemVideoClick}/>);\r\n    }\r\n\r\n    for (let i = 0; i < this.images.length; ++i) {\r\n      if (index >= this.state.showChildCount)\r\n        break;\r\n\r\n      child.push(<MediaImageCell key={index++} data={this.images[i]} onItemClick={this.onItemImageClick}/>);\r\n    }\r\n\r\n    return child;\r\n  }\r\n\r\n  renderLoadMore() {\r\n    return (\r\n      <div className=\"center padding-t-16\">\r\n        <p className=\"md-loadmore\" onClick={this.onLoadmore}>Load more</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderChild() {\r\n    return (\r\n      <div className=\"media-container\">\r\n        {this.createChild()}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"media\">\r\n        <h2>Media</h2>\r\n        <div className=\"media-video\">\r\n          <ReactPlayer \r\n            ref={rp => this.rp = rp} \r\n            url={'https://www.youtube.com/watch?v=' + this.state.videoUrl} \r\n            width='940px'\r\n            height='526px' \r\n            playing={this.state.videoAutoplay}\r\n            controls />\r\n        </div>\r\n        <div className=\"media-container\">\r\n          {this.renderChild()}\r\n        </div>\r\n        {this.videos.length + this.images.length > this.state.showChildCount ? this.renderLoadMore() : ''}\r\n        \r\n        <div className=\"photo\">\r\n          <PhotoGallery \r\n            ref={pg => this.pg = pg} \r\n            images={String(this.props.game.img_screenshots).split(',').map((img) => (img !== '' ? {\r\n              src: 'https://images.igdb.com/igdb/image/upload/t_screenshot_big/' + img + '.jpg'\r\n            } : {\r\n              src: 'https://upload.wikimedia.org/wikipedia/commons/5/59/Empty.png'\r\n            }))}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Media;\r\n","import React, { Component } from 'react';\r\nimport LinesEllipsis from 'react-lines-ellipsis'\r\n\r\nimport '../../App.css';\r\nimport './LiveStreamCell.css'\r\n\r\n\r\nclass LiveStreamCell extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n  }\r\n\r\n\thandleClick = () => {\r\n\t\tthis.props.onItemClick(this.props.data);\r\n\t}\r\n\r\n  renderTwitchThumbnail() {\r\n    let url = this.props.data.thumbnail_url.replace('{width}x{height}','320x180');\r\n    return (\r\n      <img src={url} />\r\n    );\r\n  }\r\n\r\n\trender() {\r\n    return (\r\n\t  \t<div className=\"liveStream-cell\" onClick={this.handleClick.bind(this)}>\r\n        {this.renderTwitchThumbnail()}\r\n        <p>{this.props.data.viewer_count} viewers</p>\r\n        <div className=\"lsc-title\">\r\n          <LinesEllipsis\r\n            text={this.props.data.title}\r\n            maxLine='2'\r\n            ellipsis='...'\r\n            trimRight\r\n            basedOn='letters'/>\r\n          </div>\r\n        <p>{this.props.data.user_name}</p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LiveStreamCell;\r\n","import React, { Component } from 'react';\r\nimport ReactPlayer from 'react-player'\r\nimport Iframe from 'react-iframe'\r\nimport axios from 'axios';\r\nimport Spinner  from 'react-spinkit';\r\n\r\nimport LiveStreamCell from './LiveStreamCell';\r\n\r\nimport '../../App.css';\r\nimport './LiveStream.css'\r\n\r\nconst TWITCH_API = 'https://api.twitch.tv/helix/'\r\n\r\n\r\nexport class LiveStream extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      twitchUrl: '',      \r\n      twitchChannels: '',\r\n      showChildCount: 4,\r\n      failed: false,\r\n      isLoading: true,\r\n    };\r\n    \r\n    this.getTwitchGameId();\r\n  }\r\n\r\n  getTwitchGameId() {\r\n    // get game id\r\n    axios.get(TWITCH_API + 'games?name=Godofwar', {\r\n      headers: {'Client-ID': '6ommlp4pxwnk3pi97hsemyrltm5n2e'},\r\n      timeout: 1000 * 5, // Wait for 5 seconds\r\n    })\r\n    .then(response => {\r\n      if (200 !== response.status || 0 == response.data.data.length) {\r\n        this.responseError();\r\n        return;\r\n      }\r\n\r\n      this.twitchGameId = response.data.data[0].id;\r\n\r\n      this.getGameChannelList();\r\n    })\r\n    .catch(error => this.responseError());\r\n  }\r\n\r\n  responseError() {\r\n    this.setState({\r\n      failed: true,\r\n      isLoading: false,\r\n    });\r\n  }\r\n\r\n  getUserIdFromThumbnailUrl(thumbnailUrl) {\r\n    var start = thumbnailUrl.indexOf('/live_user_') + '/live_user_'.length;\r\n    var end = thumbnailUrl.indexOf('-{width}x{height}');\r\n      \r\n    return thumbnailUrl.substr(start, end - start);\r\n  }\r\n\r\n  getGameChannelList() {\r\n    // get game id\r\n    axios.get(TWITCH_API + 'streams?game_id=' + this.twitchGameId, {\r\n      headers: {'Client-ID': '6ommlp4pxwnk3pi97hsemyrltm5n2e'}\r\n    })\r\n    .then(response => {\r\n      if (200 !== response.status || 0 === response.data.data.length) {\r\n        this.setState({\r\n          failed: true,\r\n          isLoading: false,\r\n        });\r\n\r\n        return;\r\n      }\r\n\r\n      this.setState({\r\n        twitchUrl: this.getUserIdFromThumbnailUrl(response.data.data[0].thumbnail_url),\r\n        twitchChannels: response.data.data,\r\n        isLoading: false\r\n      });\r\n    })\r\n    .catch(error => console.error('Error:', error));\r\n  }\r\n\r\n  onChangeTwitch = (data) => {\r\n    var userId = this.getUserIdFromThumbnailUrl(data.thumbnail_url);\r\n\r\n    if(this.state.twitchUrl !== userId) {\r\n      if (this.rp.player) {\r\n        this.rp.player.isLoading = false\r\n      }\r\n\r\n      this.setState({twitchUrl: userId});\r\n    }\r\n  }\r\n\r\n  onLoadmore = () => {\r\n    console.log(\"load more\");\r\n\r\n    this.setState({showChildCount: this.state.showChildCount + 4})\r\n  }\r\n\r\n  renderFailed() {\r\n    return (\r\n      <div className=\"liveStream-container\">\r\n        <p>There are no live channels.</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderChild = () => {\r\n    let child = []\r\n    for (let i = 0; i < this.state.twitchChannels.length; ++i) {\r\n      child.push(<LiveStreamCell key={i} data={this.state.twitchChannels[i]} onItemClick={this.onChangeTwitch} />);\r\n\r\n      if (i >= this.state.showChildCount - 1)\r\n        break;\r\n    }\r\n\r\n    return child;\r\n  }\r\n\r\n  renderLoadMore() {\r\n    return (\r\n      <div className=\"center padding-t-16\">\r\n        <p className=\"ls-loadmore\" onClick={this.onLoadmore}>Load more</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderTwitch() {\r\n    return (\r\n      <div className=\"liveStream-video\">\r\n        <div className=\"horizontal-direction\">\r\n          <ReactPlayer \r\n            ref={rp => this.rp = rp} \r\n            url={'https://www.twitch.tv/' + this.state.twitchUrl} \r\n            width='660px'\r\n            height='526px' \r\n            controls />\r\n          <Iframe url={'https://www.twitch.tv/embed/' + this.state.twitchUrl + '/chat'}\r\n            width=\"300px\"\r\n            height=\"526px\"\r\n            id=\"chat_embed\"\r\n            className=\"myClassname\"\r\n            display=\"initial\"\r\n            position=\"relative\" \r\n            frameBorder='0' />\r\n        </div>\r\n        <div className=\"liveStream-container\">\r\n          {this.renderChild()}\r\n        </div>\r\n        {this.state.twitchChannels.length > this.state.showChildCount ? this.renderLoadMore() : ''}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderLoading() {\r\n    return (\r\n      <div className='liveStream-loading'>\r\n        <Spinner name='pacman' color=\"lightgray\"/>\r\n      </div> \r\n    );\r\n  }\r\n\r\n  render() {\r\n    /*\r\n    <ReactTwitchEmbedVideo channel={this.state.twitchUrl} width='940px' autoplay={false} />\r\n\r\n    <ReactPlayer \r\n            url={'https://www.twitch.tv/' + this.state.twitchUrl} \r\n            width='660px'\r\n            height='526px' \r\n            controls />\r\n          <Iframe url={'https://www.twitch.tv/embed/' + this.state.twitchUrl + '/chat'}\r\n            width=\"300px\"\r\n            height=\"526px\"\r\n            id=\"chat_embed\"\r\n            className=\"myClassname\"\r\n            display=\"initial\"\r\n            position=\"relative\" \r\n            frameBorder='0' />\r\n    */\r\n    return (\r\n      <div className=\"liveStream\">\r\n        <h2>Live Streams</h2>\r\n        {this.state.isLoading ? this.renderLoading() : \r\n          this.state.failed ? this.renderFailed() : this.renderTwitch()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LiveStream;\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport LinesEllipsis from 'react-lines-ellipsis'\r\nimport ogs from \"open-graph-scraper\"\r\n\r\nimport { GameCoverImg } from '../../GameAPI';\r\nimport '../../App.css';\r\nimport './PulseCell.css'\r\n\r\nconst IGDB_API = 'https://cors-anywhere.herokuapp.com/https://api-v3.igdb.com/';\r\n//const API = 'https://api-v3.igdb.com/';\r\n\r\nexport class PulseCell extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      image: this.props.pulseData.image,\r\n      url: '',\r\n      source: '',\r\n    };\r\n\r\n    // get url\r\n    this.getPulseUrl(this.props.pulseData.website);\r\n    this.getPulseSource(this.props.pulseData.pulse_source);\r\n  }\r\n\r\n  getPulseSource = (source) => {\r\n    axios.get(IGDB_API + 'pulse_sources?filter[id][eq]=' + source + '&fields=name', {\r\n      headers: {'user-key': '7f3621448c8483ea34fdba2d6277594d'},\r\n    })\r\n    .then((response) => {\r\n      if (200 !== response.status || 0 == response.data.length)\r\n        return;\r\n\r\n      this.setState({source: response.data[0].name})\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  \r\n  getPulseUrl = (website) => {\r\n    axios.get(IGDB_API + 'pulse_urls?filter[id][eq]=' + website + '&fields=url', {\r\n      headers: {'user-key': '7f3621448c8483ea34fdba2d6277594d'},\r\n    })\r\n    .then((response) => {\r\n      if (200 !== response.status || 0 == response.data.length)\r\n        return;\r\n\r\n      this.url = response.data[0].url;\r\n\r\n      this.setState({url: this.url,})\r\n\r\n      // validate data\r\n      if (undefined === this.props.pulseData.image || 0 === this.props.pulseData.image.length)\r\n        this.getImageFromMetadata();\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n  // 이미지 정보가 없는 경우 해당 url의 메타데이터에서 직접 가져옴\r\n  getImageFromMetadata = () => {\r\n    var options = {'url': 'https://cors-anywhere.herokuapp.com/' + this.url};\r\n      ogs(options, (error, results) => {\r\n        if (!results.success)\r\n        {\r\n          this.setState({isLoading: false})\r\n          return;\r\n        }\r\n\r\n        if (results.data.hasOwnProperty(\"ogImage\") && 0 < results.data.ogImage.url.length)\r\n          this.image = results.data.ogImage.url;\r\n        else if (results.data.hasOwnProperty(\"twitterImage\") && 0 < results.data.twitterImage.url.length)\r\n          this.image = results.data.twitterImage.url;\r\n\r\n        this.setState({\r\n          image: this.image,\r\n        })\r\n    });\r\n  }\r\n\r\n  onImageLoadFailed() {\r\n    console.log('onImageLoadFailed');\r\n    console.log(this.props.pulseData);\r\n    this.getImageFromMetadata();\r\n  }\r\n\r\n  renderPublishedDate() {\r\n    return new Date(this.props.pulseData.published_at * 1000).toLocaleDateString();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"pulseCell\">\r\n        <a href={this.state.url} target=\"_blank\">\r\n          <div className=\"pulseCell-cover\">\r\n            <img src={this.state.image} alt={this.props.pulseData.title} onError={this.onImageLoadFailed.bind(this)}/>\r\n          </div>\r\n          <div className=\"pulseCell-title\">\r\n            <LinesEllipsis\r\n              text={this.props.pulseData.title}\r\n              maxLine='2'\r\n              ellipsis='...'\r\n              trimRight\r\n              basedOn='letters'/>\r\n          </div>\r\n          <div className=\"pulseCell-desc\">\r\n            <p>{this.renderPublishedDate()}</p>\r\n            <p><b>{this.state.source}</b></p>\r\n            <p>\r\n              <LinesEllipsis\r\n                text={this.props.pulseData.summary}\r\n                maxLine='3'\r\n                ellipsis='...'\r\n                trimRight\r\n                basedOn='letters'/>\r\n            </p>\r\n          </div>\r\n        </a>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PulseCell;\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Spinner  from 'react-spinkit';\r\n\r\nimport PulseCell from './PulseCell';\r\n\r\nimport '../../App.css';\r\nimport './Pulse.css'\r\n\r\nconst IGDB_API = 'https://cors-anywhere.herokuapp.com/https://api-v3.igdb.com/';\r\n//const API = 'https://api-v3.igdb.com/';\r\n\r\nexport class Pulse extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      pulseDataList: [],\r\n      failed: false,\r\n      isLoading: true,\r\n    };\r\n        \r\n    this.getPulseList();\r\n  }\r\n\r\n  getPulseList() {\r\n    axios.get(IGDB_API + 'pulse_groups?filter[game][eq]=' + this.props.gameId + '&fields=published_at,pulses', {\r\n      headers: {'user-key': '7f3621448c8483ea34fdba2d6277594d'},\r\n      timeout: 1000 * 5, // Wait for 5 seconds\r\n    })\r\n    .then(async (response) => {\r\n      if (200 !== response.status || 0 === response.data.length) {\r\n        this.responseError();\r\n        return;\r\n      }\r\n\r\n      var list = [];\r\n      response.data.sort((a, b) => b.published_at - a.published_at).map((data) => (\r\n        data.pulses.map((pulseId) => (\r\n          list.push(pulseId)\r\n        ))\r\n      ))\r\n\r\n      // fetch는 정상인데 data가 없는 경우가 있음 (기사가 삭제된 경우?)\r\n      // PulseCell로 넘기기전 검사를 해 본후 정상적인 데이터만 넘겨준다.\r\n      \r\n      // get pulse each data\r\n      var processedList = [];\r\n      await Promise.all(list.map(async (pulseId) => {\r\n        let result = await axios.get(IGDB_API + 'pulses?filter[id][eq]=' + pulseId + '&fields=title,website,image,published_at,pulse_source,summary', {\r\n          headers: {'user-key': '7f3621448c8483ea34fdba2d6277594d'},\r\n          timeout: 1000 * 5, // Wait for 5 seconds\r\n        })\r\n\r\n        if (200 !== result.status || 0 == result.data.length) {\r\n          this.responseError();\r\n          return;\r\n        }\r\n          \r\n        processedList.push(result.data[0]);\r\n      }));\r\n\r\n      // debug\r\n      var deletedPulse = list.length - processedList.length;\r\n      if (0 < deletedPulse)\r\n        console.log('deletedPulse:' + deletedPulse);\r\n\r\n      this.setState({\r\n        pulseDataList: processedList,\r\n        isLoading: false,\r\n      });\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n\r\n      this.responseError();\r\n    });\r\n  }\r\n\r\n  responseError() {\r\n    this.setState({\r\n      failed: true,\r\n      isLoading: false,\r\n    });\r\n  }\r\n\r\n  createChild = () => {\r\n    let child = []\r\n    for (let i = 0; i < this.state.pulseDataList.length; ++i) {\r\n      child.push(<PulseCell key={i} pulseData={this.state.pulseDataList[i]} />);\r\n\r\n      if (i >= 5)\r\n        break;\r\n    }\r\n\r\n    return child;\r\n  }\r\n\r\n  renderChild() {\r\n    return (\r\n      <div className=\"pulse-container\">\r\n        {this.createChild()}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderLoading() {\r\n    return (\r\n      <div className='pulseLoading'>\r\n        <Spinner name='pacman' color=\"lightgray\"/>\r\n      </div> \r\n    );\r\n  }\r\n\r\n  renderFailed() {\r\n    return (\r\n      <div className=\"liveStream-container\">\r\n        <p>There are no news feeds.</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"pulse\">\r\n        <h2>News Feeds</h2>\r\n        {this.state.isLoading ? this.renderLoading() : \r\n          this.state.failed ? this.renderFailed() : this.renderChild()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Pulse;\r\n","import React, { Component } from 'react';\nimport Rating from 'react-rating';\n\nimport '../../App.css';\nimport './ReviewCell.css'\n\n\nexport class ReviewCell extends Component {\n  constructor(props) {\n    super(props)\n  }\n\n  renderEditControl = () => {\n    return (\n      <div className=\"rc-top-buttons\">\n        <img src=\"/eyeq-pages/images/icon_review_edit.svg\"/>\n        <img src=\"/eyeq-pages/images/icon_review_delete.svg\"/>\n      </div>\n    ); \n  }\n  \n  render() {\n    return (\n      <div className=\"reviewCell\">\n        <img src=\"/eyeq-pages/images/placeholder_user.svg\"/>\n        <div className=\"rc-container\">\n          <div className=\"rc-top\">\n            <div className=\"rc-top-name vertical-center\">\n              <h1>user name</h1>\n            </div>\n            {this.props.mine && this.renderEditControl()}\n          </div>\n          <div className=\"rc-content\">\n            <div className=\"rc-content-top\">\n              <div className=\"rc-content-rating horizontal-direction\">\n                <h1>3.5</h1>\n                <Rating\n\t\t\t\t\t\t\t    emptySymbol={<img src=\"/eyeq-pages/images/rate_star_empty_sm.svg\" className=\"icon\" alt=\"\" />}\n\t\t\t\t          fullSymbol={<img src=\"/eyeq-pages/images/rate_star_full_sm.svg\" className=\"icon\" alt=\"\" />}\n\t\t\t            fractions={2}\n\t\t\t\t          initialRating={3}\n\t\t              style={{ ...Rating.style, 'marginLeft': '7px' }}\n\t\t\t\t\t\t\t    onChange={this.handleRated}\n\t\t\t\t        />\n              </div>\n              <div className=\"rc-content-date\">\n                <p>Nov. 21, 2018</p>\n              </div>\n            </div>\n            <div className=\"rc-content-bottom\">\n              <p>From the story to the exploration to the combat to seemingly endless upgrades, Spider-Man is packed full of things worth doing and that are fun to do. Insomniac Games has made it seem effortless with the way they can bring this character to life in all the ways a video game can. Spider-Man is a great superhero game, a great PS4 exclusive, but most importantly a great game all its own.</p>\n            </div>  \n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ReviewCell;\n","import React, { Component } from 'react';\n\nimport ReviewCell from './ReviewCell';\n\nimport '../../App.css';\nimport './Review.css'\n\n\nexport class Review extends Component {\n  constructor(props) {\n    super(props)\n  }\n  \n  onLoadmore = () => {\n    console.log(\"load more\");\n  }\n\n  render() {\n    return (\n      <div className=\"review\">\n        <h2>Reviews</h2>            \n        <div>\n          <ReviewCell mine={true} />\n        </div>\n\n        <div className=\"divider margin-t-26\" />\n        <div>\n          <ReviewCell />\n          <ReviewCell />\n        </div>\n\n        <div className=\"center padding-t-16 padding-b-40\">\n          <p className=\"loadmore\" onClick={this.onLoadmore}>Load more</p>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Review;\n","import React, { Component } from 'react';\n\nimport '../../App.css';\nimport './DLCCell.css'\n\n\nexport class DLCCell extends Component {\n  constructor(props) {\n    super(props)\n  }\n  \n  render() {\n    return (\n      <div className=\"dlcCell\">\n        <div className=\"dlcCell-cover\">\n          <img src={this.props.thumb} alt=\"\" />\n        </div>\n        <div className=\"dlcCell-title\">\n          {this.props.title}\n        </div>\n        <p>$9.99</p>\n      </div>\n    );\n  }\n}\n\nexport default DLCCell;\n","import React, { Component } from 'react';\n\nimport DLCCell from './DLCCell';\n\nimport '../../App.css';\nimport './DLC.css'\n\n\nexport class DLC extends Component {\n  constructor(props) {\n    super(props)\n  }\n  \n  render() {\n    return (\n      <div className=\"dlc\">\n        <h2>DLC</h2>\n        <div className=\"dlc-container\">\n          <DLCCell title=\"Marvel's Spider-Man: Turf Wars\" releaseDate=\"20 Nov, 2018\" thumb=\"https://images.igdb.com/igdb/image/upload/t_cover_big/co1ib7.jpg\" />\n          <DLCCell title=\"Marvel's Spider-Man: The Heist\" releaseDate=\"23 Oct, 2018\" thumb=\"https://images.igdb.com/igdb/image/upload/t_cover_big/co1ib8.jpg\" />\n          <DLCCell title=\"Marvel's Spider-Man: Silver Lining\" releaseDate=\"21 Dec, 2018\" thumb=\"https://images.igdb.com/igdb/image/upload/t_cover_big/co1ib9.jpg\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default DLC;\n","import React, { Component } from 'react';\n\nimport '../../App.css';\nimport './SimilarCell.css'\n\n\nexport class SimilarCell extends Component {\n  constructor(props) {\n    super(props)\n  }\n  \n  render() {\n    return (\n      <div className=\"similarCell\">\n        <div className=\"similarCell-cover\">\n          <img src={this.props.thumb} alt=\"\" />\n        </div>\n        <div className=\"similarCell-title\">\n          {this.props.title}\n        </div>\n        <p>{this.props.genres}</p>\n        <div className=\"similarCell-price\">\n          <br/>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default SimilarCell;\n","import React, { Component } from 'react';\n\nimport SimilarCell from './SimilarCell';\n\nimport '../../App.css';\nimport './Similar.css'\n\n\nexport class Similar extends Component {\n  constructor(props) {\n    super(props)\n  }\n  \n  render() {\n    return (\n      <div className=\"similar\">\n        <h2>You might like</h2>\n        <div className=\"similar-container\">\n          <SimilarCell title=\"Red Dead Redemption 2\" genres=\"Adventure, Role-playing (RPG), Shooter\" thumb=\"https://images.igdb.com/igdb/image/upload/t_cover_big/yfk9f2lbo0r7slytuhra.jpg\" />\n          <SimilarCell title=\"Assassin's Creed: Odyssey\" genres=\"Adventure, Role-playing (RPG)\" thumb=\"https://images.igdb.com/igdb/image/upload/t_cover_big/f9jvrf3nwdgdil287sla.jpg\" />\n          <SimilarCell title=\"Metro Exodus\" genres=\"Adventure, Shooter\" thumb=\"https://images.igdb.com/igdb/image/upload/t_cover_big/co1iuj.jpg\" />\n          <SimilarCell title=\"Monster Hunter: World\" genres=\"Adventure, Role-playing (RPG)\" thumb=\"https://images.igdb.com/igdb/image/upload/t_cover_big/fxgwm1nnyexhvauqv0ds.jpg\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Similar;\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class Truncate extends Component {\r\n    static propTypes = {\r\n        children: PropTypes.node,\r\n        ellipsis: PropTypes.node,\r\n        lines: PropTypes.oneOfType([\r\n            PropTypes.oneOf([false]),\r\n            PropTypes.number\r\n        ]),\r\n        trimWhitespace: PropTypes.bool,\r\n        width: PropTypes.number,\r\n        onTruncate: PropTypes.func,\r\n        // philz\r\n        urlPath: PropTypes.string,\r\n    };\r\n\r\n    static defaultProps = {\r\n        children: '',\r\n        ellipsis: '…',\r\n        lines: 1,\r\n        trimWhitespace: false,\r\n        width: 0,\r\n        // philz\r\n        urlPath: '',\r\n    };\r\n\r\n    state = {};\r\n\r\n    constructor(...args) {\r\n        super(...args);\r\n\r\n        this.elements = {};\r\n\r\n        this.onResize = this.onResize.bind(this);\r\n        this.onTruncate = this.onTruncate.bind(this);\r\n        this.calcTargetWidth = this.calcTargetWidth.bind(this);\r\n        this.measureWidth = this.measureWidth.bind(this);\r\n        this.getLines = this.getLines.bind(this);\r\n        this.renderLine = this.renderLine.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {\r\n            elements: {\r\n                text\r\n            },\r\n            calcTargetWidth,\r\n            onResize\r\n        } = this;\r\n\r\n        const canvas = document.createElement('canvas');\r\n        this.canvasContext = canvas.getContext('2d');\r\n\r\n        calcTargetWidth(() => {\r\n            // Node not needed in document tree to read its content\r\n            if (text) {\r\n                text.parentNode.removeChild(text);\r\n            }\r\n        });\r\n\r\n        window.addEventListener('resize', onResize);\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        // Render was based on outdated refs and needs to be rerun\r\n        if (this.props.children !== prevProps.children) {\r\n            this.forceUpdate();\r\n        }\r\n\r\n        // If the width prop has changed, recalculate size of contents\r\n        if (this.props.width !== prevProps.width) {\r\n            this.calcTargetWidth();\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        const {\r\n            elements: {\r\n                ellipsis\r\n            },\r\n            onResize,\r\n            timeout\r\n        } = this;\r\n\r\n        ellipsis.parentNode.removeChild(ellipsis);\r\n\r\n        window.removeEventListener('resize', onResize);\r\n\r\n        window.cancelAnimationFrame(timeout);\r\n    }\r\n\r\n    // Shim innerText to consistently break lines at <br/> but not at \\n\r\n    innerText(node) {\r\n        const div = document.createElement('div');\r\n        const contentKey = 'innerText' in window.HTMLElement.prototype ? 'innerText' : 'textContent';\r\n\r\n        div.innerHTML = node.innerHTML.replace(/\\r\\n|\\r|\\n/g, ' ');\r\n\r\n        let text = div[contentKey];\r\n\r\n        const test = document.createElement('div');\r\n        test.innerHTML = 'foo<br/>bar';\r\n\r\n        if (test[contentKey].replace(/\\r\\n|\\r/g, '\\n') !== 'foo\\nbar') {\r\n            div.innerHTML = div.innerHTML.replace(/<br.*?[\\/]?>/gi, '\\n');\r\n            text = div[contentKey];\r\n        }\r\n\r\n        return text;\r\n    }\r\n\r\n    onResize() {\r\n        this.calcTargetWidth();\r\n    }\r\n\r\n    onTruncate(didTruncate) {\r\n        const {\r\n            onTruncate\r\n        } = this.props;\r\n\r\n        if (typeof onTruncate === 'function') {\r\n            this.timeout = window.requestAnimationFrame(() => {\r\n                onTruncate(didTruncate);\r\n            });\r\n        }\r\n    }\r\n\r\n    calcTargetWidth(callback) {\r\n        const {\r\n            elements: {\r\n                target\r\n            },\r\n            calcTargetWidth,\r\n            canvasContext,\r\n            props: {\r\n                width\r\n            }\r\n        } = this;\r\n\r\n        // Calculation is no longer relevant, since node has been removed\r\n        if (!target) {\r\n            return;\r\n        }\r\n\r\n        const targetWidth = (\r\n            width ||\r\n            // Floor the result to deal with browser subpixel precision\r\n            Math.floor(target.parentNode.getBoundingClientRect().width)\r\n        );\r\n\r\n        // Delay calculation until parent node is inserted to the document\r\n        // Mounting order in React is ChildComponent, ParentComponent\r\n        if (!targetWidth) {\r\n            return window.requestAnimationFrame(() => calcTargetWidth(callback));\r\n        }\r\n\r\n        const style = window.getComputedStyle(target);\r\n\r\n        const font = [\r\n            style['font-weight'],\r\n            style['font-style'],\r\n            style['font-size'],\r\n            style['font-family']\r\n        ].join(' ');\r\n\r\n        canvasContext.font = font;\r\n\r\n        this.setState({\r\n            targetWidth\r\n        }, callback);\r\n    }\r\n\r\n    measureWidth(text) {\r\n        return this.canvasContext.measureText(text).width;\r\n    }\r\n\r\n    ellipsisWidth(node) {\r\n        return node.offsetWidth;\r\n    }\r\n\r\n    trimRight(text) {\r\n        return text.replace(/\\s+$/, '');\r\n    }\r\n\r\n    isHtmlMode() {\r\n        if (this.props.urlPath === null || this.props.urlPath === undefined)\r\n            return false;\r\n\r\n        if (this.props.urlPath.length === 0)\r\n            return false;\r\n        \r\n        return true;\r\n    }\r\n\r\n    spliteText = (pureText) => {\r\n        let list = [];\r\n        let textList = pureText.split(',');\r\n        for (var i = 0; i < textList.length; ++i) {\r\n            let text = textList[i];\r\n            let link = '/' + this.props.urlPath + '/' + encodeURIComponent(text.trim());\r\n            let isLast = (i + 1) === textList.length;\r\n\r\n            list.push(\r\n                <span key={text}>\r\n                    <a href={link} target=\"_blank\">{text}</a>{isLast ? '' : ', '}\r\n                </span>);\r\n        }\r\n\r\n        return list;\r\n    }\r\n    \r\n    getLines() {\r\n        const {\r\n            elements,\r\n            props: {\r\n                lines: numLines,\r\n                ellipsis,\r\n                trimWhitespace\r\n            },\r\n            state: {\r\n                targetWidth\r\n            },\r\n            innerText,\r\n            measureWidth,\r\n            onTruncate,\r\n            trimRight\r\n        } = this;\r\n\r\n        const lines = [];\r\n        const text = innerText(elements.text);\r\n        const textLines = text.split('\\n').map(line => line.split(' '));\r\n        let didTruncate = true;\r\n        const ellipsisWidth = this.ellipsisWidth(this.elements.ellipsis);\r\n\r\n        for (let line = 1; line <= numLines; line++) {\r\n            const textWords = textLines[0];\r\n\r\n            // Handle newline\r\n            if (textWords.length === 0) {\r\n                lines.push();\r\n                textLines.shift();\r\n                line--;\r\n                continue;\r\n            }\r\n\r\n            let resultLine = textWords.join(' ');\r\n\r\n            if (measureWidth(resultLine) <= targetWidth) {\r\n                if (textLines.length === 1) {\r\n                    // Line is end of text and fits without truncating\r\n                    didTruncate = false;\r\n\r\n                    // philz\r\n                    if (this.isHtmlMode())\r\n                        lines.push(this.spliteText(resultLine));\r\n                    else\r\n                        lines.push(resultLine);\r\n                    //lines.push(resultLine);\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (line === numLines) {\r\n                // Binary search determining the longest possible line inluding truncate string\r\n                const textRest = textWords.join(' ');\r\n\r\n                let lower = 0;\r\n                let upper = textRest.length - 1;\r\n\r\n                while (lower <= upper) {\r\n                    const middle = Math.floor((lower + upper) / 2);\r\n\r\n                    const testLine = textRest.slice(0, middle + 1);\r\n\r\n                    if (measureWidth(testLine) + ellipsisWidth <= targetWidth) {\r\n                        lower = middle + 1;\r\n                    } else {\r\n                        upper = middle - 1;\r\n                    }\r\n                }\r\n\r\n                let lastLineText = textRest.slice(0, lower);\r\n\r\n                if (trimWhitespace) {\r\n                    lastLineText = trimRight(lastLineText);\r\n\r\n                    // Remove blank lines from the end of text\r\n                    while (!lastLineText.length && lines.length) {\r\n                        const prevLine = lines.pop();\r\n\r\n                        lastLineText = trimRight(prevLine);\r\n                    }\r\n                }\r\n\r\n                // philz\r\n                if (this.isHtmlMode())\r\n                    resultLine = <span>{this.spliteText(lastLineText)}{ellipsis}</span>\r\n                else\r\n                    resultLine = <span>{lastLineText}{ellipsis}</span>;\r\n                //resultLine = <span>{lastLineText}{ellipsis}</span>;\r\n            } else {\r\n                // Binary search determining when the line breaks\r\n                let lower = 0;\r\n                let upper = textWords.length - 1;\r\n\r\n                while (lower <= upper) {\r\n                    const middle = Math.floor((lower + upper) / 2);\r\n\r\n                    const testLine = textWords.slice(0, middle + 1).join(' ');\r\n\r\n                    if (measureWidth(testLine) <= targetWidth) {\r\n                        lower = middle + 1;\r\n                    } else {\r\n                        upper = middle - 1;\r\n                    }\r\n                }\r\n\r\n                // The first word of this line is too long to fit it\r\n                if (lower === 0) {\r\n                    // Jump to processing of last line\r\n                    line = numLines - 1;\r\n                    continue;\r\n                }\r\n\r\n                // philz\r\n                if (this.isHtmlMode())\r\n                    resultLine = this.spliteText(resultLine);\r\n                else\r\n                    resultLine = textWords.slice(0, lower).join(' ');\r\n                //resultLine = textWords.slice(0, lower).join(' ');\r\n                textLines[0].splice(0, lower);\r\n            }\r\n\r\n            lines.push(resultLine);\r\n        }\r\n\r\n        onTruncate(didTruncate);\r\n\r\n        return lines;\r\n    }\r\n\r\n    renderLine(line, i, arr) {\r\n        if (i === arr.length - 1) {\r\n            return <span key={i}>{line}</span>;\r\n        } else {\r\n            const br = <br key={i + 'br'} />;\r\n\r\n            if (line) {\r\n                return [\r\n                    <span key={i}>{line}</span>,\r\n                    br\r\n                ];\r\n            } else {\r\n                return br;\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            elements: {\r\n                target\r\n            },\r\n            props: {\r\n                children,\r\n                ellipsis,\r\n                lines,\r\n                ...spanProps\r\n            },\r\n            state: {\r\n                targetWidth\r\n            },\r\n            getLines,\r\n            renderLine,\r\n            onTruncate\r\n        } = this;\r\n\r\n        let text;\r\n\r\n        const mounted = !!(target && targetWidth);\r\n\r\n        if (typeof window !== 'undefined' && mounted) {\r\n            if (lines > 0) {\r\n                text = getLines().map(renderLine);\r\n            } else {\r\n                // philz\r\n                if (this.isHtmlMode())\r\n                    text = this.spliteText(children);\r\n                else\r\n                    text = children;\r\n                //text = children;\r\n\r\n                onTruncate(false);\r\n            }\r\n        }\r\n\r\n        delete spanProps.onTruncate;\r\n        delete spanProps.trimWhitespace;\r\n\r\n        return (\r\n            <span {...spanProps} ref={(targetEl) => { this.elements.target = targetEl; }}>\r\n                <span>{text}</span>\r\n                <span ref={(textEl) => { this.elements.text = textEl; }}>{children}</span>\r\n                <span ref={(ellipsisEl) => { this.elements.ellipsis = ellipsisEl; }} style={this.styles.ellipsis}>\r\n                    {ellipsis}\r\n                </span>\r\n            </span>\r\n        );\r\n    }\r\n\r\n    styles = {\r\n        ellipsis: {\r\n            position: 'fixed',\r\n            visibility: 'hidden',\r\n            top: 0,\r\n            left: 0\r\n        }\r\n    };\r\n};","import React, { Component } from 'react';\r\nimport Truncate from './Truncate';\r\nimport LinesEllipsis from 'react-lines-ellipsis'\r\n\r\n\r\nexport class ExpandableLabel extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n        expanded: false,\r\n        truncated: false\r\n    };\r\n\r\n    this.handleTruncate = this.handleTruncate.bind(this);\r\n    this.toggleLines = this.toggleLines.bind(this);\r\n  }\r\n\r\n  handleTruncate(truncated) {\r\n    if (this.state.truncated !== truncated) {\r\n        this.setState({\r\n            truncated\r\n        });\r\n    }\r\n  }\r\n\r\n  toggleLines(event) {\r\n    event.preventDefault();\r\n\r\n    this.setState({\r\n        expanded: !this.state.expanded\r\n    });\r\n  }\r\n\r\n  childrenToString() {\r\n    let text = '';\r\n  }\r\n  /*\r\n  render() {\r\n    const { game } = this.props;\r\n    const { expanded, truncated } = this.state;\r\n\r\n    return (\r\n      <span>\r\n        <Truncate \r\n          width={560}\r\n          lines={!expanded && this.props.lines} \r\n          portrait={1} \r\n          breakWord={true} \r\n          ellipsis={(\r\n            <span>...<a href='#' onClick={this.toggleLines}>Read more</a></span>\r\n          )}\r\n          dangerouslySetInnerHTML={{\r\n            __html: this.props.htmlText\r\n           }}\r\n          onTruncate={this.handleTruncate} />\r\n        {!truncated && expanded && (\r\n          <span><a href='#' onClick={this.toggleLines}>{'<< Show less'}</a></span>\r\n        )}\r\n      </span>\r\n    );\r\n  }\r\n  */\r\n \r\n  render() {\r\n    const { game } = this.props;\r\n    const { expanded, truncated } = this.state;\r\n\r\n    return (\r\n      <span>\r\n        <Truncate \r\n          width={530}\r\n          lines={!expanded && this.props.lines} \r\n          ellipsis={(\r\n            <span>...<a href='#' onClick={this.toggleLines}> read more</a></span>\r\n          )}\r\n          onTruncate={this.handleTruncate}\r\n          urlPath={this.props.urlPath}\r\n        >\r\n        {this.props.children}\r\n        </Truncate>\r\n        {!truncated && expanded && (\r\n          <span><a href='#' onClick={this.toggleLines}>{' << show less'}</a></span>\r\n        )}\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ExpandableLabel;\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport Moment from 'react-moment';\r\n\r\nimport * as gamesActions from \"../store/modules/games\";\r\nimport { GameBannerImg, renderWebsite } from '../GameAPI';\r\nimport GameAPI from '../GameAPI.js'\r\n\r\nimport TopInfo from './TopInfo';\r\nimport Share from './Share';\r\nimport Price from './Price';\r\nimport Media from './media/Media';\r\nimport LiveStream from './liveStream/LiveStream';\r\nimport Pulse from './pulse/Pulse';\r\nimport Review from './review/Review';\r\nimport DLC from './dlc/DLC';\r\nimport Similar from './similar/Similar';\r\nimport ExpandableLabel from '../common/ExpandableLabel'\r\n\r\nimport '../App.css';\r\nimport './GameDetail.css'\r\n\r\n\r\nexport class GameDetail extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.getDetailGame(this.props.match.params.slug);\r\n\r\n    //console.log(this.props.games);\r\n    ///console.log(this.props.recommends);\r\n    //console.log(this.props.collects);\r\n\r\n    this.state = {\r\n\t\t\ttwitchUrl: '',\r\n\t\t};\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.scrollTo(0, 0)\r\n  }\r\n\r\n  getDetailGame = (slug_) => {\r\n    //const { getDetailGame } = this.props;\r\n    //getDetailGame(slug);\r\n    this.game = GameAPI.all().find(({ slug }) => slug === slug_);\r\n\t}\r\n\t  \r\n  getThumbnailContent = (game) => {\r\n    return (\r\n      <img src={game.thumbnail} width={120} height={90}/>\r\n    );\r\n  }\r\n  \r\n  renderTime2Beat = (text) => {\r\n    if(text === '' || text.split('|').length < 2) return '';\r\n\r\n    let mode = text.split('|')[0];\r\n    let seconds = parseInt(text.split('|')[1]);\r\n    let sMode;\r\n    \r\n    switch (mode) {\r\n      case 'hastly':\r\n        sMode = 'Hasty';\r\n        break;\r\n      case 'normally':\r\n        sMode = 'Normal';\r\n        break;\r\n      case 'completely':\r\n        sMode = 'Complete';\r\n        break;\r\n      default:\r\n        sMode = 'Normal';\r\n        break;\r\n    }\r\n\r\n    return `${Math.round(seconds/3600)}h (${sMode} mode), `;\r\n  }\r\n  \r\n  renderTime2Beats = (texts) => {\r\n    return (\r\n      String(texts).split(',').map((text) => this.renderTime2Beat(text))\r\n    );\r\n  }\r\n\r\n  renderRatingImage = (rating_ref, index) => {\r\n    if(rating_ref === '' || rating_ref.split('|').length < 2) return '';\r\n\r\n    let kind = rating_ref.split('|')[0];\r\n    let level = parseInt(rating_ref.split('|')[1]);\r\n    let sImagePath = '/eyeq-pages/images/';\r\n\r\n    if (kind === 'esrb') {\r\n      sImagePath = `${sImagePath}ESRB_`;\r\n\r\n      switch (level) {\r\n        case 1:\r\n          sImagePath = `${sImagePath}Pending.svg`;\r\n          break;\r\n        case 2:\r\n          sImagePath = `${sImagePath}Everyone.svg`;\r\n          break;\r\n        case 3:\r\n          sImagePath = `${sImagePath}Everyone.svg`;\r\n          break;\r\n        case 4:\r\n          sImagePath = `${sImagePath}Everyone10.svg`;\r\n          break;\r\n        case 5:\r\n          sImagePath = `${sImagePath}Teen.svg`;\r\n          break;\r\n        case 6:\r\n          sImagePath = `${sImagePath}Mature17.svg`;\r\n          break;\r\n        case 7:\r\n          sImagePath = `${sImagePath}Adult18.svg`;\r\n          break;\r\n        default:\r\n          sImagePath = `${sImagePath}Pending.svg`;\r\n          break;\r\n      }\r\n    }\r\n    else if (kind === 'pegi') {\r\n      sImagePath = `${sImagePath}PEGI_`;\r\n        \r\n      switch (level) {\r\n        case 1:\r\n          sImagePath = `${sImagePath}3.svg`;\r\n          break;\r\n        case 2:\r\n          sImagePath = `${sImagePath}7.svg`;\r\n          break;\r\n        case 3:\r\n          sImagePath = `${sImagePath}12.svg`;\r\n          break;\r\n        case 4:\r\n          sImagePath = `${sImagePath}16.svg`;\r\n          break;\r\n        case 5:\r\n          sImagePath = `${sImagePath}18.svg`;\r\n          break;\r\n        default:\r\n          sImagePath = `${sImagePath}4.svg`;\r\n          break;\r\n      }\r\n    }\r\n\r\n    return (\r\n      index > 0? <img src={sImagePath} className=\"padding-l-16\" />\r\n      : <img src={sImagePath} />\r\n    );\r\n  }\r\n\r\n  renderRatingImages = (rating_refs) => {\r\n    return (\r\n        String(rating_refs).split(',').map((rating_ref, index) => rating_ref !== '' ? \r\n          this.renderRatingImage(rating_ref, index) : '')\r\n    );\r\n  }\r\n\r\n  renderDLCs = (dlcs) => {\r\n    if (dlcs.length == 0)\r\n      return null\r\n      \r\n    return (\r\n      <div>\r\n        <div className=\"divider\" />\r\n        <DLC games={dlcs} />\r\n      </div>\r\n      );\r\n  }\r\n\r\n  render() {\r\n    if(!this.game.summary) return null;\r\n\r\n    return (\r\n      <div className=\"gameDetail\">\r\n        <div className=\"banner\">\r\n          <GameBannerImg gameData={this.game} />\r\n        </div>\r\n        <div className=\"container\">\r\n          <TopInfo gameData={this.game} />\r\n          <div className=\"infoGroup\" >\r\n            <div className=\"infoLeft\" >\r\n              <div className=\"padding-t-16\"/>\r\n              <ExpandableLabel lines={5} children={this.game.summary} />\r\n              <div className=\"padding-t-16\"/>\r\n              <p><b>Release Date:</b> <Moment format='Do MMM, YYYY'>{this.game.released_at}</Moment></p>\r\n              <p><b>Categories:</b> <ExpandableLabel lines={1} children={this.game.categories} urlPath={\"category\"} /></p>\r\n              <p><b>Developer:</b> <ExpandableLabel lines={1} children={this.game.developers} urlPath={\"company\"} /></p>\r\n              <p><b>Publisher:</b> <ExpandableLabel lines={1} children={this.game.publishers} urlPath={\"company\"} /></p>\r\n              <p><b>Time to beat:</b> {this.renderTime2Beats(this.game.time_to_beat)}</p>\r\n              <p><b>Tags:</b> <ExpandableLabel lines={1} children={this.game.tags} urlPath={\"Keyword\"} /></p>\r\n              \r\n              <div className=\"website padding-t-16 horizontal-direction\" >\r\n                <a href={renderWebsite(this.game.websites, 1)} target=\"_blank\" className=\"vertical-center\"> Official Website</a>\r\n                <a href={renderWebsite(this.game.websites, 1)} target=\"_blank\"><img src={'/eyeq-pages/images/icon_link.svg'} /></a>\r\n              </div>\r\n\r\n              <div className=\"padding-t-16\" >\r\n                {this.renderRatingImages(this.game.rating_refs)}\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"infoRight\">\r\n              <Price game={this.game} />\r\n              <Share />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"divider margin-t-16\" />\r\n          <Review game={this.game} />\r\n\r\n          <div className=\"divider margin-t-16\" />\r\n          <LiveStream game={this.game} />\r\n\r\n          <div className=\"divider margin-t-16\" />\r\n          <Media game={this.game} />\r\n\r\n          {this.renderDLCs(this.game.dlc_games)}\r\n          \r\n          <div>\r\n            <div className=\"divider\" />\r\n            <Similar games={this.game.similar_games} />\r\n          </div>\r\n\r\n          <div>\r\n            <div className=\"divider\" />\r\n            <Pulse gameId={this.game.igdb_id} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  games: state.games.games,\r\n  recommends: state.recommendation.games,\r\n  collects: state.collection.ratings,\r\n  game: state.games.game,\r\n  logged: state.auth.logged,\r\n  needed: state.auth.needed,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    getDetailGame: (slug) => {\r\n      dispatch(gamesActions.getDetailGame(slug));\r\n    },\r\n    createRating: ({slug, value}) => {\r\n      dispatch(gamesActions.createRating({slug, value}));\r\n    },\r\n    updateRating: ({slug, id, value}) => {\r\n        dispatch(gamesActions.updateRating({slug, id, value}));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(GameDetail);\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './TextMenu.css';\r\n\r\n\r\nexport default class TextMenu extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<ul>\r\n\t\t\t\t{this.props.menus.map((item) => (\r\n\t\t\t\t\t<TextMenuItem\r\n\t\t\t\t\t\tkey={item.id}\r\n\t\t\t\t\t\tid={item.id}\r\n\t\t\t\t\t\ttitle={item.title}\r\n\t\t\t\t\t\tonItemClick={this.props.onItemClick}\r\n\t\t\t\t\t\tactive={item.id === this.props.activeItemId}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t</ul>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nclass TextMenuItem extends Component {\r\n\thandleClick = () => {\r\n\t\tthis.props.onItemClick(this.props.id);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst style = this.props.active ? 'textmenu_item_active' : 'textmenu_item_deactive';\r\n\t\treturn (\r\n\t\t\t<li className={style} onClick={this.handleClick}>\r\n\t\t\t\t{this.props.title}\r\n\t\t\t</li>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\nTextMenu.propTypes = {\r\n\t// + menus(array)\r\n\t//  - id(number)\r\n\t//  - title(string)\r\n\tmenus: PropTypes.array.isRequired,\r\n\tonItemClick: PropTypes.func.isRequired,\r\n\tactiveItemId: PropTypes.number.isRequired,\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom'\r\nimport PropTypes from 'prop-types';\r\nimport TextMenu from './common/TextMenu'\r\nimport './TopMenu.css';\r\nimport './App.css';\r\n\r\n\r\nconst menus = [\r\n\t{\r\n\t\tid: 1,\r\n\t\ttitle: \"Rating\"\r\n\t},\r\n\t{\r\n\t\tid: 2,\r\n\t\ttitle: \"Recommendation\"\r\n\t},\r\n\t{\r\n\t\tid: 3,\r\n\t\ttitle: \"Collection\"\r\n\t}\r\n]\r\n\r\n\r\nexport default class Menu extends Component {\r\n\tstatic propTypes = {\r\n\t\tactiveMenuId: PropTypes.number.isRequired,\r\n\t}\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tredirect: false,\r\n\t\t}\r\n\t}\r\n\r\n\thandleMenuChanged = (menuId) => {\r\n\t\tconsole.log(menuId);\r\n\t\tif(this.props.activeMenuId !== menuId) {\r\n\t\t\tthis.activeMenuId = menuId;\r\n\t\t\tthis.setState({redirect: true});\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.state.redirect) {\r\n\t\t\tswitch(this.activeMenuId) {\r\n\t\t\t\tcase 1: return <Redirect push to='/rating'/>;\r\n\t\t\t\tcase 2: return <Redirect push to='/recommendation'/>;\r\n\t\t\t\tcase 3: return <Redirect push to='/collection'/>;\r\n\t\t\t\tdefault: return <Redirect push to='/'/>;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"topMenu\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<TextMenu\r\n\t\t\t\t\t\tmenus={menus}\r\n\t\t\t\t\t\tonItemClick={this.handleMenuChanged}\r\n\t\t\t\t\t\tactiveItemId={this.props.activeMenuId} />\r\n\t\t\t\t</div>\t\t\t\t\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n","import React from 'react';\r\n\r\nimport './App.css';\r\nimport './Footer.css';\r\n\r\nexport default function Footer() {\r\n\treturn (\r\n\t\t<div className=\"footer\">\r\n\t\t\t<img src={'/eyeq-pages/images/playgroundz_logo_gray.svg'} alt='icon' />\r\n\t\t\t<p>About  •  IOG Token  •  FAQ</p>\r\n\t\t\t<p className=\"margin-t-8\">Privacy Policy, User Agreement</p>\r\n\t\t\t<p>©2018 Playgroundz Foundation</p>\r\n\t\t\t<p>All rights reserved.</p>\r\n        </div>\r\n\t)\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport TextMenu from '../common/TextMenu'\r\nimport './RatingCategory.css';\r\n\r\nconst categories = [\r\n\t{\r\n\t\tid: 1,\r\n\t\ttitle: \"Release Date\",\r\n\t},\r\n\t{\r\n\t\tid: 2,\r\n\t\ttitle: \"Top Critic Rating\",\r\n\t},\r\n\t{\r\n\t\tid: 3,\r\n\t\ttitle: \"Adventure\",\r\n\t},\r\n\t{\r\n\t\tid: 4,\r\n\t\ttitle: \"Action\",\r\n\t},\r\n\t{\r\n\t\tid: 5,\r\n\t\ttitle: \"Role-playing\",\r\n\t},\r\n\t{\r\n\t\tid: 6,\r\n\t\ttitle: \"Strategy\",\r\n\t},\r\n\t{\r\n\t\tid: 7,\r\n\t\ttitle: \"Sports\",\r\n\t},\r\n\t{\r\n\t\tid: 8,\r\n\t\ttitle: \"Xbox One\",\r\n\t},\r\n\t{\r\n\t\tid: 9,\r\n\t\ttitle: \"Nintendo Switch\",\r\n\t},\r\n\t{\r\n\t\tid: 10,\r\n\t\ttitle: \"Indie\",\r\n\t}\r\n]\r\n\r\nexport default class RatingCategory extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tactiveItemId: props.activeSortId\r\n\t\t}\r\n\t}\r\n\t\t\r\n\tonItemClick = (itemId) => {\r\n\t\tthis.setState({ activeItemId: itemId });\r\n\t\tthis.props.changeSort(itemId);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"ratingCategory\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<h1>Sort by</h1>\r\n\t\t\t\t\t<TextMenu\r\n\t\t\t\t\t\tmenus={categories}\r\n\t\t\t\t\t\tonItemClick={this.onItemClick}\r\n\t\t\t\t\t\tactiveItemId={this.state.activeItemId} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n","import React from 'react';\r\nimport './Description.css';\r\n\r\n\r\nfunction Description() {\r\n\treturn (\r\n\t\t<div className=\"Description\">\r\n\t\t\t<div className=\"Container\">\r\n\t\t\t\t<h1>EyeQ</h1>\r\n\t\t\t\t<p className=\"padding-top-6\">Your ratings make Playgroundz better. \r\n\t\t\t\tYou can make your own Collection and be recommended new games. \r\n\t\t\t\tComing soon!</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Description;\r\n","import React,  { PureComponent }  from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport PropTypes from 'prop-types'\r\n\r\n\r\nconst modalRoot = document.getElementById('root')\r\n\r\nexport default class Overlay extends PureComponent {\r\n\r\n  static propTypes = {\r\n    children: PropTypes.node\r\n  }\r\n\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.el = document.createElement('div')\r\n  }\r\n\r\n  componentDidMount() {\r\n    modalRoot.appendChild(this.el)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    modalRoot.removeChild(this.el)\r\n  }\r\n\r\n  render() {\r\n    return ReactDOM.createPortal(this.props.children, this.el)\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport {Editor, EditorState, RichUtils, convertToRaw, convertFromRaw} from 'draft-js';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport \"draft-js/dist/Draft.css\"\r\nimport './ReviewEditor.css';\r\n\r\n\r\nexport default class ReviewEditor extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n\r\n    const { content } = this.props;\r\n\r\n    if(content)\r\n      this.state.editorState = EditorState.createWithContent(convertFromRaw(JSON.parse(content)));\r\n    else\r\n      this.state.editorState = EditorState.createEmpty();\r\n\r\n    this.focus = () => {\r\n      this.refs.editor.focus();\r\n    }\r\n\r\n    this.onChange = (editorState) => {\r\n      const contentState = editorState.getCurrentContent();\r\n      this.props.onContentChange(convertToRaw(contentState));\r\n      this.setState({ editorState });\r\n    }\r\n\r\n    this.handleKeyCommand = (command) => {\r\n      const { editorState } = this.state;\r\n      const newState = RichUtils.handleKeyCommand(editorState, command);\r\n\r\n      if (newState) {\r\n        this.onChange(newState);\r\n        return true;\r\n      }\r\n\r\n      return false;\r\n    }\r\n\r\n    this.onTab = (e) => {\r\n      const maxDepth = 4;\r\n      this.onChange(RichUtils.onTab(e, this.state.editorState, maxDepth));\r\n    }\r\n\r\n    this.toggleBlockType = (type) => {\r\n      this.onChange(\r\n        RichUtils.toggleBlockType(\r\n          this.state.editorState,\r\n          type\r\n        )\r\n      );\r\n    }\r\n\r\n    this.toggleInlineStyle = (style) => \r\n    {\r\n      this.onChange(\r\n        RichUtils.toggleInlineStyle(\r\n          this.state.editorState,\r\n          style\r\n        )\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { editorState } = this.state;\r\n\r\n    let className = 'RichEditor-editor';\r\n    var contentState = editorState.getCurrentContent();\r\n    if (!contentState.hasText()) {\r\n      if (contentState.getBlockMap().first().getType() !== 'unstyled') {\r\n        className += ' RichEditor-hidePlaceholder';\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div className=\"RichEditor-root\">        \r\n        <StyleControls\r\n          editorState={editorState}\r\n          onToggleBlock={this.toggleBlockType}\r\n          onToggleStyle={this.toggleInlineStyle}\r\n        />\r\n        <div className={className} onClick={this.focus}>\r\n          <Editor\r\n            blockStyleFn={getBlockStyle}\r\n            editorState={editorState}\r\n            handleKeyCommand={this.handleKeyCommand}\r\n            onChange={this.onChange}\r\n            onTab={this.onTab}\r\n            placeholder=\"Please describe what you liked or disliked about this game and whether you recommend it to others.\"\r\n            ref=\"editor\"\r\n            spellCheck={true}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nfunction getBlockStyle(block) {\r\n  switch (block.getType()) {\r\n    case 'blockquote': return 'RichEditor-blockquote';\r\n    default: return null;\r\n  }\r\n}\r\n\r\n\r\nclass StyleButton extends React.Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.onToggle = (e) => {\r\n      e.preventDefault();\r\n      this.props.onToggle(this.props.style);\r\n    };\r\n  }\r\n\r\n  render() {\r\n    var className = 'RichEditor-styleButton';\r\n    if (this.props.active) {\r\n      className += ' RichEditor-activeButton';\r\n    }\r\n\r\n    var imgPath = \"/eyeq-pages/images/review_toolbar_\" + this.props.label + \".svg\";\r\n\r\n    return (      \r\n      <span className={className} onMouseDown={this.onToggle}>\r\n        <img src={imgPath} width='40px'/>\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nconst STYLE_TYPES = [\r\n  { label: 'title', style: 'header-one', isBlock: true },\r\n  { label: 'quote', style: 'blockquote', isBlock: true },\r\n  { label: 'list', style: 'unordered-list-item', isBlock: true },\r\n  { label: 'bold', style: 'BOLD', isBlock: false },\r\n  { label: 'italic', style: 'ITALIC', isBlock: false },\r\n  { label: 'underline', style: 'UNDERLINE', isBlock: false },\r\n];\r\n\r\nconst StyleControls = (props) => {\r\n  const { editorState } = props;\r\n  const selection = editorState.getSelection();\r\n  const blockType = editorState\r\n    .getCurrentContent()\r\n    .getBlockForKey(selection.getStartKey())\r\n    .getType();\r\n\r\n  var currentStyle = props.editorState.getCurrentInlineStyle();\r\n\r\n  return (\r\n    <div className=\"RichEditor-controls\">\r\n      {STYLE_TYPES.map((type) =>\r\n        type.isBlock\r\n          ?\r\n          <StyleButton\r\n            key={type.label}\r\n            active={type.style === blockType}\r\n            label={type.label}\r\n            onToggle={props.onToggleBlock}\r\n            style={type.style}\r\n          />\r\n          : \r\n          <StyleButton\r\n            key={type.label}\r\n            active={currentStyle.has(type.style)}\r\n            label={type.label}\r\n            onToggle={props.onToggleStyle}\r\n            style={type.style}\r\n          />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Rating from 'react-rating';\r\nimport Moment from 'react-moment';\r\nimport { connect } from \"react-redux\";\r\n\r\nimport Overlay from './common/Overlay'\r\nimport ReviewEditor from './common/ReviewEditor.js';\r\nimport { GameCoverImg, GameBannerImg } from './GameAPI';\r\nimport './GameReview.css';\r\n\r\nimport * as authActions from \"./store/modules/auth\";\r\nimport * as gamesActions from \"./store/modules/games\";\r\n\r\nexport class GameReview extends Component {\r\n  static propTypes = {\r\n    onClose: PropTypes.func.isRequired\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      content: this.props.item.my_review && this.props.item.my_review.content\r\n    }\r\n  }\r\n\r\n  handleRated = (rate) => {\r\n\t\tconst { logged, needLogin, item, createRating, updateRating } = this.props;\r\n\t\tif(!logged) {\r\n\t\t\tneedLogin(true);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst value = rate\r\n\t\tconst slug = item.slug;\r\n\t\tif(item.my_rating) {\r\n\t\t\tconst id = item.my_rating.id;\r\n\t\t\tupdateRating({slug, id, value});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tcreateRating({slug, value});\r\n  }\r\n\r\n  handleContentChange = (content) => {\r\n    this.setState({\r\n      content: JSON.stringify(content),\r\n    });\r\n  }\r\n\r\n  handlePost = () => {\r\n\t\tconst { logged, needLogin, item, createReview, updateReview, onClose, onChangeReview } = this.props;\r\n\t\tif(!logged) {\r\n\t\t\tneedLogin(true);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n    const content = this.state.content;\r\n    if(!content) return;\r\n\r\n\t\tconst slug = item.slug;\r\n\t\tif(item.my_review) {\r\n\t\t\tconst id = item.my_review.id;\r\n\t\t\tupdateReview({slug, id, content});\r\n    }\r\n    else\r\n      createReview({slug, content});\r\n    \r\n    onChangeReview(JSON.parse(content).blocks[0].text);\r\n    onClose();\r\n  }\r\n  \r\n  render() {\r\n    const { item, onClose } = this.props;\r\n    return (\r\n      <Overlay>\r\n        <div className=\"gameReview\" >\r\n          <div className=\"gr-bg\" onClick={onClose}/>\r\n          <div className=\"gr-container\" >\r\n            <div className=\"gr-banner\" >\r\n              <GameBannerImg gameData={item} />\r\n            </div>\r\n            <div className=\"gr-cover\" >\r\n              <GameCoverImg gameData={item} />\r\n            </div>\r\n            <div className=\"gr-info\" >\r\n              <Rating\r\n                emptySymbol={<img src=\"/eyeq-pages/images/rate_star_empty_sm.svg\" className=\"gr-icon\" alt=\"\" />}\r\n                fullSymbol={<img src=\"/eyeq-pages/images/rate_star_full_sm.svg\" className=\"gr-icon\" alt=\"\" />}\r\n                fractions={2}\r\n                initialRating={item.my_rating? parseFloat(item.my_rating.value) : 0}\r\n                style={{...Rating.style, 'marginLeft': '-3px'}}\r\n                onChange={this.handleRated}\r\n              />\r\n              <h1>{this.props.item.title}</h1>\r\n              <p><Moment format='Do MMM, YYYY'>{item.released_at}</Moment> • {item.platforms}</p>\r\n            </div>\r\n            <div className=\"divider\" />\r\n\r\n            <div>\r\n              <ReviewEditor content={item.my_review && item.my_review.content} onContentChange={this.handleContentChange.bind(this)}/>\r\n            </div>\r\n\r\n            <div className=\"buttons\">\r\n              <div onClick={onClose} className=\"close\">\r\n                Cancel\r\n              </div>\r\n              <div onClick={this.handlePost} className=\"submit\">\r\n                Post Review\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Overlay>\r\n    )\r\n  }\r\n}\r\n\r\nconst isJson = (str) => {\r\n  try {\r\n    JSON.parse(str);\r\n  } catch(e) {\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  logged: state.auth.logged,\r\n  needed: state.auth.needed,\r\n  error: state.auth.error\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    needLogin: (needed) => {\r\n      dispatch(authActions.needLogin(needed));\r\n    },\r\n    createRating: ({slug, value}) => {\r\n      dispatch(gamesActions.createRating({slug, value}));\r\n    },\r\n    updateRating: ({slug, id, value}) => {\r\n      dispatch(gamesActions.updateRating({slug, id, value}));\r\n    },\r\n    createReview: ({slug, content}) => {\r\n      dispatch(gamesActions.createReview({slug, content}));\r\n    },\r\n    updateReview: ({slug, id, content}) => {\r\n      dispatch(gamesActions.updateReview({slug, id, content}));\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(GameReview);\r\n","import React, { Component } from 'react';\r\nimport Rating from 'react-rating';\r\nimport Moment from 'react-moment';\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nimport GameReview from '../GameReview'\r\nimport { GameCoverImg } from '../GameAPI';\r\nimport './RatingCard.css';\r\n\r\nimport * as authActions from \"../store/modules/auth\";\r\nimport * as gamesActions from \"../store/modules/games\";\r\n\r\nexport class RatingCard extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tvisibleReviewWindow: false,\r\n\t\t\treview: ''\r\n\t\t}\r\n\r\n\t\tthis.randomPredict = (2.0 + Math.random() * (5.0 - 2.0)).toFixed(1);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { item } = this.props;\r\n\t\tif(item.my_review)\r\n\t\t\tthis.handleChangeReview(JSON.parse(item.my_review.content).blocks[0].text);\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tconst { item } = this.props;\r\n\t\tif(prevState.review === '' && item.my_review)\r\n\t\t\tthis.handleChangeReview(JSON.parse(item.my_review.content).blocks[0].text);\r\n\t}\r\n\r\n\thandleChangeReview = (review) => {\r\n\t\tthis.setState({ review });\r\n\t}\r\n\r\n\thandleRated = (rate) => {\r\n\t\tconst { logged, needLogin, item, createRating, updateRating } = this.props;\r\n\t\tif(!logged) {\r\n\t\t\tneedLogin(true);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst value = rate\r\n\t\tconst slug = item.slug;\r\n\t\tif(item.my_rating) {\r\n\t\t\tconst id = item.my_rating.id;\r\n\t\t\tupdateRating({slug, id, value});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tcreateRating({slug, value});\r\n\t}\r\n\r\n\thandleOpenComment = () => {\r\n\t\tthis.setState({ visibleReviewWindow: true });\r\n\t}\r\n\r\n\thandleCloseComment = () => {\r\n\t\tthis.setState({ visibleReviewWindow: false });\r\n\t}\r\n\r\n\trenderReviewWindow = () => (\r\n\t\t<GameReview item={this.props.item} onClose={this.handleCloseComment} onChangeReview={this.handleChangeReview.bind(this)}/>\r\n\t)\r\n\r\n\thandleClickCard = () => {\r\n\t\tthis.setState({ redirect: true });\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.state.redirect) {\r\n\t\t\treturn <Redirect push to={'/game/' + this.props.item.slug}/>;\r\n    \t}\r\n\r\n\t\tconst { item } = this.props;\r\n\t\treturn (\r\n\t\t\t<div className=\"ratingCard\">\t\t\t\r\n\t\t\t\t<div className=\"cover\" onClick={this.handleClickCard}>\r\n\t\t\t\t\t<GameCoverImg gameData={item} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"rc-container horizontal-direction\">\r\n\t\t\t\t\t<div className=\"rc-left\">\r\n\t\t\t\t\t\t<h1>{item.title}</h1>\r\n\t\t\t\t\t\t<p><Moment format='Do MMM, YYYY'>{item.released_at}</Moment> • {item.platforms}</p>\r\n\t\t\t\t\t\t<Rating\r\n\t\t\t\t\t\t\temptySymbol={<img src=\"/eyeq-pages/images/rate_star_empty.svg\" className=\"icon\" alt=\"\" />}\r\n\t\t\t\t\t\t\tfullSymbol={<img src=\"/eyeq-pages/images/rate_star_full.svg\" className=\"icon\" alt=\"\" />}\r\n\t\t\t\t\t\t\tfractions={2}\r\n\t\t\t\t\t\t\tinitialRating={item.my_rating? parseFloat(item.my_rating.value) : 0}\r\n\t\t\t\t\t\t\tstyle={{ ...Rating.style, 'marginLeft': '-3px', 'paddingTop': '7px' }}\r\n\t\t\t\t\t\t\tonChange={this.handleRated}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"rc-right\">\r\n\t\t\t\t\t\t<div className=\"predict horizontal-direction\" >\r\n              \t\t\t\t<div className=\"label vertical-center\">Predicted</div>\r\n              \t\t\t\t<div className=\"score vertical-center\">{this.randomPredict}</div>\r\n            \t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"review\" onClick={this.handleOpenComment}>\r\n\t\t\t\t\t\t\t<img src={'/eyeq-pages/images/button_write_review.svg'} alt='icon' />\r\n\t\t\t\t\t\t\t<p>Review</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"bottomLine\" />\r\n\t\t\t\t{this.state.visibleReviewWindow && this.renderReviewWindow()}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tgames: state.games.games,\r\n    logged: state.auth.logged,\r\n    needed: state.auth.needed,\r\n    error: state.auth.error\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        needLogin: (needed) => {\r\n            dispatch(authActions.needLogin(needed));\r\n        },\r\n        createRating: ({slug, value}) => {\r\n            dispatch(gamesActions.createRating({slug, value}));\r\n        },\r\n        updateRating: ({slug, id, value}) => {\r\n            dispatch(gamesActions.updateRating({slug, id, value}));\r\n        }\r\n    };\r\n};\r\n  \r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(RatingCard);\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport GameAPI from '../GameAPI.js'\r\nimport RatingCard from './RatingCard'\r\nimport './RatingList.css';\r\n\r\nexport class RatingList extends Component {\r\n\trender() {\r\n\t\tconst { games } = GameAPI.all();\r\n\t\treturn (\r\n\t\t\t<div className=\"ratingList\">\r\n\t\t\t\t{GameAPI.all().map((game, i) => (\r\n\t\t\t\t\t<RatingCard key={i} item={game} />\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n \t\t)\r\n \t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tgames: state.games.games,\r\n\tlogged: state.auth.logged\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps\r\n)(RatingList);\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\n\r\nimport TopMenu from '../TopMenu'\r\nimport Footer from '../Footer'\r\nimport RatingCategory from './RatingCategory'\r\nimport Description from '../Description'\r\n\r\nimport RatingList from './RatingList'\r\nimport '../App.css'\r\n\r\nimport * as gameActions from \"../store/modules/games\";\r\n\r\nexport class Rating extends Component {\r\n\tstate = {\r\n\t\tsort: 2,\r\n\t\tquery: {\r\n\t\t\tpage: 1,\r\n\t\t\tordering: '',\r\n\t\t\tplatforms: '',\r\n\t\t\tcategories: ''\r\n\t\t}\r\n\t}\r\n\r\n\tchangeSort(sortId) {\r\n\t\tthis.setState(this.getQuery(sortId), function() {\r\n\t\t\tconst query = this.state.query;\r\n\t\t\tconst { getQueryGames } = this.props;\r\n\t\t\tgetQueryGames({query});\r\n\t\t\tthis.props.changeSortGames(sortId);\r\n\t\t});\r\n\t}\r\n\r\n\trefreshPage = () => {\r\n\t\tthis.getQueryGames();\r\n\t\tthis.props.changeSortGames(this.state.sort);\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tif(this.props.games.length === 0) {\r\n\t\t\tthis.refreshPage();\r\n\t\t}\r\n\t\twindow.addEventListener(\"scroll\", this.handleScroll);\r\n\t}\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"scroll\", this.handleScroll);\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif(prevProps.logged !== this.props.logged) {\r\n\t\t\tthis.refreshPage();\r\n\t\t}\r\n\t}\r\n\r\n  getQuery = (sortId, page = 1) => {\r\n\t\tconst retState = Object.assign({}, this.state);\r\n\r\n\t\tif(sortId !== this.state.sort) {\r\n\t\t\tretState.sort = sortId;\r\n\t\t\tretState.query.ordering = '';\r\n\t\t\tretState.query.platforms = '';\r\n\t\t\tretState.query.categories = '';\r\n\t\t}\r\n\t\tretState.query.page = page;\r\n\r\n    switch (sortId) {\r\n\t\t\tcase 1:\r\n\t\t\t\tretState.query.ordering = '-released_at';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tretState.query.ordering = '-critic_rating';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tretState.query.ordering = '-critic_rating_count';\r\n\t\t\t\tretState.query.categories = 2;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4:\r\n\t\t\t\tretState.query.ordering = '-critic_rating_count';\r\n\t\t\t\tretState.query.categories = 1;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 5:\r\n\t\t\t\tretState.query.ordering = '-critic_rating_count';\r\n\t\t\t\tretState.query.categories = 5;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 6:\r\n\t\t\t\tretState.query.ordering = '-critic_rating_count';\r\n\t\t\t\tretState.query.categories = 6;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 7:\r\n\t\t\t\tretState.query.ordering = '-critic_rating_count';\r\n\t\t\t\tretState.query.categories = 3;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 8:\r\n\t\t\t\tretState.query.ordering = '-critic_rating_count';\r\n\t\t\t\tretState.query.platforms = 9;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 9:\r\n\t\t\t\tretState.query.ordering = '-critic_rating_count';\r\n\t\t\t\tretState.query.platforms = 12;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 10:\r\n\t\t\t\tretState.query.ordering = '-critic_rating_count';\r\n\t\t\t\tretState.query.categories = 38;\r\n\t\t\t\tbreak;\r\n      default:\r\n\t\t\t\tretState.query.ordering = '-critic_rating';\r\n\t\t}\r\n\r\n\t\treturn retState;\r\n\t}\r\n\r\n\tgetQueryGames = () => {\r\n\t\tthis.setState(this.getQuery(this.state.sort), function() {\r\n\t\t\tconst query = this.state.query;\r\n\t\t\tconst { getQueryGames } = this.props;\r\n\t\t\tgetQueryGames({query});\r\n\t\t});\r\n\t}\r\n\t\r\n  handleScroll = () => {\r\n\t\tconst { innerHeight } = window;\r\n\t\tconst documentHeight = Math.max(\r\n\t\t\tdocument.body.scrollHeight, document.documentElement.scrollHeight,\r\n\t\t\tdocument.body.offsetHeight, document.documentElement.offsetHeight,\r\n\t\t\tdocument.body.clientHeight, document.documentElement.clientHeight\r\n\t\t);\r\n\r\n\t\tconst scrollTop = (document.documentElement && document.documentElement.scrollTop) || document.body.scrollTop;\r\n\r\n\t\tif (documentHeight - innerHeight - scrollTop < 100 && documentHeight - innerHeight - scrollTop > 0) {\r\n\t\t\tif (!this.props.isLoading && !this.props.isLast) {\r\n\t\t\t\tthis.setState(this.getQuery(this.state.sort, Math.ceil(this.props.games.length/20) + 1), function() {\r\n\t\t\t\t\tconst query = this.state.query;\r\n\t\t\t\t\tconst { getQueryGames } = this.props;\r\n\t\t\t\t\tgetQueryGames({query});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n  };\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n        <TopMenu activeMenuId={1} />\r\n        <div id=\"box\">\r\n          <div id=\"nav\">\r\n\t\t\t\t\t\t<div className=\"vertical-direction\">\r\n\t\t\t\t\t\t\t<RatingCategory activeSortId={this.props.sort? this.props.sort:this.state.sort} changeSort={this.changeSort.bind(this)}/> {/*left*/}\r\n\t\t\t\t\t\t\t<Footer />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<RatingList />\r\n          </div>\r\n        </div> \r\n      </div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tsort: state.games.sort,\r\n\tgames: state.games.games,\r\n\tquery: state.games.query,\r\n  isLast: state.games.isLast,\r\n  isLoading: state.games.isLoading,\r\n\tlogged: state.auth.logged,\r\n\terror: state.auth.error\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    getQueryGames: ({query}) => {\r\n      dispatch(gameActions.getQueryGames({query}));\r\n    },\r\n    changeSortGames: (sort) => {\r\n      dispatch(gameActions.changeSortGames(sort));\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Rating);","import React, { Component } from 'react';\r\n\r\nimport TextMenu from '../common/TextMenu'\r\nimport './RecommendationFilter.css';\r\n\r\nconst categories = [\r\n\t{\r\n\t\tid: 1,\r\n\t\ttitle: \"New games in 2018\",\r\n\t},\r\n\t{\r\n\t\tid: 2,\r\n\t\ttitle: \"Upcoming games in 2019\",\r\n\t},\r\n\t{\r\n\t\tid: 3,\r\n\t\ttitle: \"Playstation 4\",\r\n\t},\r\n\t{\r\n\t\tid: 4,\r\n\t\ttitle: \"Xbox One\",\r\n\t},\r\n\t{\r\n\t\tid: 5,\r\n\t\ttitle: \"Nintendo Switch\",\r\n\t},\r\n\t{\r\n\t\tid: 6,\r\n\t\ttitle: \"PC\",\r\n\t}\r\n]\r\n\r\nexport default class RecommendationFilter extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tactiveItemId: 1\r\n\t\t}\r\n\t}\r\n\t\t\r\n\tonItemClick = (itemId) => {\r\n\t\tthis.setState({ activeItemId: itemId });\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"recommendationFilter\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<h1>Platform</h1>\r\n\t\t\t\t\t<TextMenu\r\n\t\t\t\t\t\tmenus={categories}\r\n\t\t\t\t\t\tonItemClick={this.onItemClick}\r\n\t\t\t\t\t\tactiveItemId={this.state.activeItemId} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport Moment from 'react-moment';\r\n\r\nimport { GameCoverImg, GameBannerImg } from '../GameAPI';\r\nimport './RecommendationCard.css';\r\n\r\n\r\nexport default class RecommendationCard extends Component {  \r\n  constructor(props) {\r\n\t\tsuper(props)\r\n    \r\n    this.randomPredict = (3.5 + Math.random() * (5.0 - 3.5)).toFixed(1);\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n        <div className=\"recommendationCard\" onClick={this.handleClickCard}>\r\n          <a href={'/game/' + this.props.item.slug} target=\"_self\">\r\n          <div className=\"banner\" >\r\n            <GameBannerImg gameData={this.props.item} />\r\n          </div>\r\n          <div className=\"rc-container\" >            \r\n            <div className=\"cover\" >\r\n              <GameCoverImg gameData={this.props.item} />\r\n            </div>\r\n            <div className=\"vertical-direction\">\r\n            <div className=\"rc-predict\" >\r\n              <div className=\"label\">Predicted</div>\r\n              <div className=\"score\">{this.randomPredict}</div>\r\n            </div>\r\n            <div className=\"rc-info\" >\r\n              <h1>{this.props.item.title}</h1>\r\n              <p>{this.props.item.platforms}</p>\r\n              <p><Moment format='Do MMM, YYYY'>{this.props.item.released_at}</Moment></p>\r\n            </div>\r\n            </div>\r\n            <div className=\"divider\" />\r\n            <div className=\"reason\" >\r\n              <p>{this.props.item.categories.replace(\",\", \", \")}</p>\r\n            </div>\r\n          </div>\r\n          </a>\r\n        </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport RecommendationCard from './RecommendationCard'\r\nimport GameAPI from '../GameAPI.js'\r\nimport './RecommendationList.css';\r\n\r\nconst RecommendationList = ({\r\n\tgames\r\n}) => {\r\n\tconst gameList = GameAPI.all().map((game, i) => {\r\n\t\treturn (\r\n\t\t\t<RecommendationCard key={game.slug} item={game} />\r\n\t\t);\r\n\t});\r\n\treturn (\r\n\t\t<div className=\"recommendationList\">\r\n\t\t\t{gameList}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default RecommendationList;\r\n","import { ajax } from \"rxjs/observable/dom/ajax\";\r\nimport { of } from \"rxjs\";\r\nimport { map, mergeMap, catchError, withLatestFrom, delay } from \"rxjs/operators\";\r\nimport { ofType } from \"redux-observable\";\r\nimport queryString from 'query-string';\r\n\r\nimport { API_HOST, getAuthUserInfo, removeAuthUserInfo } from '../../GameAPI';\r\n\r\nconst GET_QUERY_RECOMMENDATION = \"recommendation/GET_QUERY_RECOMMENDATION\";\r\nconst GET_QUERY_RECOMMENDATION_SUCCESS = \"recommendation/GET_QUERY_RECOMMENDATION_SUCCESS\";\r\nconst GET_QUERY_RECOMMENDATION_FAILURE = \"recommendation/GET_QUERY_RECOMMENDATION_FAILURE\";\r\n\r\nexport const getQueryRecommendation = (query) => ({\r\n    type: GET_QUERY_RECOMMENDATION,\r\n    payload: {\r\n        query\r\n    }\r\n});\r\n  \r\nexport const getQueryRecommendationSuccess = ({ games, query }) => ({\r\n    type: GET_QUERY_RECOMMENDATION_SUCCESS,\r\n    payload: {\r\n        games,\r\n        query\r\n    }\r\n});\r\n  \r\nexport const getQueryRecommendationFailure = error => ({\r\n    type: GET_QUERY_RECOMMENDATION_FAILURE,\r\n    payload: {\r\n        error\r\n    }\r\n});\r\n\r\nconst getQueryRecommendationEpic = (action$, state$) => {\r\n    return action$.pipe(\r\n        ofType(GET_QUERY_RECOMMENDATION),\r\n        withLatestFrom(state$),\r\n        mergeMap(([action, state]) => {\r\n            const { query } = action.payload.query;\r\n            const userInfo = getAuthUserInfo();\r\n            let header = { \"Content-Type\": \"application/json\" }\r\n            if(userInfo) header = Object.assign(header, { Authorization: `token ${userInfo.token}` })\r\n            return ajax\r\n            .get(`${API_HOST}/games/?${queryString.stringify(query)}`, header)\r\n            .pipe(\r\n                map(response => {\r\n                    const games = response.response;\r\n                    return getQueryRecommendationSuccess({ games, query });\r\n                }),\r\n                catchError(error =>\r\n                    of({\r\n                        type: GET_QUERY_RECOMMENDATION_FAILURE,\r\n                        payload: error,\r\n                        error: true\r\n                    })\r\n                )\r\n            );\r\n        })\r\n    );\r\n};\r\n\r\nconst initialState = {\r\n    games: [],\r\n    error: {\r\n        triggered: false,\r\n        status: 200,\r\n        message: \"\"\r\n    },\r\n    isLast: false,\r\n    isLoading: false\r\n};\r\n\r\nexport const recommendation = (state = initialState, action) => {\r\n    if(action.payload) {\r\n        if(action.payload.status === 401 && getAuthUserInfo())\r\n            removeAuthUserInfo(); // 장시간 지난 상태로 경과되어 인증에러가 난 경우\r\n    }\r\n\r\n    switch (action.type) {\r\n        case GET_QUERY_RECOMMENDATION:\r\n            return {\r\n                ...state,\r\n                isLoading: true\r\n            };\r\n        case GET_QUERY_RECOMMENDATION_SUCCESS:\r\n            return {\r\n                ...state,\r\n                games: action.payload.query.page > 1 ? state.games.concat(action.payload.games.results) : action.payload.games.results,\r\n                isLoading: false\r\n            };\r\n        case GET_QUERY_RECOMMENDATION_FAILURE:\r\n            return {\r\n                ...state,\r\n                error: {\r\n                    triggered: true,\r\n                    status: action.payload.status,\r\n                    message: \"Error while loading! Please Try Again!\"\r\n                }\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const recommendationEpics = {\r\n    getQueryRecommendationEpic,\r\n};","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\n\r\nimport Footer from '../Footer'\r\nimport TopMenu from '../TopMenu'\r\nimport Description from '../Description'\r\nimport RecommendationFilter from './RecommendationFilter'\r\nimport RecommendationList from './RecommendationList'\r\nimport '../App.css'\r\n\r\nimport * as recommendationActions from \"../store/modules/recommendation\";\r\n\r\nexport class Recommendation extends Component {\r\n\tstate = {\r\n\t\tsort: 1,\r\n\t\tquery: {\r\n\t\t\tpage: 1,\r\n\t\t\tordering: '',\r\n\t\t\tplatforms: '',\r\n\t\t\tcategories: ''\r\n\t\t}\r\n\t}\r\n\r\n\tchangeSort(sortId) {\r\n\t\tthis.setState(this.getQuery(sortId), function() {\r\n\t\t\tconst query = this.state.query;\r\n\t\t\tconst { getQueryRecommendation } = this.props;\r\n\t\t\tgetQueryRecommendation({query});\r\n\t\t});\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.getQueryRecommendation();\r\n\t\twindow.addEventListener(\"scroll\", this.handleScroll);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\twindow.removeEventListener(\"scroll\", this.handleScroll);\r\n\t}\r\n\r\n\tgetQuery = (sortId, page = 1) => {\r\n\t\tconst retState = Object.assign({}, this.state);\r\n\r\n\t\tif(sortId !== this.state.sort) {\r\n\t\t\tretState.sort = sortId;\r\n\t\t\tretState.query.ordering = '';\r\n\t\t\tretState.query.platforms = '';\r\n\t\t\tretState.query.categories = '';\r\n\t\t}\r\n\t\tretState.query.page = page;\r\n\r\n    \tswitch (sortId) {\r\n\t\t\tcase 1:\r\n\t\t\t\tretState.query.ordering = '-igdb_id';\r\n\t\t\t\tretState.query.categories = 1;\r\n\t\t\t\tretState.query.platforms = 1;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tretState.query.ordering = '-critic_rating_count';\r\n\t\t\t\tretState.query.categories = 1;\r\n\t\t\t\tretState.query.platforms = 2;\r\n\t\t\t\tbreak;\r\n      \t\tdefault:\r\n\t\t\t\tretState.query.ordering = '-igdb_id';\r\n\t\t\t\tretState.query.categories = 1;\r\n\t\t\t\tretState.query.platforms = 1;\r\n\t\t}\r\n\r\n\t\treturn retState;\r\n\t}\r\n\t\r\n\tgetQueryRecommendation = () => {\r\n\t\tthis.setState(this.getQuery(this.state.sort), function() {\r\n\t\t\tconst query = this.state.query;\r\n\t\t\tconst { getQueryRecommendation } = this.props;\r\n\t\t\tgetQueryRecommendation({query});\r\n\t\t});\r\n\t}\r\n\r\n\thandleScroll = () => {\r\n\t\tconst { innerHeight } = window;\r\n\t\tconst documentHeight = Math.max(\r\n\t\t\tdocument.body.scrollHeight, document.documentElement.scrollHeight,\r\n\t\t\tdocument.body.offsetHeight, document.documentElement.offsetHeight,\r\n\t\t\tdocument.body.clientHeight, document.documentElement.clientHeight\r\n\t\t);\r\n\r\n\t\tconst scrollTop = (document.documentElement && document.documentElement.scrollTop) || document.body.scrollTop;\r\n\r\n\t\tif (documentHeight - innerHeight - scrollTop < 100 && documentHeight - innerHeight - scrollTop > 0) {\r\n\t\t\tif (!this.props.isLoading && !this.props.isLast) {\r\n\t\t\t\tthis.setState(this.getQuery(this.state.sort, Math.ceil(this.props.games.length/20) + 1), function() {\r\n\t\t\t\t\tconst query = this.state.query;\r\n\t\t\t\t\tconst { getQueryRecommendation } = this.props;\r\n\t\t\t\t\tgetQueryRecommendation({query});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\t\r\n\trender() {\r\n\t\tconst { games } = this.props;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<TopMenu activeMenuId={2} />\r\n\t\t\t\t<div id=\"box\">\r\n\t\t\t\t\t<div id=\"nav\">\r\n\t\t\t\t\t\t<div className=\"vertical-direction\">\r\n\t\t\t\t\t\t\t<RecommendationFilter />\r\n\t\t\t\t\t\t\t<Footer />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<RecommendationList games={games} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tgames: state.recommendation.games,\r\n\tisLast: state.recommendation.isLast,\r\n\tisLoading: state.recommendation.isLoading\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn {\r\n\t\tgetQueryRecommendation: ({query}) => {\r\n\t\t\tdispatch(recommendationActions.getQueryRecommendation({query}));\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Recommendation);","import React, { Component } from 'react';\r\nimport TextMenu from '../common/TextMenu'\r\nimport './CollectionFilter.css';\r\n\r\n\r\nconst filters = [\r\n\t{\r\n\t\tid: 1,\r\n\t\ttitle: \"Rate Date\"\r\n\t},\r\n\t{\r\n\t\tid: 2,\r\n\t\ttitle: \"Rating\"\r\n\t},\r\n]\r\n\r\n\r\nexport default class CollectionFilter extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tactiveItemId: props.activeSortId\r\n\t\t}\r\n\t}\r\n\t\t\r\n\tonItemClick = (itemId) => {\r\n\t\tthis.setState({ activeItemId: itemId });\r\n\t\tthis.props.changeSort(itemId);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"collectionFilter\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<h1>Sort by</h1>\r\n\t\t\t\t\t<TextMenu\r\n\t\t\t\t\t\tmenus={filters}\r\n\t\t\t\t\t\tonItemClick={this.onItemClick}\r\n\t\t\t\t\t\tactiveItemId={this.state.activeItemId} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\n\r\nimport CollectionCard from '../collection/CollectionCard'\r\nimport GameAPI from '../GameAPI.js'\r\nimport './CollectionList.css';\r\n/*\r\n{GameAPI.all().map((rating, i) => (\r\n\t\t\t\t\t<CollectionCard key={i} item={rating} />\r\n\t\t\t\t))}\r\n*/\r\nexport class CollectionList extends Component {\r\n\trender() {\r\n\t\tconst { ratings } = this.props;\r\n\t\treturn (\r\n\t\t\t<div className=\"collectionList\">\r\n\t\t\t\t\r\n\t\t\t</div>\r\n \t\t)\r\n \t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tratings: state.collection.ratings,\r\n\tlogged: state.auth.logged\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps\r\n)(CollectionList);\r\n","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nimport { GameCoverImg, getPlatformsName } from '../GameAPI';\r\nimport '../common/Common.css'\r\nimport './CollectionCard.css';\r\n\r\n\r\nexport default class CollectionCard extends Component {\r\n\tconstructor(props) {\r\n\t    super(props)\r\n\t    this.state = {\r\n\t\t\tredirect: false,\r\n\t\t}\r\n\t}\r\n\t\r\n\thandleClickCard = () => {\t\t\r\n\t\tthis.setState({redirect: true});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconsole.log(this.props);\r\n\t\t//const { item } = this.props;\r\n\t\tconst { game } = this.props;\r\n\r\n\t\tif (this.state.redirect) {\r\n\t\t\treturn <Redirect push to={'/game/' + game.slug} />;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"collectionCard\" onClick={this.handleClickCard}>\r\n\t\t\t\t<div className=\"cover\">\r\n\t\t\t\t\t<GameCoverImg gameData={game} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"info\">\r\n\t\t\t\t\t<h1>{this.props.title}</h1>\r\n\t\t\t\t\t<p>{this.props.platforms}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"ratingTag vertical-align\" style={{backgroundImage: \"url('/eyeq-pages/images/rating_tag.svg')\"}} >\r\n\t\t\t\t\t{parseFloat(this.props.value).toFixed(1)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n","import { ajax } from \"rxjs/observable/dom/ajax\";\r\nimport { of } from \"rxjs\";\r\nimport { map, mergeMap, catchError, withLatestFrom, delay } from \"rxjs/operators\";\r\nimport { ofType } from \"redux-observable\";\r\nimport queryString from 'query-string';\r\n\r\nimport { API_HOST, getAuthUserInfo, removeAuthUserInfo } from '../../GameAPI';\r\n\r\nconst GET_QUERY_COLLECTION = \"collections/GET_QUERY_COLLECTION\";\r\nconst GET_QUERY_COLLECTION_SUCCESS = \"collections/GET_QUERY_COLLECTION_SUCCESS\";\r\nconst GET_QUERY_COLLECTION_FAILURE = \"collections/GET_QUERY_COLLECTION_FAILURE\";\r\n\r\nconst CHANGE_SORT_COLLECTION = \"collections/CHANGE_SORT_COLLECTION\";\r\n\r\nexport const getQueryCollection = (query) => ({\r\n    type: GET_QUERY_COLLECTION,\r\n    payload: {\r\n        query\r\n    }\r\n});\r\n  \r\nexport const getQueryCollectionSuccess = ({ ratings, query }) => ({\r\n    type: GET_QUERY_COLLECTION_SUCCESS,\r\n    payload: {\r\n        ratings,\r\n        query\r\n    }\r\n});\r\n  \r\nexport const getQueryCollectionFailure = error => ({\r\n    type: GET_QUERY_COLLECTION_FAILURE,\r\n    payload: {\r\n        error\r\n    }\r\n});\r\n\r\nexport const changeSortCollection = sort => ({\r\n    type: CHANGE_SORT_COLLECTION,\r\n    payload: {\r\n        sort\r\n    }\r\n});\r\n\r\nconst getQueryCollectionEpic = (action$, state$) => {\r\n    return action$.pipe(\r\n        ofType(GET_QUERY_COLLECTION),\r\n        withLatestFrom(state$),\r\n        mergeMap(([action, state]) => {\r\n            const { query } = action.payload.query;\r\n            const userInfo = getAuthUserInfo();\r\n            let header = { \"Content-Type\": \"application/json\" }\r\n            if(userInfo) header = Object.assign(header, { Authorization: `token ${userInfo.token}` })\r\n            return ajax\r\n            .get(`${API_HOST}/ratings/game/?${queryString.stringify(query)}`, header)\r\n            .pipe(\r\n                map(response => {\r\n                    const ratings = response.response;\r\n                    return getQueryCollectionSuccess({ ratings, query });\r\n                }),\r\n                catchError(error =>\r\n                    of({\r\n                        type: GET_QUERY_COLLECTION_FAILURE,\r\n                        payload: error,\r\n                        error: true\r\n                    })\r\n                )\r\n            );\r\n        })\r\n    );\r\n};\r\n\r\nconst initialState = {\r\n    sort: 0,\r\n    ratings: [],\r\n    error: {\r\n        triggered: false,\r\n        status: 200,\r\n        message: \"\"\r\n    },\r\n    isLast: false,\r\n    isLoading: false\r\n};\r\n\r\nexport const collection = (state = initialState, action) => {\r\n    if(action.payload) {\r\n        if(action.payload.status === 401 && getAuthUserInfo())\r\n            removeAuthUserInfo(); // 장시간 지난 상태로 경과되어 인증에러가 난 경우\r\n    }\r\n\r\n    switch (action.type) {\r\n        case GET_QUERY_COLLECTION:\r\n            return {\r\n                ...state,\r\n                isLoading: true\r\n            };\r\n        case GET_QUERY_COLLECTION_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ratings: action.payload.query.page > 1 ? state.ratings.concat(action.payload.ratings.results) : action.payload.ratings.results,\r\n                isLoading: false\r\n            };\r\n        case GET_QUERY_COLLECTION_FAILURE:\r\n            return {\r\n                ...state,\r\n                error: {\r\n                    triggered: true,\r\n                    status: action.payload.status,\r\n                    message: \"Error while loading! Please Try Again!\"\r\n                }\r\n            };\r\n        case CHANGE_SORT_COLLECTION:\r\n            return {\r\n                ...state,\r\n                sort: action.payload.sort\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const collectionEpics = {\r\n    getQueryCollectionEpic\r\n};","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\n\r\nimport TopMenu from '../TopMenu'\r\nimport Footer from '../Footer'\r\nimport Description from '../Description'\r\nimport CollectionFilter from './CollectionFilter'\r\nimport CollectionList from './CollectionList'\r\nimport '../App.css'\r\n\r\nimport * as collectionActions from \"../store/modules/collection\";\r\n\r\nexport class Collection extends Component {\r\n\tstate = {\r\n\t\tsort: 1,\r\n\t\tquery: {\r\n\t\t\tpage: 1,\r\n\t\t\tordering: ''\r\n\t\t}\r\n\t}\r\n\r\n\tchangeSort(sortId) {\r\n\t\tthis.setState(this.getQuery(sortId), function() {\r\n\t\t\tconst query = this.state.query;\r\n\t\t\tconst { getQueryCollection } = this.props;\r\n\t\t\tgetQueryCollection({query});\r\n\t\t\tthis.props.changeSortCollection(sortId);\r\n\t\t});\r\n\t}\r\n\t\r\n\tgetQuery = (sortId, page = 1) => {\r\n\t\tconst retState = Object.assign({}, this.state);\r\n\r\n\t\tif(sortId !== this.state.sort) {\r\n\t\t\tretState.sort = sortId;\r\n\t\t\tretState.query.ordering = '';\r\n\t\t}\r\n\t\tretState.query.page = page;\r\n\r\n    \tswitch (sortId) {\r\n\t\t\tcase 1:\r\n\t\t\t\tretState.query.ordering = '-updated_at';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tretState.query.ordering = '-value';\r\n\t\t\t\tbreak;\r\n      \t\tdefault:\r\n\t\t\t\tretState.query.ordering = '-updated_at';\r\n\t\t}\r\n\r\n\t\treturn retState;\r\n\t}\r\n\t\r\n\tgetQueryCollection = () => {\r\n\t\tthis.setState(this.getQuery(this.state.sort), function() {\r\n\t\t\tconst query = this.state.query;\r\n\t\t\tconst { getQueryCollection } = this.props;\r\n\t\t\tgetQueryCollection({query});\r\n\t\t});\r\n\t}\r\n\r\n\trefreshPage = () => {\r\n\t\tthis.getQueryCollection();\r\n\t\tthis.props.changeSortCollection(this.state.sort);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.refreshPage();\r\n\t\twindow.addEventListener(\"scroll\", this.handleScroll);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\twindow.removeEventListener(\"scroll\", this.handleScroll);\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif(prevProps.logged !== this.props.logged) {\r\n\t\t\tthis.refreshPage();\r\n\t\t}\r\n\t}\r\n\r\n\thandleScroll = () => {\r\n\t\tconst { innerHeight } = window;\r\n\t\tconst documentHeight = Math.max(\r\n\t\t\tdocument.body.scrollHeight, document.documentElement.scrollHeight,\r\n\t\t\tdocument.body.offsetHeight, document.documentElement.offsetHeight,\r\n\t\t\tdocument.body.clientHeight, document.documentElement.clientHeight\r\n\t\t);\r\n\r\n\t\tconst scrollTop = (document.documentElement && document.documentElement.scrollTop) || document.body.scrollTop;\r\n\r\n\t\tif (documentHeight - innerHeight - scrollTop < 100 && documentHeight - innerHeight - scrollTop > 0) {\r\n\t\t\tif (!this.props.isLoading && !this.props.isLast) {\r\n\t\t\t\tthis.setState(this.getQuery(this.state.sort, Math.ceil(this.props.ratings.length/20) + 1), function() {\r\n\t\t\t\t\tconst query = this.state.query;\r\n\t\t\t\t\tconst { getQueryCollection } = this.props;\r\n\t\t\t\t\tgetQueryCollection({query});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { ratings } = this.props;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<TopMenu activeMenuId={3} />\r\n        \t\t<div id=\"box\">\r\n          \t\t\t<div id=\"nav\">\r\n\t\t\t\t\t\t<div className=\"vertical-direction\">\r\n\t\t\t\t\t\t\t<CollectionFilter activeSortId={this.props.sort? this.props.sort:this.state.sort} changeSort={this.changeSort.bind(this)}/>\r\n\t\t\t\t\t\t\t<Footer />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<CollectionList />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tsort: state.collection.sort,\r\n\tratings: state.collection.ratings,\r\n\tisLast: state.collection.isLast,\r\n\tisLoading: state.collection.isLoading,\r\n\tlogged: state.auth.logged,\r\n\terror: state.auth.error\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn {\r\n\t\tgetQueryCollection: ({query}) => {\r\n\t\t\tdispatch(collectionActions.getQueryCollection({query}));\r\n\t\t},\r\n\t\tchangeSortCollection: (sort) => {\r\n\t\t\tdispatch(collectionActions.changeSortCollection(sort));\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Collection);","import React, { Component } from 'react';\r\n\r\nimport TextMenu from '../common/TextMenu'\r\nimport './KeywordCategory.css';\r\n\r\nconst categories = [\r\n\t{\r\n\t\tid: 1,\r\n\t\ttitle: \"Release Date\",\r\n\t},\r\n\t{\r\n\t\tid: 2,\r\n\t\ttitle: \"Top Critic Rating\",\r\n\t},\r\n\t{\r\n\t\tid: 3,\r\n\t\ttitle: \"Adventure\",\r\n\t},\r\n\t{\r\n\t\tid: 4,\r\n\t\ttitle: \"Action\",\r\n\t},\r\n\t{\r\n\t\tid: 5,\r\n\t\ttitle: \"Role-playing\",\r\n\t},\r\n\t{\r\n\t\tid: 6,\r\n\t\ttitle: \"Strategy\",\r\n\t},\r\n\t{\r\n\t\tid: 7,\r\n\t\ttitle: \"Sports\",\r\n\t},\r\n\t{\r\n\t\tid: 8,\r\n\t\ttitle: \"Xbox One\",\r\n\t},\r\n\t{\r\n\t\tid: 9,\r\n\t\ttitle: \"Nintendo Switch\",\r\n\t},\r\n\t{\r\n\t\tid: 10,\r\n\t\ttitle: \"Indie\",\r\n\t}\r\n]\r\n\r\nexport default class KeywordCategory extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tactiveItemId: props.activeSortId\r\n\t\t}\r\n\t}\r\n\t\t\r\n\tonItemClick = (itemId) => {\r\n\t\tthis.setState({ activeItemId: itemId });\r\n\t\tthis.props.changeSort(itemId);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"ratingCategory\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<h1>Sort by</h1>\r\n\t\t\t\t\t<TextMenu\r\n\t\t\t\t\t\tmenus={categories}\r\n\t\t\t\t\t\tonItemClick={this.onItemClick}\r\n\t\t\t\t\t\tactiveItemId={this.state.activeItemId} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport Rating from 'react-rating';\r\nimport Moment from 'react-moment';\r\nimport { connect } from \"react-redux\";\r\n\r\nimport GameReview from '../GameReview'\r\nimport { GameCoverImg } from '../GameAPI';\r\nimport './KeywordCard.css';\r\n\r\nimport * as authActions from \"../store/modules/auth\";\r\nimport * as gamesActions from \"../store/modules/games\";\r\n\r\nexport class KeywordCard extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tvisibleReviewWindow: false,\r\n\t\t\treview: ''\r\n\t\t}\r\n\r\n\t\tthis.randomPredict = (2.0 + Math.random() * (5.0 - 2.0)).toFixed(1);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { item } = this.props;\r\n\t\tif(item.my_review)\r\n\t\t\tthis.handleChangeReview(JSON.parse(item.my_review.content).blocks[0].text);\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tconst { item } = this.props;\r\n\t\tif(prevState.review === '' && item.my_review)\r\n\t\t\tthis.handleChangeReview(JSON.parse(item.my_review.content).blocks[0].text);\r\n\t}\r\n\r\n\thandleChangeReview = (review) => {\r\n\t\tthis.setState({ review });\r\n\t}\r\n\r\n\thandleRated = (rate) => {\r\n\t\tconst { logged, needLogin, item, createRating, updateRating } = this.props;\r\n\t\tif(!logged) {\r\n\t\t\tneedLogin(true);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst value = rate\r\n\t\tconst slug = item.slug;\r\n\t\tif(item.my_rating) {\r\n\t\t\tconst id = item.my_rating.id;\r\n\t\t\tupdateRating({slug, id, value});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tcreateRating({slug, value});\r\n\t}\r\n\r\n\thandleOpenComment = () => {\r\n\t\tconst { logged, needLogin } = this.props;\r\n\t\tif(!logged) {\r\n\t\t\tneedLogin(true);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.setState({ visibleReviewWindow: true });\r\n\t}\r\n\r\n\thandleCloseComment = () => {\r\n\t\tthis.setState({ visibleReviewWindow: false });\r\n\t}\r\n\r\n\trenderReviewWindow = () => (\r\n\t\t<GameReview item={this.props.item} onClose={this.handleCloseComment} onChangeReview={this.handleChangeReview.bind(this)}/>\r\n\t)\r\n\r\n\trender() {\r\n\t\tconst { item } = this.props;\r\n\t\treturn (\r\n\t\t\t<div className=\"ratingCard\">\t\t\t\r\n\t\t\t\t<div className=\"cover\">\r\n\t\t\t\t\t<a href={'/game/' + this.props.item.slug} target=\"_self\">\r\n\t\t\t\t\t\t<GameCoverImg gameData={item} />\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"rc-container horizontal-direction\">\r\n\t\t\t\t\t<div className=\"rc-left\">\r\n\t\t\t\t\t\t<h1>{item.title}</h1>\r\n\t\t\t\t\t\t<p><Moment format='Do MMM, YYYY'>{item.released_at}</Moment> • {item.platforms}</p>\r\n\t\t\t\t\t\t<Rating\r\n\t\t\t\t\t\t\temptySymbol={<img src=\"/eyeq-pages/images/rate_star_empty.svg\" className=\"icon\" alt=\"\" />}\r\n\t\t\t\t\t\t\tfullSymbol={<img src=\"/eyeq-pages/images/rate_star_full.svg\" className=\"icon\" alt=\"\" />}\r\n\t\t\t\t\t\t\tfractions={2}\r\n\t\t\t\t\t\t\tinitialRating={item.my_rating? parseFloat(item.my_rating.value) : 0}\r\n\t\t\t\t\t\t\tstyle={{ ...Rating.style, 'marginLeft': '-3px', 'paddingTop': '7px' }}\r\n\t\t\t\t\t\t\tonChange={this.handleRated}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"rc-right\">\r\n\t\t\t\t\t\t<div className=\"predict horizontal-direction\" >\r\n              \t\t\t\t<div className=\"label vertical-center\">Predicted</div>\r\n              \t\t\t\t<div className=\"score vertical-center\">{this.randomPredict}</div>\r\n            \t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"review\" onClick={this.handleOpenComment}>\r\n\t\t\t\t\t\t\t<img src={'/eyeq-pages/images/button_write_review.svg'} alt='icon' />\r\n\t\t\t\t\t\t\t<p>Review</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"bottomLine\" />\r\n\t\t\t\t{this.state.visibleReviewWindow && this.renderReviewWindow()}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tgames: state.games.games,\r\n    logged: state.auth.logged,\r\n    needed: state.auth.needed,\r\n    error: state.auth.error\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        needLogin: (needed) => {\r\n            dispatch(authActions.needLogin(needed));\r\n        },\r\n        createRating: ({slug, value}) => {\r\n            dispatch(gamesActions.createRating({slug, value}));\r\n        },\r\n        updateRating: ({slug, id, value}) => {\r\n            dispatch(gamesActions.updateRating({slug, id, value}));\r\n        }\r\n    };\r\n};\r\n  \r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(KeywordCard);\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\n\r\nimport KeywordCard from './KeywordCard'\r\nimport './KeywordList.css';\r\n\r\nexport class KeywordList extends Component {\r\n\trender() {\r\n\t\tconst { games } = this.props;\r\n\t\treturn (\r\n\t\t\t<div className=\"ratingList\">\r\n\t\t\t\t{games.map((game, i) => (\r\n\t\t\t\t\t<KeywordCard key={i} item={game} />\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n \t\t)\r\n \t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tgames: state.games.games,\r\n\tlogged: state.auth.logged\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps\r\n)(KeywordList);\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\n\r\nimport TopMenu from '../TopMenu'\r\nimport Footer from '../Footer'\r\nimport KeywordCategory from './KeywordCategory'\r\nimport Description from '../Description'\r\n\r\nimport KeywordList from './KeywordList'\r\nimport '../App.css'\r\n\r\nimport * as gameActions from \"../store/modules/games\";\r\n\r\nexport class Keyword extends Component {\r\n\tstate = {\r\n\t\tsort: 2,\r\n\t\tquery: {\r\n\t\t\tpage: 1,\r\n\t\t\ttag: this.props.match.params.tag,\r\n\t\t\tordering: '',\r\n\t\t\tplatforms: '',\r\n\t\t\tcategories: ''\r\n\t\t}\r\n\t}\r\n\r\n\tchangeSort(sortId) {\r\n\t\tthis.setState(this.getQuery(sortId), function() {\r\n\t\t\tconst query = this.state.query;\r\n\t\t\tconst { getQueryGames } = this.props;\r\n\t\t\tgetQueryGames({query});\r\n\t\t\tthis.props.changeSortGames(sortId);\r\n\t\t});\r\n\t}\r\n\r\n\trefreshPage = () => {\r\n\t\tthis.getQueryGames();\r\n\t\tthis.props.changeSortGames(this.state.sort);\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tif(this.props.games.length === 0) {\r\n\t\t\tthis.refreshPage();\r\n\t\t}\r\n\t\twindow.addEventListener(\"scroll\", this.handleScroll);\r\n\t}\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"scroll\", this.handleScroll);\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif(prevProps.logged !== this.props.logged) {\r\n\t\t\tthis.refreshPage();\r\n\t\t}\r\n\t}\r\n\r\n  getQuery = (sortId, page = 1) => {\r\n\t\tconst retState = Object.assign({}, this.state);\r\n\r\n\t\tif(sortId !== this.state.sort) {\r\n\t\t\tretState.sort = sortId;\r\n\t\t\tretState.query.ordering = '';\r\n\t\t\tretState.query.platforms = '';\r\n\t\t\tretState.query.categories = '';\r\n\t\t}\r\n\t\tretState.query.page = page;\r\n\r\n    switch (sortId) {\r\n\t\t\tcase 1:\r\n\t\t\t\tretState.query.ordering = '-released_at';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tretState.query.ordering = '-critic_rating';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tretState.query.ordering = '-critic_rating_count';\r\n\t\t\t\tretState.query.categories = 2;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4:\r\n\t\t\t\tretState.query.ordering = '-critic_rating_count';\r\n\t\t\t\tretState.query.categories = 1;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 5:\r\n\t\t\t\tretState.query.ordering = '-critic_rating_count';\r\n\t\t\t\tretState.query.categories = 5;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 6:\r\n\t\t\t\tretState.query.ordering = '-critic_rating_count';\r\n\t\t\t\tretState.query.categories = 6;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 7:\r\n\t\t\t\tretState.query.ordering = '-critic_rating_count';\r\n\t\t\t\tretState.query.categories = 3;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 8:\r\n\t\t\t\tretState.query.ordering = '-critic_rating_count';\r\n\t\t\t\tretState.query.platforms = 9;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 9:\r\n\t\t\t\tretState.query.ordering = '-critic_rating_count';\r\n\t\t\t\tretState.query.platforms = 12;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 10:\r\n\t\t\t\tretState.query.ordering = '-critic_rating_count';\r\n\t\t\t\tretState.query.categories = 38;\r\n\t\t\t\tbreak;\r\n      default:\r\n\t\t\t\tretState.query.ordering = '-critic_rating';\r\n\t\t}\r\n\r\n\t\treturn retState;\r\n\t}\r\n\r\n\tgetQueryGames = () => {\r\n\t\tthis.setState(this.getQuery(this.state.sort), function() {\r\n\t\t\tconst query = this.state.query;\r\n\t\t\tconst { getQueryGames } = this.props;\r\n\t\t\tgetQueryGames({query});\r\n\t\t});\r\n\t}\r\n\t\r\n  handleScroll = () => {\r\n\t\tconst { innerHeight } = window;\r\n\t\tconst documentHeight = Math.max(\r\n\t\t\tdocument.body.scrollHeight, document.documentElement.scrollHeight,\r\n\t\t\tdocument.body.offsetHeight, document.documentElement.offsetHeight,\r\n\t\t\tdocument.body.clientHeight, document.documentElement.clientHeight\r\n\t\t);\r\n\r\n\t\tconst scrollTop = (document.documentElement && document.documentElement.scrollTop) || document.body.scrollTop;\r\n\r\n\t\tif (documentHeight - innerHeight - scrollTop < 100 && documentHeight - innerHeight - scrollTop > 0) {\r\n\t\t\tif (!this.props.isLoading && !this.props.isLast) {\r\n\t\t\t\tthis.setState(this.getQuery(this.state.sort, Math.ceil(this.props.games.length/20) + 1), function() {\r\n\t\t\t\t\tconst query = this.state.query;\r\n\t\t\t\t\tconst { getQueryGames } = this.props;\r\n\t\t\t\t\tgetQueryGames({query});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n  };\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n        <TopMenu activeMenuId={1} />\r\n        <div id=\"box\">\r\n          <div id=\"nav\">\r\n\t\t\t\t\t\t<div className=\"vertical-direction\">\r\n\t\t\t\t\t\t\t<KeywordCategory activeSortId={this.props.sort? this.props.sort:this.state.sort} changeSort={this.changeSort.bind(this)}/> {/*left*/}\r\n\t\t\t\t\t\t\t<Footer />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<KeywordList />\r\n          </div>\r\n        </div> \r\n      </div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tsort: state.games.sort,\r\n\tgames: state.games.games,\r\n\tquery: state.games.query,\r\n  isLast: state.games.isLast,\r\n  isLoading: state.games.isLoading,\r\n\tlogged: state.auth.logged,\r\n\terror: state.auth.error\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    getQueryGames: ({query}) => {\r\n      dispatch(gameActions.getQueryGames({query}));\r\n    },\r\n    changeSortGames: (sort) => {\r\n      dispatch(gameActions.changeSortGames(sort));\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Keyword);","import React, { Component } from 'react';\r\n\r\nimport TextMenu from '../common/TextMenu'\r\nimport './CompanyCategory.css';\r\n\r\nconst categories = [\r\n\t{\r\n\t\tid: 1,\r\n\t\ttitle: \"Release Date\",\r\n\t},\r\n\t{\r\n\t\tid: 2,\r\n\t\ttitle: \"Top Critic Rating\",\r\n\t},\r\n\t{\r\n\t\tid: 3,\r\n\t\ttitle: \"Adventure\",\r\n\t},\r\n\t{\r\n\t\tid: 4,\r\n\t\ttitle: \"Action\",\r\n\t},\r\n\t{\r\n\t\tid: 5,\r\n\t\ttitle: \"Role-playing\",\r\n\t},\r\n\t{\r\n\t\tid: 6,\r\n\t\ttitle: \"Strategy\",\r\n\t},\r\n\t{\r\n\t\tid: 7,\r\n\t\ttitle: \"Sports\",\r\n\t},\r\n\t{\r\n\t\tid: 8,\r\n\t\ttitle: \"Xbox One\",\r\n\t},\r\n\t{\r\n\t\tid: 9,\r\n\t\ttitle: \"Nintendo Switch\",\r\n\t},\r\n\t{\r\n\t\tid: 10,\r\n\t\ttitle: \"Indie\",\r\n\t}\r\n]\r\n\r\nexport default class CompanyCategory extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tactiveItemId: props.activeSortId\r\n\t\t}\r\n\t}\r\n\t\t\r\n\tonItemClick = (itemId) => {\r\n\t\tthis.setState({ activeItemId: itemId });\r\n\t\tthis.props.changeSort(itemId);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"ratingCategory\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<h1>Sort by</h1>\r\n\t\t\t\t\t<TextMenu\r\n\t\t\t\t\t\tmenus={categories}\r\n\t\t\t\t\t\tonItemClick={this.onItemClick}\r\n\t\t\t\t\t\tactiveItemId={this.state.activeItemId} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport Rating from 'react-rating';\r\nimport Moment from 'react-moment';\r\nimport { connect } from \"react-redux\";\r\n\r\nimport GameReview from '../GameReview'\r\nimport { GameCoverImg } from '../GameAPI';\r\nimport './CompanyCard.css';\r\n\r\nimport * as authActions from \"../store/modules/auth\";\r\nimport * as gamesActions from \"../store/modules/games\";\r\n\r\nexport class CompanyCard extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tvisibleReviewWindow: false,\r\n\t\t\treview: ''\r\n\t\t}\r\n\r\n\t\tthis.randomPredict = (2.0 + Math.random() * (5.0 - 2.0)).toFixed(1);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { item } = this.props;\r\n\t\tif(item.my_review)\r\n\t\t\tthis.handleChangeReview(JSON.parse(item.my_review.content).blocks[0].text);\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tconst { item } = this.props;\r\n\t\tif(prevState.review === '' && item.my_review)\r\n\t\t\tthis.handleChangeReview(JSON.parse(item.my_review.content).blocks[0].text);\r\n\t}\r\n\r\n\thandleChangeReview = (review) => {\r\n\t\tthis.setState({ review });\r\n\t}\r\n\r\n\thandleRated = (rate) => {\r\n\t\tconst { logged, needLogin, item, createRating, updateRating } = this.props;\r\n\t\tif(!logged) {\r\n\t\t\tneedLogin(true);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst value = rate\r\n\t\tconst slug = item.slug;\r\n\t\tif(item.my_rating) {\r\n\t\t\tconst id = item.my_rating.id;\r\n\t\t\tupdateRating({slug, id, value});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tcreateRating({slug, value});\r\n\t}\r\n\r\n\thandleOpenComment = () => {\r\n\t\tconst { logged, needLogin } = this.props;\r\n\t\tif(!logged) {\r\n\t\t\tneedLogin(true);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.setState({ visibleReviewWindow: true });\r\n\t}\r\n\r\n\thandleCloseComment = () => {\r\n\t\tthis.setState({ visibleReviewWindow: false });\r\n\t}\r\n\r\n\trenderReviewWindow = () => (\r\n\t\t<GameReview item={this.props.item} onClose={this.handleCloseComment} onChangeReview={this.handleChangeReview.bind(this)}/>\r\n\t)\r\n\r\n\trender() {\r\n\t\tconst { item } = this.props;\r\n\t\treturn (\r\n\t\t\t<div className=\"ratingCard\">\t\t\t\r\n\t\t\t\t<div className=\"cover\">\r\n\t\t\t\t\t<a href={'/game/' + this.props.item.slug} target=\"_self\">\r\n\t\t\t\t\t\t<GameCoverImg gameData={item} />\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"rc-container horizontal-direction\">\r\n\t\t\t\t\t<div className=\"rc-left\">\r\n\t\t\t\t\t\t<h1>{item.title}</h1>\r\n\t\t\t\t\t\t<p><Moment format='Do MMM, YYYY'>{item.released_at}</Moment> • {item.platforms}</p>\r\n\t\t\t\t\t\t<Rating\r\n\t\t\t\t\t\t\temptySymbol={<img src=\"/eyeq-pages/images/rate_star_empty.svg\" className=\"icon\" alt=\"\" />}\r\n\t\t\t\t\t\t\tfullSymbol={<img src=\"/eyeq-pages/images/rate_star_full.svg\" className=\"icon\" alt=\"\" />}\r\n\t\t\t\t\t\t\tfractions={2}\r\n\t\t\t\t\t\t\tinitialRating={item.my_rating? parseFloat(item.my_rating.value) : 0}\r\n\t\t\t\t\t\t\tstyle={{ ...Rating.style, 'marginLeft': '-3px', 'paddingTop': '7px' }}\r\n\t\t\t\t\t\t\tonChange={this.handleRated}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"rc-right\">\r\n\t\t\t\t\t\t<div className=\"predict horizontal-direction\" >\r\n              \t\t\t\t<div className=\"label vertical-center\">Predicted</div>\r\n              \t\t\t\t<div className=\"score vertical-center\">{this.randomPredict}</div>\r\n            \t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"review\" onClick={this.handleOpenComment}>\r\n\t\t\t\t\t\t\t<img src={'/eyeq-pages/images/button_write_review.svg'} alt='icon' />\r\n\t\t\t\t\t\t\t<p>Review</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"bottomLine\" />\r\n\t\t\t\t{this.state.visibleReviewWindow && this.renderReviewWindow()}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tgames: state.games.games,\r\n    logged: state.auth.logged,\r\n    needed: state.auth.needed,\r\n    error: state.auth.error\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        needLogin: (needed) => {\r\n            dispatch(authActions.needLogin(needed));\r\n        },\r\n        createRating: ({slug, value}) => {\r\n            dispatch(gamesActions.createRating({slug, value}));\r\n        },\r\n        updateRating: ({slug, id, value}) => {\r\n            dispatch(gamesActions.updateRating({slug, id, value}));\r\n        }\r\n    };\r\n};\r\n  \r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(CompanyCard);\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\n\r\nimport CompanyCard from './CompanyCard'\r\nimport './CompanyList.css';\r\n\r\nexport class CompanyList extends Component {\r\n\trender() {\r\n\t\tconst { games } = this.props;\r\n\t\treturn (\r\n\t\t\t<div className=\"ratingList\">\r\n\t\t\t\t{games.map((game, i) => (\r\n\t\t\t\t\t<CompanyCard key={i} item={game} />\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n \t\t)\r\n \t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tgames: state.games.games,\r\n\tlogged: state.auth.logged\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps\r\n)(CompanyList);\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\n\r\nimport TopMenu from '../TopMenu'\r\nimport Footer from '../Footer'\r\nimport CompanyCategory from './CompanyCategory'\r\nimport Description from '../Description'\r\n\r\nimport CompanyList from './CompanyList'\r\nimport '../App.css'\r\n\r\nimport * as gameActions from \"../store/modules/games\";\r\n\r\nexport class Company extends Component {\r\n\tstate = {\r\n\t\tsort: 2,\r\n\t\tquery: {\r\n\t\t\tpage: 1,\r\n\t\t\tcompany: this.props.match.params.company,\r\n\t\t\tordering: '',\r\n\t\t\tplatforms: '',\r\n\t\t\tcategories: ''\r\n\t\t}\r\n\t}\r\n\r\n\tchangeSort(sortId) {\r\n\t\tthis.setState(this.getQuery(sortId), function() {\r\n\t\t\tconst query = this.state.query;\r\n\t\t\tconst { getQueryGames } = this.props;\r\n\t\t\tgetQueryGames({query});\r\n\t\t\tthis.props.changeSortGames(sortId);\r\n\t\t});\r\n\t}\r\n\r\n\trefreshPage = () => {\r\n\t\tthis.getQueryGames();\r\n\t\tthis.props.changeSortGames(this.state.sort);\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tif(this.props.games.length === 0) {\r\n\t\t\tthis.refreshPage();\r\n\t\t}\r\n\t\twindow.addEventListener(\"scroll\", this.handleScroll);\r\n\t}\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"scroll\", this.handleScroll);\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif(prevProps.logged !== this.props.logged) {\r\n\t\t\tthis.refreshPage();\r\n\t\t}\r\n\t}\r\n\r\n  getQuery = (sortId, page = 1) => {\r\n\t\tconst retState = Object.assign({}, this.state);\r\n\r\n\t\tif(sortId !== this.state.sort) {\r\n\t\t\tretState.sort = sortId;\r\n\t\t\tretState.query.ordering = '';\r\n\t\t\tretState.query.platforms = '';\r\n\t\t\tretState.query.categories = '';\r\n\t\t}\r\n\t\tretState.query.page = page;\r\n\r\n    switch (sortId) {\r\n\t\t\tcase 1:\r\n\t\t\t\tretState.query.ordering = '-released_at';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tretState.query.ordering = '-critic_rating';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tretState.query.ordering = '-critic_rating_count';\r\n\t\t\t\tretState.query.categories = 2;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4:\r\n\t\t\t\tretState.query.ordering = '-critic_rating_count';\r\n\t\t\t\tretState.query.categories = 1;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 5:\r\n\t\t\t\tretState.query.ordering = '-critic_rating_count';\r\n\t\t\t\tretState.query.categories = 5;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 6:\r\n\t\t\t\tretState.query.ordering = '-critic_rating_count';\r\n\t\t\t\tretState.query.categories = 6;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 7:\r\n\t\t\t\tretState.query.ordering = '-critic_rating_count';\r\n\t\t\t\tretState.query.categories = 3;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 8:\r\n\t\t\t\tretState.query.ordering = '-critic_rating_count';\r\n\t\t\t\tretState.query.platforms = 9;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 9:\r\n\t\t\t\tretState.query.ordering = '-critic_rating_count';\r\n\t\t\t\tretState.query.platforms = 12;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 10:\r\n\t\t\t\tretState.query.ordering = '-critic_rating_count';\r\n\t\t\t\tretState.query.categories = 38;\r\n\t\t\t\tbreak;\r\n      default:\r\n\t\t\t\tretState.query.ordering = '-critic_rating';\r\n\t\t}\r\n\r\n\t\treturn retState;\r\n\t}\r\n\r\n\tgetQueryGames = () => {\r\n\t\tthis.setState(this.getQuery(this.state.sort), function() {\r\n\t\t\tconst query = this.state.query;\r\n\t\t\tconst { getQueryGames } = this.props;\r\n\t\t\tgetQueryGames({query});\r\n\t\t});\r\n\t}\r\n\t\r\n  handleScroll = () => {\r\n\t\tconst { innerHeight } = window;\r\n\t\tconst documentHeight = Math.max(\r\n\t\t\tdocument.body.scrollHeight, document.documentElement.scrollHeight,\r\n\t\t\tdocument.body.offsetHeight, document.documentElement.offsetHeight,\r\n\t\t\tdocument.body.clientHeight, document.documentElement.clientHeight\r\n\t\t);\r\n\r\n\t\tconst scrollTop = (document.documentElement && document.documentElement.scrollTop) || document.body.scrollTop;\r\n\r\n\t\tif (documentHeight - innerHeight - scrollTop < 100 && documentHeight - innerHeight - scrollTop > 0) {\r\n\t\t\tif (!this.props.isLoading && !this.props.isLast) {\r\n\t\t\t\tthis.setState(this.getQuery(this.state.sort, Math.ceil(this.props.games.length/20) + 1), function() {\r\n\t\t\t\t\tconst query = this.state.query;\r\n\t\t\t\t\tconst { getQueryGames } = this.props;\r\n\t\t\t\t\tgetQueryGames({query});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n  };\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n        <TopMenu activeMenuId={1} />\r\n        <div id=\"box\">\r\n          <div id=\"nav\">\r\n\t\t\t\t\t\t<div className=\"vertical-direction\">\r\n\t\t\t\t\t\t\t<CompanyCategory activeSortId={this.props.sort? this.props.sort:this.state.sort} changeSort={this.changeSort.bind(this)}/> {/*left*/}\r\n\t\t\t\t\t\t\t<Footer />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<CompanyList />\r\n          </div>\r\n        </div> \r\n      </div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tsort: state.games.sort,\r\n\tgames: state.games.games,\r\n\tquery: state.games.query,\r\n  isLast: state.games.isLast,\r\n  isLoading: state.games.isLoading,\r\n\tlogged: state.auth.logged,\r\n\terror: state.auth.error\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    getQueryGames: ({query}) => {\r\n      dispatch(gameActions.getQueryGames({query}));\r\n    },\r\n    changeSortGames: (sort) => {\r\n      dispatch(gameActions.changeSortGames(sort));\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Company);","import React, { Component } from 'react';\r\n\r\nimport TextMenu from '../common/TextMenu'\r\nimport './CategoryCategory.css';\r\n\r\nconst categories = [\r\n\t{\r\n\t\tid: 1,\r\n\t\ttitle: \"Release Date\",\r\n\t},\r\n\t{\r\n\t\tid: 2,\r\n\t\ttitle: \"Top Critic Rating\",\r\n\t},\r\n]\r\n\r\nexport default class CategoryCategory extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tactiveItemId: props.activeSortId\r\n\t\t}\r\n\t}\r\n\t\t\r\n\tonItemClick = (itemId) => {\r\n\t\tthis.setState({ activeItemId: itemId });\r\n\t\tthis.props.changeSort(itemId);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"ratingCategory\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<h1>Sort by</h1>\r\n\t\t\t\t\t<TextMenu\r\n\t\t\t\t\t\tmenus={categories}\r\n\t\t\t\t\t\tonItemClick={this.onItemClick}\r\n\t\t\t\t\t\tactiveItemId={this.state.activeItemId} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport Rating from 'react-rating';\r\nimport Moment from 'react-moment';\r\nimport { connect } from \"react-redux\";\r\n\r\nimport GameReview from '../GameReview'\r\nimport { GameCoverImg } from '../GameAPI';\r\nimport './CategoryCard.css';\r\n\r\nimport * as authActions from \"../store/modules/auth\";\r\nimport * as gamesActions from \"../store/modules/games\";\r\n\r\nexport class CategoryCard extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tvisibleReviewWindow: false,\r\n\t\t\treview: ''\r\n\t\t}\r\n\r\n\t\tthis.randomPredict = (2.0 + Math.random() * (5.0 - 2.0)).toFixed(1);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { item } = this.props;\r\n\t\tif(item.my_review)\r\n\t\t\tthis.handleChangeReview(JSON.parse(item.my_review.content).blocks[0].text);\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tconst { item } = this.props;\r\n\t\tif(prevState.review === '' && item.my_review)\r\n\t\t\tthis.handleChangeReview(JSON.parse(item.my_review.content).blocks[0].text);\r\n\t}\r\n\r\n\thandleChangeReview = (review) => {\r\n\t\tthis.setState({ review });\r\n\t}\r\n\r\n\thandleRated = (rate) => {\r\n\t\tconst { logged, needLogin, item, createRating, updateRating } = this.props;\r\n\t\tif(!logged) {\r\n\t\t\tneedLogin(true);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst value = rate\r\n\t\tconst slug = item.slug;\r\n\t\tif(item.my_rating) {\r\n\t\t\tconst id = item.my_rating.id;\r\n\t\t\tupdateRating({slug, id, value});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tcreateRating({slug, value});\r\n\t}\r\n\r\n\thandleOpenComment = () => {\r\n\t\tconst { logged, needLogin } = this.props;\r\n\t\tif(!logged) {\r\n\t\t\tneedLogin(true);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.setState({ visibleReviewWindow: true });\r\n\t}\r\n\r\n\thandleCloseComment = () => {\r\n\t\tthis.setState({ visibleReviewWindow: false });\r\n\t}\r\n\r\n\trenderReviewWindow = () => (\r\n\t\t<GameReview item={this.props.item} onClose={this.handleCloseComment} onChangeReview={this.handleChangeReview.bind(this)}/>\r\n\t)\r\n\r\n\trender() {\r\n\t\tconst { item } = this.props;\r\n\t\treturn (\r\n\t\t\t<div className=\"ratingCard\">\t\t\t\r\n\t\t\t\t<div className=\"cover\">\r\n\t\t\t\t\t<a href={'/game/' + this.props.item.slug} target=\"_self\">\r\n\t\t\t\t\t\t<GameCoverImg gameData={item} />\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"rc-container horizontal-direction\">\r\n\t\t\t\t\t<div className=\"rc-left\">\r\n\t\t\t\t\t\t<h1>{item.title}</h1>\r\n\t\t\t\t\t\t<p><Moment format='Do MMM, YYYY'>{item.released_at}</Moment> • {item.platforms}</p>\r\n\t\t\t\t\t\t<Rating\r\n\t\t\t\t\t\t\temptySymbol={<img src=\"/eyeq-pages/images/rate_star_empty.svg\" className=\"icon\" alt=\"\" />}\r\n\t\t\t\t\t\t\tfullSymbol={<img src=\"/eyeq-pages/images/rate_star_full.svg\" className=\"icon\" alt=\"\" />}\r\n\t\t\t\t\t\t\tfractions={2}\r\n\t\t\t\t\t\t\tinitialRating={item.my_rating? parseFloat(item.my_rating.value) : 0}\r\n\t\t\t\t\t\t\tstyle={{ ...Rating.style, 'marginLeft': '-3px', 'paddingTop': '7px' }}\r\n\t\t\t\t\t\t\tonChange={this.handleRated}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"rc-right\">\r\n\t\t\t\t\t\t<div className=\"predict horizontal-direction\" >\r\n              \t\t\t\t<div className=\"label vertical-center\">Predicted</div>\r\n              \t\t\t\t<div className=\"score vertical-center\">{this.randomPredict}</div>\r\n            \t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"review\" onClick={this.handleOpenComment}>\r\n\t\t\t\t\t\t\t<img src={'/eyeq-pages/images/button_write_review.svg'} alt='icon' />\r\n\t\t\t\t\t\t\t<p>Review</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"bottomLine\" />\r\n\t\t\t\t{this.state.visibleReviewWindow && this.renderReviewWindow()}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tgames: state.games.games,\r\n    logged: state.auth.logged,\r\n    needed: state.auth.needed,\r\n    error: state.auth.error\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        needLogin: (needed) => {\r\n            dispatch(authActions.needLogin(needed));\r\n        },\r\n        createRating: ({slug, value}) => {\r\n            dispatch(gamesActions.createRating({slug, value}));\r\n        },\r\n        updateRating: ({slug, id, value}) => {\r\n            dispatch(gamesActions.updateRating({slug, id, value}));\r\n        }\r\n    };\r\n};\r\n  \r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(CategoryCard);\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\n\r\nimport CategoryCard from './CategoryCard'\r\nimport './CategoryList.css';\r\n\r\nexport class CategoryList extends Component {\r\n\trender() {\r\n\t\tconst { games } = this.props;\r\n\t\treturn (\r\n\t\t\t<div className=\"ratingList\">\r\n\t\t\t\t{games.map((game, i) => (\r\n\t\t\t\t\t<CategoryCard key={i} item={game} />\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n \t\t)\r\n \t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tgames: state.games.games,\r\n\tlogged: state.auth.logged\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps\r\n)(CategoryList);\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\n\r\nimport TopMenu from '../TopMenu'\r\nimport Footer from '../Footer'\r\nimport CategoryCategory from './CategoryCategory'\r\nimport Description from '../Description'\r\n\r\nimport CategoryList from './CategoryList'\r\nimport '../App.css'\r\nimport { categories as categoryList } from '../GameAPI'\r\n\r\nimport * as gameActions from \"../store/modules/games\";\r\n\r\nexport class Category extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n\t\tvar categoryId;\r\n\t\tfor(var i in categoryList) {\r\n\t\t\tif(categoryList[i] === this.props.match.params.categoryName) {\r\n\t\t\t\tcategoryId = i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.state = {\r\n\t\t\tsort: 2,\r\n\t\t\tquery: {\r\n\t\t\t\tpage: 1,\r\n\t\t\t\tordering: '',\r\n\t\t\t\tcategories: categoryId\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tchangeSort(sortId) {\r\n\t\tthis.setState(this.getQuery(sortId), function() {\r\n\t\t\tconst query = this.state.query;\r\n\t\t\tconst { getQueryGames } = this.props;\r\n\t\t\tgetQueryGames({query});\r\n\t\t\tthis.props.changeSortGames(sortId);\r\n\t\t});\r\n\t}\r\n\r\n\trefreshPage = () => {\r\n\t\tthis.getQueryGames();\r\n\t\tthis.props.changeSortGames(this.state.sort);\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tif(this.props.games.length === 0) {\r\n\t\t\tthis.refreshPage();\r\n\t\t}\r\n\t\twindow.addEventListener(\"scroll\", this.handleScroll);\r\n\t}\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"scroll\", this.handleScroll);\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif(prevProps.logged !== this.props.logged) {\r\n\t\t\tthis.refreshPage();\r\n\t\t}\r\n\t}\r\n\r\n  getQuery = (sortId, page = 1) => {\r\n\t\tconst retState = Object.assign({}, this.state);\r\n\r\n\t\tif(sortId !== this.state.sort) {\r\n\t\t\tretState.sort = sortId;\r\n\t\t\tretState.query.ordering = '';\r\n\t\t}\r\n\t\tretState.query.page = page;\r\n\r\n    switch (sortId) {\r\n\t\t\tcase 1:\r\n\t\t\t\tretState.query.ordering = '-released_at';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tretState.query.ordering = '-critic_rating';\r\n\t\t\t\tbreak;\r\n      default:\r\n\t\t\t\tretState.query.ordering = '-critic_rating';\r\n\t\t}\r\n\r\n\t\treturn retState;\r\n\t}\r\n\r\n\tgetQueryGames = () => {\r\n\t\tthis.setState(this.getQuery(this.state.sort), function() {\r\n\t\t\tconst query = this.state.query;\r\n\t\t\tconst { getQueryGames } = this.props;\r\n\t\t\tgetQueryGames({query});\r\n\t\t});\r\n\t}\r\n\t\r\n  handleScroll = () => {\r\n\t\tconst { innerHeight } = window;\r\n\t\tconst documentHeight = Math.max(\r\n\t\t\tdocument.body.scrollHeight, document.documentElement.scrollHeight,\r\n\t\t\tdocument.body.offsetHeight, document.documentElement.offsetHeight,\r\n\t\t\tdocument.body.clientHeight, document.documentElement.clientHeight\r\n\t\t);\r\n\r\n\t\tconst scrollTop = (document.documentElement && document.documentElement.scrollTop) || document.body.scrollTop;\r\n\r\n\t\tif (documentHeight - innerHeight - scrollTop < 100 && documentHeight - innerHeight - scrollTop > 0) {\r\n\t\t\tif (!this.props.isLoading && !this.props.isLast) {\r\n\t\t\t\tthis.setState(this.getQuery(this.state.sort, Math.ceil(this.props.games.length/20) + 1), function() {\r\n\t\t\t\t\tconst query = this.state.query;\r\n\t\t\t\t\tconst { getQueryGames } = this.props;\r\n\t\t\t\t\tgetQueryGames({query});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n  };\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n        <TopMenu activeMenuId={1} />\r\n        <div id=\"box\">\r\n          <div id=\"nav\">\r\n\t\t\t\t\t\t<div className=\"vertical-direction\">\r\n\t\t\t\t\t\t\t<CategoryCategory activeSortId={this.props.sort? this.props.sort:this.state.sort} changeSort={this.changeSort.bind(this)}/> {/*left*/}\r\n\t\t\t\t\t\t\t<Footer />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<CategoryList />\r\n          </div>\r\n        </div> \r\n      </div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tsort: state.games.sort,\r\n\tgames: state.games.games,\r\n\tquery: state.games.query,\r\n  isLast: state.games.isLast,\r\n  isLoading: state.games.isLoading,\r\n\tlogged: state.auth.logged,\r\n\terror: state.auth.error\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    getQueryGames: ({query}) => {\r\n      dispatch(gameActions.getQueryGames({query}));\r\n    },\r\n    changeSortGames: (sort) => {\r\n      dispatch(gameActions.changeSortGames(sort));\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Category);","import React, { Component } from 'react';\r\n\r\nimport TextMenu from '../common/TextMenu'\r\nimport './SearchCategory.css';\r\n\r\nconst categories = [\r\n\t{\r\n\t\tid: 1,\r\n\t\ttitle: \"Release Date\",\r\n\t},\r\n\t{\r\n\t\tid: 2,\r\n\t\ttitle: \"Top Critic Rating\",\r\n\t},\r\n\t{\r\n\t\tid: 3,\r\n\t\ttitle: \"Adventure\",\r\n\t},\r\n\t{\r\n\t\tid: 4,\r\n\t\ttitle: \"Action\",\r\n\t},\r\n\t{\r\n\t\tid: 5,\r\n\t\ttitle: \"Role-playing\",\r\n\t},\r\n\t{\r\n\t\tid: 6,\r\n\t\ttitle: \"Strategy\",\r\n\t},\r\n\t{\r\n\t\tid: 7,\r\n\t\ttitle: \"Sports\",\r\n\t},\r\n\t{\r\n\t\tid: 8,\r\n\t\ttitle: \"Xbox One\",\r\n\t},\r\n\t{\r\n\t\tid: 9,\r\n\t\ttitle: \"Nintendo Switch\",\r\n\t},\r\n\t{\r\n\t\tid: 10,\r\n\t\ttitle: \"Indie\",\r\n\t}\r\n]\r\n\r\nexport default class SearchCategory extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tactiveItemId: props.activeSortId\r\n\t\t}\r\n\t}\r\n\t\t\r\n\tonItemClick = (itemId) => {\r\n\t\tthis.setState({ activeItemId: itemId });\r\n\t\tthis.props.changeSort(itemId);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"ratingCategory\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<h1>Sort by</h1>\r\n\t\t\t\t\t<TextMenu\r\n\t\t\t\t\t\tmenus={categories}\r\n\t\t\t\t\t\tonItemClick={this.onItemClick}\r\n\t\t\t\t\t\tactiveItemId={this.state.activeItemId} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport Rating from 'react-rating';\r\nimport Moment from 'react-moment';\r\nimport { connect } from \"react-redux\";\r\n\r\nimport GameReview from '../GameReview'\r\nimport { GameCoverImg } from '../GameAPI';\r\nimport './SearchCard.css';\r\n\r\nimport * as authActions from \"../store/modules/auth\";\r\nimport * as gamesActions from \"../store/modules/games\";\r\n\r\nexport class SearchCard extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tvisibleReviewWindow: false,\r\n\t\t\treview: ''\r\n\t\t}\r\n\r\n\t\tthis.randomPredict = (2.0 + Math.random() * (5.0 - 2.0)).toFixed(1);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { item } = this.props;\r\n\t\tif(item.my_review)\r\n\t\t\tthis.handleChangeReview(JSON.parse(item.my_review.content).blocks[0].text);\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tconst { item } = this.props;\r\n\t\tif(prevState.review === '' && item.my_review)\r\n\t\t\tthis.handleChangeReview(JSON.parse(item.my_review.content).blocks[0].text);\r\n\t}\r\n\r\n\thandleChangeReview = (review) => {\r\n\t\tthis.setState({ review });\r\n\t}\r\n\r\n\thandleRated = (rate) => {\r\n\t\tconst { logged, needLogin, item, createRating, updateRating } = this.props;\r\n\t\tif(!logged) {\r\n\t\t\tneedLogin(true);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst value = rate\r\n\t\tconst slug = item.slug;\r\n\t\tif(item.my_rating) {\r\n\t\t\tconst id = item.my_rating.id;\r\n\t\t\tupdateRating({slug, id, value});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tcreateRating({slug, value});\r\n\t}\r\n\r\n\thandleOpenComment = () => {\r\n\t\tconst { logged, needLogin } = this.props;\r\n\t\tif(!logged) {\r\n\t\t\tneedLogin(true);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.setState({ visibleReviewWindow: true });\r\n\t}\r\n\r\n\thandleCloseComment = () => {\r\n\t\tthis.setState({ visibleReviewWindow: false });\r\n\t}\r\n\r\n\trenderReviewWindow = () => (\r\n\t\t<GameReview item={this.props.item} onClose={this.handleCloseComment} onChangeReview={this.handleChangeReview.bind(this)}/>\r\n\t)\r\n\r\n\trender() {\r\n\t\tconst { item } = this.props;\r\n\t\treturn (\r\n\t\t\t<div className=\"ratingCard\">\t\t\t\r\n\t\t\t\t<div className=\"cover\">\r\n\t\t\t\t\t<a href={'/game/' + this.props.item.slug} target=\"_self\">\r\n\t\t\t\t\t\t<GameCoverImg gameData={item} />\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"rc-container horizontal-direction\">\r\n\t\t\t\t\t<div className=\"rc-left\">\r\n\t\t\t\t\t\t<h1>{item.title}</h1>\r\n\t\t\t\t\t\t<p><Moment format='Do MMM, YYYY'>{item.released_at}</Moment> • {item.platforms}</p>\r\n\t\t\t\t\t\t<Rating\r\n\t\t\t\t\t\t\temptySymbol={<img src=\"/eyeq-pages/images/rate_star_empty.svg\" className=\"icon\" alt=\"\" />}\r\n\t\t\t\t\t\t\tfullSymbol={<img src=\"/eyeq-pages/images/rate_star_full.svg\" className=\"icon\" alt=\"\" />}\r\n\t\t\t\t\t\t\tfractions={2}\r\n\t\t\t\t\t\t\tinitialRating={item.my_rating? parseFloat(item.my_rating.value) : 0}\r\n\t\t\t\t\t\t\tstyle={{ ...Rating.style, 'marginLeft': '-3px', 'paddingTop': '7px' }}\r\n\t\t\t\t\t\t\tonChange={this.handleRated}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"rc-right\">\r\n\t\t\t\t\t\t<div className=\"predict horizontal-direction\" >\r\n              \t\t\t\t<div className=\"label vertical-center\">Predicted</div>\r\n              \t\t\t\t<div className=\"score vertical-center\">{this.randomPredict}</div>\r\n            \t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"review\" onClick={this.handleOpenComment}>\r\n\t\t\t\t\t\t\t<img src={'/eyeq-pages/images/button_write_review.svg'} alt='icon' />\r\n\t\t\t\t\t\t\t<p>Review</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"bottomLine\" />\r\n\t\t\t\t{this.state.visibleReviewWindow && this.renderReviewWindow()}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tgames: state.games.games,\r\n    logged: state.auth.logged,\r\n    needed: state.auth.needed,\r\n    error: state.auth.error\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        needLogin: (needed) => {\r\n            dispatch(authActions.needLogin(needed));\r\n        },\r\n        createRating: ({slug, value}) => {\r\n            dispatch(gamesActions.createRating({slug, value}));\r\n        },\r\n        updateRating: ({slug, id, value}) => {\r\n            dispatch(gamesActions.updateRating({slug, id, value}));\r\n        }\r\n    };\r\n};\r\n  \r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(SearchCard);\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\n\r\nimport SearchCard from './SearchCard'\r\nimport './SearchList.css';\r\n\r\nexport class SearchList extends Component {\r\n\trender() {\r\n\t\tconst { games } = this.props;\r\n\t\treturn (\r\n\t\t\t<div className=\"ratingList\">\r\n\t\t\t\t{games.map((game, i) => (\r\n\t\t\t\t\t<SearchCard key={i} item={game} />\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n \t\t)\r\n \t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tgames: state.games.games,\r\n\tlogged: state.auth.logged\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps\r\n)(SearchList);\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\n\r\nimport TopMenu from '../TopMenu'\r\nimport Footer from '../Footer'\r\nimport SearchCategory from './SearchCategory'\r\nimport Description from '../Description'\r\n\r\nimport SearchList from './SearchList'\r\nimport '../App.css'\r\n\r\nimport * as gameActions from \"../store/modules/games\";\r\n\r\nexport class Search extends Component {\r\n\tstate = {\r\n\t\tsort: 2,\r\n\t\tquery: {\r\n\t\t\tpage: 1,\r\n\t\t\tsearch: this.props.match.params.search,\r\n\t\t\tordering: '',\r\n\t\t\tplatforms: '',\r\n\t\t\tcategories: ''\r\n\t\t}\r\n\t}\r\n\r\n\tchangeSort(sortId) {\r\n\t\tthis.setState(this.getQuery(sortId), function() {\r\n\t\t\tconst query = this.state.query;\r\n\t\t\tconst { getQueryGames } = this.props;\r\n\t\t\tgetQueryGames({query});\r\n\t\t\tthis.props.changeSortGames(sortId);\r\n\t\t});\r\n\t}\r\n\r\n\trefreshPage = () => {\r\n\t\tthis.getQueryGames();\r\n\t\tthis.props.changeSortGames(this.state.sort);\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tif(this.props.games.length === 0) {\r\n\t\t\tthis.refreshPage();\r\n\t\t}\r\n\t\twindow.addEventListener(\"scroll\", this.handleScroll);\r\n\t}\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"scroll\", this.handleScroll);\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif(prevProps.logged !== this.props.logged) {\r\n\t\t\tthis.refreshPage();\r\n\t\t}\r\n\t}\r\n\r\n  getQuery = (sortId, page = 1) => {\r\n\t\tconst retState = Object.assign({}, this.state);\r\n\r\n\t\tif(sortId !== this.state.sort) {\r\n\t\t\tretState.sort = sortId;\r\n\t\t\tretState.query.ordering = '';\r\n\t\t\tretState.query.platforms = '';\r\n\t\t\tretState.query.categories = '';\r\n\t\t}\r\n\t\tretState.query.page = page;\r\n\r\n    switch (sortId) {\r\n\t\t\tcase 1:\r\n\t\t\t\tretState.query.ordering = '-released_at';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tretState.query.ordering = '-critic_rating';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tretState.query.ordering = '-critic_rating_count';\r\n\t\t\t\tretState.query.categories = 2;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4:\r\n\t\t\t\tretState.query.ordering = '-critic_rating_count';\r\n\t\t\t\tretState.query.categories = 1;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 5:\r\n\t\t\t\tretState.query.ordering = '-critic_rating_count';\r\n\t\t\t\tretState.query.categories = 5;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 6:\r\n\t\t\t\tretState.query.ordering = '-critic_rating_count';\r\n\t\t\t\tretState.query.categories = 6;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 7:\r\n\t\t\t\tretState.query.ordering = '-critic_rating_count';\r\n\t\t\t\tretState.query.categories = 3;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 8:\r\n\t\t\t\tretState.query.ordering = '-critic_rating_count';\r\n\t\t\t\tretState.query.platforms = 9;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 9:\r\n\t\t\t\tretState.query.ordering = '-critic_rating_count';\r\n\t\t\t\tretState.query.platforms = 12;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 10:\r\n\t\t\t\tretState.query.ordering = '-critic_rating_count';\r\n\t\t\t\tretState.query.categories = 38;\r\n\t\t\t\tbreak;\r\n      default:\r\n\t\t\t\tretState.query.ordering = '-critic_rating';\r\n\t\t}\r\n\r\n\t\treturn retState;\r\n\t}\r\n\r\n\tgetQueryGames = () => {\r\n\t\tthis.setState(this.getQuery(this.state.sort), function() {\r\n\t\t\tconst query = this.state.query;\r\n\t\t\tconst { getQueryGames } = this.props;\r\n\t\t\tgetQueryGames({query});\r\n\t\t});\r\n\t}\r\n\t\r\n  handleScroll = () => {\r\n\t\tconst { innerHeight } = window;\r\n\t\tconst documentHeight = Math.max(\r\n\t\t\tdocument.body.scrollHeight, document.documentElement.scrollHeight,\r\n\t\t\tdocument.body.offsetHeight, document.documentElement.offsetHeight,\r\n\t\t\tdocument.body.clientHeight, document.documentElement.clientHeight\r\n\t\t);\r\n\r\n\t\tconst scrollTop = (document.documentElement && document.documentElement.scrollTop) || document.body.scrollTop;\r\n\r\n\t\tif (documentHeight - innerHeight - scrollTop < 100 && documentHeight - innerHeight - scrollTop > 0) {\r\n\t\t\tif (!this.props.isLoading && !this.props.isLast) {\r\n\t\t\t\tthis.setState(this.getQuery(this.state.sort, Math.ceil(this.props.games.length/20) + 1), function() {\r\n\t\t\t\t\tconst query = this.state.query;\r\n\t\t\t\t\tconst { getQueryGames } = this.props;\r\n\t\t\t\t\tgetQueryGames({query});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n  };\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n        <TopMenu activeMenuId={1} />\r\n        <div id=\"box\">\r\n          <div id=\"nav\">\r\n\t\t\t\t\t\t<div className=\"vertical-direction\">\r\n\t\t\t\t\t\t\t<SearchCategory activeSortId={this.props.sort? this.props.sort:this.state.sort} changeSort={this.changeSort.bind(this)}/> {/*left*/}\r\n\t\t\t\t\t\t\t<Footer />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<SearchList />\r\n          </div>\r\n        </div> \r\n      </div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tsort: state.games.sort,\r\n\tgames: state.games.games,\r\n\tquery: state.games.query,\r\n  isLast: state.games.isLast,\r\n  isLoading: state.games.isLoading,\r\n\tlogged: state.auth.logged,\r\n\terror: state.auth.error\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    getQueryGames: ({query}) => {\r\n      dispatch(gameActions.getQueryGames({query}));\r\n    },\r\n    changeSortGames: (sort) => {\r\n      dispatch(gameActions.changeSortGames(sort));\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Search);","import React from 'react'\r\nimport { Switch, Route } from 'react-router-dom'\r\nimport GameDetail from './gameDetail/GameDetail';\r\nimport Rating from './rating/Rating'\r\nimport Recommendation from './recommendation/Recommendation'\r\nimport Collection from './collection/Collection'\r\nimport Keyword from './keyword/Keyword'\r\nimport Company from './company/Company'\r\nimport Category from './category/Category'\r\nimport Search from './search/Search'\r\n\r\nconst Main = () => (\r\n  <main>\r\n    <Switch>\r\n      <Route exact path='/' component={Rating}/>\r\n      <Route exact path='/rating' component={Rating}/>\r\n      <Route path='/recommendation' component={Recommendation}/>\r\n      <Route path='/collection' component={Collection}/>\r\n      <Route path='/game/:slug' component={GameDetail}/>\r\n      <Route path='/keyword/:tag' component={Keyword}/>\r\n      <Route path='/company/:company' component={Company}/>\r\n      <Route path='/category/:categoryName' component={Category}/>\r\n      <Route path='/search/:search' component={Search}/>\r\n    </Switch>\r\n  </main>\r\n)\r\n\r\nexport default Main\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\n\r\nimport PropTypes from 'prop-types';\r\nimport Overlay from '../common/Overlay'\r\nimport './ServiceMenu.css';\r\n\r\nclass ServiceMenu extends Component {\r\n  static propTypes = {\r\n    onClose: PropTypes.func.isRequired\r\n  }\r\n\r\n  handleChangedMenu = (name) => {\r\n    switch (name)\r\n    {\r\n      case \"eyeq\":\r\n        window.location.assign('https://pm-studios.github.io/playgroundz-pages');\r\n        break;\r\n\r\n      case \"aki\":\r\n        window.location.assign('https://pm-studios.github.io/aki-pages');\r\n        break;\r\n\r\n      case \"mineral\":\r\n        window.location.assign('https://pm-studios.github.io/mineral-pages');\r\n        break;\r\n    }\r\n\r\n    this.props.onClose();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Overlay>\r\n        <div className=\"serviceMenu\" >\r\n          <div className=\"bg\" onClick={this.props.onClose}/>\r\n          <div className=\"container\" >\r\n            <ServiceMenuItem name=\"eyeq\" title=\"EyeQ\" desc=\"Playgroundz Game Database\" onItemClick={this.handleChangedMenu} />\r\n            <ServiceMenuItem name=\"navi\" title=\"Navi\" desc=\"Playgroundz Game Navigation\" onItemClick={this.handleChangedMenu} />\r\n            <ServiceMenuItem name=\"aki\" title=\"Aki\" desc=\"Playgroundz Game Store\" onItemClick={this.handleChangedMenu} />\r\n            <ServiceMenuItem name=\"mineral\" title=\"Mineral\" desc=\"Playgroundz Crowdfunding\" onItemClick={this.handleChangedMenu} />\r\n            <ServiceMenuItem name=\"wallet\" title=\"Wallet\" desc=\"Playgroundz IOG Wallet\" onItemClick={this.handleChangedMenu} />\r\n          </div>\r\n        </div>\r\n      </Overlay>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nclass ServiceMenuItem extends Component {\r\n\thandleClick = () => {\r\n\t\tthis.props.onItemClick(this.props.name);\r\n\t}\r\n\r\n\trender() {\r\n    let styleName = this.props.name + \" menuItem\" + \" horizontal-direction\";\r\n    return (\r\n      <div className={styleName} onClick={this.handleClick}>\r\n        <div className=\"vertical-center\">\r\n          <img src={'/eyeq-pages/images/logo_' + this.props.name + '.svg'} alt='icon' />\r\n        </div>\r\n        <div className=\"vertical-center padding-l-8\">\r\n          <h1>{this.props.title}</h1>\r\n        </div>\r\n        <div className=\"vertical-center padding-l-8\">\r\n          <p>{this.props.desc}</p>\r\n        </div>\r\n      </div>\r\n    )\r\n\t}\r\n}\r\n\r\n\r\nexport default ServiceMenu;\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\n\r\nimport PropTypes from 'prop-types';\r\nimport Overlay from '../common/Overlay'\r\nimport { setAuthUserInfo } from '../GameAPI';\r\nimport './Signup.css';\r\n\r\nimport * as authActions from \"../store/modules/auth\";\r\n\r\nclass Signup extends Component {\r\n  static propTypes = {\r\n    onClose: PropTypes.func.isRequired\r\n  }\r\n\r\n  state = {\r\n    password: \"\",\r\n    re_password: \"\"\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.initialize();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.logged !== this.props.logged && this.props.logged) {\r\n      setAuthUserInfo(this.props.userInfo);\r\n      this.props.onClose();\r\n    }\r\n  }\r\n\r\n  initialize = () => {\r\n    const { initializeInput, initializeError } = this.props;\r\n    initializeError();\r\n    initializeInput();\r\n  };\r\n\r\n  handleSignup = () => {\r\n    if (this.state.password !== this.state.re_password) return;\r\n    const { register } = this.props;\r\n    register();\r\n  }\r\n\r\n  handleSignin = () => {\r\n    this.props.onClose();\r\n    this.props.onSignin();\r\n  }\r\n  \r\n  handleChange(e) {\r\n    const { name, value } = e.target;\r\n\r\n    if(name === 'password') this.setState({ password: value });\r\n    if(name === 're_password') this.setState({ re_password: value });\r\n\r\n    const { changeInput } = this.props;\r\n    changeInput({ name, value });\r\n  }\r\n\r\n  handleRepasswordChange(e) {\r\n    this.setState({ re_password: e.target.value });\r\n  }\r\n\r\n  handleKeyPress(e) {\r\n    if (e.key === \"Enter\") {\r\n        this.handleSignup();\r\n        return;\r\n    }\r\n  };\r\n  \r\n  render() {\r\n    return (\r\n      <Overlay>\r\n        <div className=\"signup\" >\r\n          <div className=\"bg\" onClick={this.props.onClose}/>\r\n          <div className=\"container\" >\r\n            <h1>Welcome to</h1>\r\n            <div className=\"logo\">\r\n              <img src={'/eyeq-pages/images/playgroundz_logo.svg'} alt='Playgroundz' />\r\n            </div>\r\n            <form>\r\n              <input type=\"email\" name=\"username\" placeholder=\"Email\" onChange={this.handleChange.bind(this)} onKeyPress={this.handleKeyPress.bind(this)} maxLength=\"50\" required />\r\n              <input type=\"password\" name=\"password\" placeholder=\"Password\" onChange={this.handleChange.bind(this)} onKeyPress={this.handleKeyPress.bind(this)} min=\"8\" required />\r\n              <input type=\"password\" name=\"re_password\" placeholder=\"Confirm Password\" onChange={this.handleChange.bind(this)} onKeyPress={this.handleKeyPress.bind(this)} min=\"8\" required />\r\n              <div onClick={this.handleSignup} className=\"submit\">\r\n                <p>Sign Up</p>\r\n              </div>\r\n            </form>\r\n            <div onClick={this.props.onClose} className=\"close\">\r\n              <img src={'/eyeq-pages/images/popup_close.svg'} alt='Playgroundz' />\r\n            </div>\r\n            <div className=\"signin\">\r\n              <p>Already have an account? <a href='#' onClick={this.handleSignin}>Sign In</a></p>\r\n            </div>\r\n            <div className=\"tos\">\r\n              <p>By Signing up, you agree to our \r\n                <a href='/'> Terms of Service</a> and that you have read our \r\n                <a href='/'> Privacy Policy</a>.</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Overlay>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  username: state.auth.form.username,\r\n  password: state.auth.form.password,\r\n  userInfo: state.auth.userInfo,\r\n  logged: state.auth.logged,\r\n  error: state.auth.error\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    initializeInput: () => {\r\n      dispatch(authActions.initializeInput());\r\n    },\r\n    changeInput: ({ name, value }) => {\r\n      dispatch(authActions.changeInput({ name, value }));\r\n    },\r\n    initializeError: () => {\r\n      dispatch(authActions.initializeError());\r\n    },\r\n    register: () => {\r\n      dispatch(authActions.register());\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Signup);\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\n\r\nimport PropTypes from 'prop-types';\r\nimport Overlay from '../common/Overlay'\r\nimport { setAuthUserInfo } from '../GameAPI';\r\nimport './Signin.css';\r\n\r\nimport * as authActions from \"../store/modules/auth\";\r\n\r\nclass Signin extends Component {\r\n  static propTypes = {\r\n    onClose: PropTypes.func.isRequired\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.initialize();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.logged !== this.props.logged && this.props.logged) {\r\n      setAuthUserInfo(this.props.userInfo);\r\n      this.props.onClose();\r\n    }\r\n  }\r\n\r\n  initialize = () => {\r\n    const { initializeInput, initializeError } = this.props;\r\n    initializeError();\r\n    initializeInput();\r\n  };\r\n\r\n  handleSignup = () => {\r\n    this.props.onClose();\r\n    this.props.onSignup();\r\n  }\r\n  \r\n  handleChange(e) {\r\n    const { name, value } = e.target;\r\n    const { changeInput } = this.props;\r\n    changeInput({ name, value });\r\n  }\r\n\r\n  handleKeyPress(e) {\r\n    if (e.key === \"Enter\") {\r\n        this.handleSignin();\r\n        return;\r\n    }\r\n  };\r\n\r\n  handleSignin = () => {\r\n    const { login } = this.props;\r\n    login();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Overlay>\r\n        <div className=\"sign_in\" >\r\n          <div className=\"bg\" onClick={this.props.onClose}/>\r\n          <div className=\"container\" >\r\n            <h1>Welcome to</h1>\r\n            <div className=\"logo\">\r\n              <img src={'/eyeq-pages/images/playgroundz_logo.svg'} alt='Playgroundz' />\r\n            </div>\r\n            <form>\r\n              <input type=\"email\" name=\"username\" placeholder=\"Email\" onChange={this.handleChange.bind(this)} onKeyPress={this.handleKeyPress.bind(this)} maxLength=\"50\" required />\r\n              <input type=\"password\" name=\"password\" placeholder=\"Password\" onChange={this.handleChange.bind(this)} onKeyPress={this.handleKeyPress.bind(this)} min=\"8\" required />\r\n              <div onClick={this.handleSignin} className=\"submit\">\r\n                <p>Sign In</p>\r\n              </div>\r\n            </form>\r\n            <div onClick={this.props.onClose} className=\"close\">\r\n              <img src={'/eyeq-pages/images/popup_close.svg'} alt='Playgroundz' />\r\n            </div>\r\n            <div className=\"sign_up\">\r\n              <p>Don't you have an account yet? <a href='#' onClick={this.handleSignup}>Sign Up</a></p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Overlay>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    username: state.auth.form.username,\r\n    password: state.auth.form.password,\r\n    userInfo: state.auth.userInfo,\r\n    logged: state.auth.logged,\r\n    error: state.auth.error\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        initializeInput: () => {\r\n            dispatch(authActions.initializeInput());\r\n        },\r\n        changeInput: ({ name, value }) => {\r\n            dispatch(authActions.changeInput({ name, value }));\r\n        },\r\n        initializeError: () => {\r\n            dispatch(authActions.initializeError());\r\n        },\r\n        login: () => {\r\n            dispatch(authActions.login());\r\n        }\r\n    };\r\n};\r\n  \r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(Signin);\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from 'react-router-dom'\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport ServiceMenu from './serviceMenu/ServiceMenu'\r\nimport Signup from './signup/Signup'\r\nimport Signin from './signup/Signin'\r\nimport { API_HOST, getAuthUserInfo } from './GameAPI';\r\n\r\nimport './Header.css';\r\n\r\nimport * as authActions from \"./store/modules/auth\";\r\n\r\nexport class Header extends Component {\r\n\tstatic contextTypes = {\r\n\t\trouter: PropTypes.object\r\n\t}\r\n\t\r\n\tstate = {\r\n\t\tvisibleSignupPopup: false,\r\n\t\tvisibleSigninPopup: false,\r\n\t\tvisibleServiceMenu: false,\r\n\t\tvisibleWarningPopup: true,\r\n\t\tsearch: '',\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.checkUser();\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tconst { logged, needed, needLogin } = this.props;\r\n\t\tif(!logged && needed) {\r\n\t\t\tthis.handleOpenSignin();\r\n\t\t\tneedLogin(false);\r\n\t\t}\r\n\t}\r\n\r\n\thandleSignout = () => {\r\n\t\tthis.props.logout();\r\n\t}\r\n\r\n\thandleOpenSignup = () => {\r\n\t\tthis.redirectLandingMap();\r\n\t\tthis.setState({ visibleSignupPopup: true });\r\n\t}\r\n\r\n\thandleCloseSignup = () => {\r\n\t\tthis.setState({ visibleSignupPopup: false });\r\n\t}\r\n\r\n\thandleOpenSignin = () => {\r\n\t\tthis.setState({ visibleSigninPopup: true });\r\n\t}\r\n\r\n\thandleCloseSignin = () => {\r\n\t\tthis.setState({ visibleSigninPopup: false });\r\n\t}\r\n\r\n\thandleOpenServiceMenu = () => {\r\n\t\tthis.setState({ visibleServiceMenu: true });\r\n\t}\r\n\r\n\thandleCloseServiceMenu = () => {\r\n\t\tthis.setState({ visibleServiceMenu: false });\r\n\t}\r\n\r\n\thandleClosWarningPopup = () => {\r\n\t\tthis.setState({ visibleWarningPopup: false });\r\n\t}\r\n\r\n\thandleChange(e) {\r\n\t\tconst { name, value } = e.target;\r\n\t\tif(name === 'search') this.setState({ search: value.trim() });\r\n\t}\r\n\t\r\n\thandleKeyPress(e) {\r\n\t\tif (e.key === \"Enter\" && this.state.search !== '') {\r\n\t\t\tthis.context.router.history.push(`/search/${this.state.search}`);\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\trenderSignupPopup = () => (\r\n\t\t<Signup onClose={this.handleCloseSignup} onSignin={this.handleOpenSignin} />\r\n\t)\r\n\r\n\trenderSigninPopup = () => (\r\n\t\t<Signin onClose={this.handleCloseSignin} onSignup={this.handleOpenSignup}  />\r\n\t)\r\n\r\n\trenderServiceMenu = () => (\r\n\t\t<ServiceMenu onClose={this.handleCloseServiceMenu} />\r\n\t)\r\n\r\n\tcheckUser = () => {\r\n\t\tconst userInfo = getAuthUserInfo();\r\n\t\tif (userInfo) this.props.setUserTemp(userInfo);\r\n\t\tthis.props.checkUser();\r\n\t};\r\n\r\n\tredirectLandingMap = () => {\r\n\t\tif(API_HOST === '') return;\r\n\t\twindow.location = 'https://www.playgroundz.net?siteMap=0';\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (!getAuthUserInfo()) {\r\n\t\t\tthis.redirectLandingMap();\r\n\t\t}\r\n\r\n\t\tconst { logged, userInfo } = this.props;\r\n\t\treturn (\r\n\t\t\t<div className=\"header\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"logo vertical-center\">\r\n\t\t\t\t\t\t<Link to={'/'}><img src={'/eyeq-pages/images/playgroundz_logo.svg'} alt='Playgroundz' /></Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"search vertical-center\">\r\n\t\t\t\t\t\t<img src={'/eyeq-pages/images/search.svg'} />\r\n\t\t\t\t\t\t<input type=\"search\" name=\"search\" placeholder=\"Search\" onChange={this.handleChange.bind(this)} onKeyPress={this.handleKeyPress.bind(this)} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"menu horizontal-direction\" style={{width: logged ? '160px' : '280px'}}>\r\n\t\t\t\t\t\t<div className=\"service vertical-center\" onClick={this.handleOpenServiceMenu} >\r\n\t\t\t\t\t\t\t<img src={'/eyeq-pages/images/icon_service_menu.svg'} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"notification vertical-center\">\r\n\t\t\t\t\t\t\t<img src={'/eyeq-pages/images/icon_notification.svg'} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"signin_ vertical-center\" onClick={logged ? this.handleSignout : this.handleOpenSignin} >\r\n\t\t\t\t\t\t\t{logged ? <img src='/eyeq-pages/images/profile_placeholder.svg' /> : <p>Sign In</p>}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{!logged && <div className=\"signup_\" onClick={this.handleOpenSignup} ><p>Get Started</p></div>}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{this.state.visibleServiceMenu && this.renderServiceMenu()}\r\n\t\t\t\t{this.state.visibleSignupPopup && this.renderSignupPopup()}\r\n\t\t\t\t{this.state.visibleSigninPopup && this.renderSigninPopup()}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tlogged: state.auth.logged,\r\n\tneeded: state.auth.needed,\r\n\tuserInfo: state.auth.userInfo\r\n});\r\n  \r\nconst mapDispatchToProps = dispatch => {\r\n\treturn {\r\n\t\tlogout: () => {\r\n\t\t\tdispatch(authActions.logout());\r\n\t\t},\r\n\t\tcheckUser: () => {\r\n\t\t\tdispatch(authActions.checkUser());\r\n\t\t},\r\n\t\tsetUserTemp: (userInfo) => {\r\n\t\t\tdispatch(authActions.setUserTemp(userInfo));\r\n\t\t},\r\n        needLogin: (needed) => {\r\n            dispatch(authActions.needLogin(needed));\r\n        }\r\n\t};\r\n};\r\n  \r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Header);","import React, { Component } from 'react';\r\nimport Main from './Main'\r\nimport Header from './Header'\r\nimport './App.css';\r\n\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Header />\r\n        <Main />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import { games, gamesEpics } from \"./games\";\r\nimport { auth, authEpics } from \"./auth\";\r\nimport { recommendation, recommendationEpics } from \"./recommendation\";\r\nimport { collection, collectionEpics } from \"./collection\";\r\nimport { combineReducers } from \"redux\";\r\nimport { combineEpics } from \"redux-observable\";\r\n\r\nexport const rootReducers = combineReducers({ games, auth, recommendation, collection });\r\nexport const rootEpics = combineEpics(\r\n    gamesEpics.getDetailGameEpic,\r\n    gamesEpics.getQueryGamesEpic,\r\n    gamesEpics.createRatingEpic,\r\n    gamesEpics.updateRatingEpic,\r\n    gamesEpics.createReviewEpic,\r\n    gamesEpics.updateReviewEpic,\r\n    authEpics.registerEpic,\r\n    authEpics.loginEpic,\r\n    authEpics.checkUserEpic,\r\n    authEpics.logoutEpic,\r\n    recommendationEpics.getQueryRecommendationEpic,\r\n    collectionEpics.getQueryCollectionEpic,\r\n);","import { createStore, applyMiddleware, compose } from \"redux\";\r\nimport { createEpicMiddleware } from \"redux-observable\";\r\n\r\nimport { rootReducers, rootEpics } from \"./modules\";\r\n\r\nconst isDevelopment = process.env.NODE_ENV === 'development';\r\nconst composeEnhancers = isDevelopment ? (window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose) : compose;\r\nconst epicMiddleware = createEpicMiddleware();\r\n\r\nexport default createStore(\r\n    rootReducers,\r\n    composeEnhancers(applyMiddleware(epicMiddleware))\r\n);\r\n\r\nepicMiddleware.run(rootEpics);","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport App from './App';\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store/configure\";\r\nimport { BrowserRouter } from 'react-router-dom'\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n\t\t<BrowserRouter basename={process.env.PUBLIC_URL}>\r\n\t\t\t<App />\r\n\t\t</BrowserRouter>\r\n    </Provider>,\r\n\tdocument.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}